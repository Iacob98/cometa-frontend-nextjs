# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è API —Ä–æ—É—Ç–æ–≤

## üü¢ –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï —Ä–æ—É—Ç—ã (—Å Supabase)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- ‚úÖ `/api/auth/login` - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ PIN –∫–æ–¥–∞–º–∏
- ‚úÖ `/api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `/api/auth/skills` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

- ‚úÖ `/api/projects` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- ‚úÖ `/api/users` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ `/api/activities` - –õ–æ–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (activity_logs —Ç–∞–±–ª–∏—Ü–∞)
- ‚úÖ `/api/equipment` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º —Å —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ `/api/vehicles` - –°–ª–æ–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- ‚úÖ `/api/work-entries` - –ó–∞–ø–∏—Å–∏ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ `/api/notifications` - In-app —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ `/api/transactions` - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

### –ö–æ–º–∞–Ω–¥—ã –∏ —ç–∫–∏–ø–∞–∂–∏

- ‚úÖ `/api/teams/crews` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∏–ø–∞–∂–∞–º–∏
- ‚úÖ `/api/crews` - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —ç–∫–∏–ø–∞–∂–µ–π

### –§–∏–Ω–∞–Ω—Å—ã

- ‚úÖ `/api/financial/summary` - –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- ‚úÖ `/api/dashboard/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞ (SQL –∑–∞–ø—Ä–æ—Å—ã)

### –§–∞–π–ª—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- ‚úÖ `/api/upload` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ Supabase Storage

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤

- ‚ö†Ô∏è `/api/project-preparation` - –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–º–æ–∫ –¥–∞–Ω–Ω—ã–µ)

## üî¥ –ü–û–õ–ù–û–°–¢–¨–Æ –ü–£–°–¢–´–ï —Ä–æ—É—Ç—ã (—Ç—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

- ‚ùå `/api/materials` - **–ü–£–°–¢–û–ô** (—Ç–∞–±–ª–∏—Ü–∞ materials)
- ‚ùå `/api/suppliers` - **–ü–£–°–¢–û–ô** (—Ç–∞–±–ª–∏—Ü–∞ suppliers)
- ‚ùå `/api/material-orders` - **–ü–£–°–¢–û–ô** (—Ç–∞–±–ª–∏—Ü–∞ material_orders)
- ‚ùå `/api/housing-units` - **–ü–£–°–¢–û–ô** (—Ç–∞–±–ª–∏—Ü–∞ housing_units)
- ‚ùå `/api/documents` - **–ü–£–°–¢–û–ô** (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

### –í–∞–∂–Ω—ã–µ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π

- ‚ùå `/api/material-allocations` - **–ü–£–°–¢–û–ô** (—Ç–∞–±–ª–∏—Ü–∞ material_allocations)
- ‚ùå `/api/reports/generate` - –ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω —Å—Ç–∞—Ç—É—Å

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

- ‚ùì `/api/crews/[id]/*` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã —ç–∫–∏–ø–∞–∂–µ–π
- ‚ùì `/api/equipment/[id]/*` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- ‚ùì `/api/equipment/analytics` - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- ‚ùì `/api/equipment/assignments/*` - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
- ‚ùì `/api/materials/[id]/*` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùì `/api/materials/allocations/*` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùì `/api/materials/assignments/*` - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùì `/api/materials/orders/*` - –ó–∞–∫–∞–∑—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- ‚ùì `/api/suppliers/[id]/*` - –î–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- ‚ùì `/api/houses/*` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–∞–º–∏/–∑–¥–∞–Ω–∏—è–º–∏
- ‚ùì `/api/project-preparation/*` - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚ùì `/api/projects/[id]/*` - –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** 3/3 (100%)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** 2/2 (100%)
- **–ü—Ä–æ–µ–∫—Ç—ã:** 2/10+ (~20%)
- **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:** 0/10+ (0%)
- **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:** 1/5+ (~20%)
- **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:** 1/2 (50%)
- **–§–∏–Ω–∞–Ω—Å—ã:** 2/3 (67%)
- **–î–æ–∫—É–º–µ–Ω—Ç—ã:** 1/5+ (~20%)
- **–ö–æ–º–∞–Ω–¥—ã:** 2/5+ (~40%)

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:

- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** ~15 —Ä–æ—É—Ç–æ–≤
- ‚ùå **–¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** ~35+ —Ä–æ—É—Ç–æ–≤
- ‚ö†Ô∏è **–ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** ~3 —Ä–æ—É—Ç–∞

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: ~30% –æ—Ç —Ç—Ä–µ–±—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**

## üéØ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–∏–∑ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤):

1. **Supabase –∫–ª–∏–µ–Ω—Ç** - –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `createClient()`
2. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –°—Ç–∞–Ω–¥–∞—Ä—Ç `page`, `per_page`, `offset`
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å `.eq()`, `.ilike()`
4. **–°–≤—è–∑–∏** - `.select()` —Å join —á–µ—Ä–µ–∑ `related_table:table_name(fields)`
5. **–û—à–∏–±–∫–∏** - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å HTTP —Å—Ç–∞—Ç—É—Å–∞–º–∏
6. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

### –ü—Ä–æ–±–ª–µ–º—ã –≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ä–æ—É—Ç–∞—Ö:

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - `/api/crews` –∏ `/api/teams/crews` –¥–µ–ª–∞—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ
2. **–ù–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
3. **SQL –∏–Ω—ä–µ–∫—Ü–∏–∏** - `/api/dashboard/stats` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
4. **–ú–æ–∫ –¥–∞–Ω–Ω—ã–µ** - `/api/project-preparation` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–≥–ª—É—à–∫–∏

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### –î–ª—è –Ω–æ–≤—ã—Ö —Ä–æ—É—Ç–æ–≤:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ Supabase –∫–ª–∏–µ–Ω—Ç** (–Ω–µ –ø—Ä—è–º–æ–π SQL)
2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å **–æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**
3. –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å **–ø–∞–≥–∏–Ω–∞—Ü–∏—é –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é**
4. –î–æ–±–∞–≤–∏—Ç—å **–≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ HTTP —Å—Ç–∞—Ç—É—Å—ã**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:

1. **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã** - –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
2. **–ü–æ—Å—Ç–∞–≤—â–∏–∫–∏** - –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
3. **–ó–∞–∫–∞–∑—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** - –∫—Ä–∏—Ç–∏—á–Ω—ã–π –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å
4. **–î–æ–∫—É–º–µ–Ω—Ç—ã** - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –ª–µ–≥–∞–ª—å–Ω–æ—Å—Ç–∏
5. **–ñ–∏–ª–∏—â–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã** - –≤–∞–∂–Ω—ã –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Ä–∞–±–æ—á–∏—Ö

---

_–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞: 2025-01-26_
_–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: 25+_
_–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ç–∞–±–ª–∏—Ü –ë–î: 50+_
