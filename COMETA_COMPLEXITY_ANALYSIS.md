# üèóÔ∏è COMETA - –ê–Ω–∞–ª–∏–∑ –°–ª–æ–∂–Ω–æ—Å—Ç–∏ –°–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-09-30
**–í–µ—Ä—Å–∏—è:** 1.0
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –ø–ª–∞–Ω–∞–º–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìä –ö—Ä–∞—Ç–∫–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª–æ–≤ TypeScript/React** | 676 |
| **API Routes (Next.js)** | 248 |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü—ã)** | 49 |
| **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (FastAPI)** | 7 |
| **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** | 800+ |
| **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** | 6 (admin, pm, foreman, crew, worker, viewer) |
| **–û—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π** | 15+ |

---

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ –°–∏—Å—Ç–µ–º—ã

**COMETA** ‚Äî —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –ø—Ä–æ–∫–ª–∞–¥–∫–∏ –æ–ø—Ç–æ–≤–æ–ª–æ–∫–æ–Ω–Ω—ã—Ö –∫–∞–±–µ–ª–µ–π, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è:

1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏** ‚Äî –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏** ‚Äî –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, —Ç–µ—Ö–Ω–∏–∫–∞, –ø–µ—Ä—Å–æ–Ω–∞–ª
3. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á–µ—Ç** ‚Äî –±—é–¥–∂–µ—Ç—ã, —Ä–∞—Å—Ö–æ–¥—ã, –∑–∞–∫–∞–∑—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. **–ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –∫–∞—Ä—Ç—ã, –º–∞—Ä—à—Ä—É—Ç—ã, GPS-—Ç—Ä–µ–∫–∏
5. **–†–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã** ‚Äî –Ω–∞—Ä—è–¥—ã, —Ç–∞–±–µ–ª–∏, —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è
6. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å** ‚Äî –¥–∞—à–±–æ—Ä–¥—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

---

## üè¢ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

### **Hybrid Architecture** (–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    FRONTEND LAYER                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Next.js 15 (Primary)     ‚îÇ  Streamlit Admin  ‚îÇ  Worker App ‚îÇ
‚îÇ  React 19, TypeScript     ‚îÇ  (Port 8501)      ‚îÇ  (8502)     ‚îÇ
‚îÇ  676 files, 248 API routes‚îÇ  Migration target ‚îÇ  Legacy     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   API GATEWAY LAYER                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ              FastAPI Gateway (Port 8080)                    ‚îÇ
‚îÇ              Microservice Router + Authentication           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  MICROSERVICES LAYER                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Auth    ‚îÇ Project ‚îÇ Work  ‚îÇ Team  ‚îÇ Material ‚îÇ Equipment  ‚îÇ
‚îÇ  :8001   ‚îÇ :8002   ‚îÇ :8003 ‚îÇ :8004 ‚îÇ :8005    ‚îÇ :8006      ‚îÇ
‚îÇ          ‚îÇ         ‚îÇ       ‚îÇ       ‚îÇ          ‚îÇ Activity   ‚îÇ
‚îÇ          ‚îÇ         ‚îÇ       ‚îÇ       ‚îÇ          ‚îÇ :8011      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     DATA LAYER                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PostgreSQL (Supabase)    ‚îÇ    Supabase Storage            ‚îÇ
‚îÇ  49 tables                ‚îÇ    Buckets: photos, docs       ‚îÇ
‚îÇ  Optimized schema         ‚îÇ    Real-time subscriptions     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üî• –£—Ä–æ–≤–µ–Ω—å –°–ª–æ–∂–Ω–æ—Å—Ç–∏: **–í–´–°–û–ö–ò–ô**

### **1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**–ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—è–º–∏:**

- ‚úÖ **Next.js 15** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (App Router, RSC, Streaming)
- ‚úÖ **FastAPI Gateway** ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ **7 –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤** ‚Äî –¥–æ–º–µ–Ω–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ **Supabase** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö + —Ö—Ä–∞–Ω–∏–ª–∏—â–µ + real-time
- ‚úÖ **Streamlit Legacy** ‚Äî 2 —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–º–∏–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É Next.js –∏ Streamlit
- –°–ª–æ–∂–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Gateway
- –ù–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏—Å—Ç–∏–Ω—ã (PostgreSQL direct + API)

---

### **2. –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö** ‚≠ê‚≠ê‚≠ê‚≠ê

**49 —Ç–∞–±–ª–∏—Ü —Å –≥–ª—É–±–æ–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π:**

```
Projects (–∫–æ—Ä–µ–Ω—å)
‚îú‚îÄ‚îÄ Cabinets (—É–∑–ª—ã —Å–≤—è–∑–∏)
‚îÇ   ‚îî‚îÄ‚îÄ Segments (—É—á–∞—Å—Ç–∫–∏ –∫–∞–±–µ–ª—è)
‚îÇ       ‚îî‚îÄ‚îÄ Cuts (—Ä–∞—Å–∫–æ–ø–∫–∏)
‚îÇ           ‚îî‚îÄ‚îÄ WorkEntries (–Ω–∞—Ä—è–¥—ã —Å GPS + —Ñ–æ—Ç–æ)
‚îú‚îÄ‚îÄ Crews (–±—Ä–∏–≥–∞–¥—ã)
‚îÇ   ‚îî‚îÄ‚îÄ CrewMembers (—É—á–∞—Å—Ç–Ω–∏–∫–∏)
‚îú‚îÄ‚îÄ MaterialAllocations (–≤—ã–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ MaterialTransactions (–¥–≤–∏–∂–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ Equipment (–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ EquipmentAssignments (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ Vehicles (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)
‚îÇ   ‚îî‚îÄ‚îÄ VehicleAssignments (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
‚îú‚îÄ‚îÄ Costs (—Ä–∞—Å—Ö–æ–¥—ã)
‚îÇ   ‚îî‚îÄ‚îÄ Transactions (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
‚îî‚îÄ‚îÄ HousingUnits (–∂–∏–ª—ã–µ –¥–æ–º–∞)
    ‚îî‚îÄ‚îÄ Facilities (–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–ª–æ–∂–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ (10+ —Å–≤—è–∑–µ–π –Ω–∞ —Ç–∞–±–ª–∏—Ü—É)
- JSON –ø–æ–ª—è –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- PostGIS –¥–ª—è –≥–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
- RLS (Row Level Security) –¥–ª—è multi-tenancy

**–ù–µ–¥–∞–≤–Ω—è—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2025-09-30):**
- –£–¥–∞–ª–µ–Ω–æ 24 –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–∞–±–ª–∏—Ü—ã (73 ‚Üí 49, -33%)
- –£–ø—Ä–æ—â–µ–Ω–∞ —Å—Ö–µ–º–∞ —Å–∫–ª–∞–¥—Å–∫–æ–≥–æ —É—á–µ—Ç–∞
- –£–±—Ä–∞–Ω–∞ legacy —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

---

### **3. Frontend –°–ª–æ–∂–Ω–æ—Å—Ç—å** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**676 TypeScript —Ñ–∞–π–ª–æ–≤:**

#### **UI/UX:**
- üé® **shadcn/ui** ‚Äî 50+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å Radix UI
- üó∫Ô∏è **Leaflet Maps** ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏
- üìä **Recharts** ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- üñºÔ∏è **Drag-and-Drop** ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, —Ñ–æ—Ç–æ
- üì± **Responsive Design** ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ

#### **State Management:**
```typescript
// Server State (React Query)
- 100+ query keys
- –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (5 –º–∏–Ω—É—Ç stale time)
- Retry —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

// Client State (Zustand)
- User preferences
- UI —Å–æ—Å—Ç–æ—è–Ω–∏—è
- Sidebar –æ—Ç–∫—Ä—ã—Ç/–∑–∞–∫—Ä—ã—Ç
```

#### **–§–æ—Ä–º—ã –∏ –í–∞–ª–∏–¥–∞—Ü–∏—è:**
- üìù **React Hook Form** ‚Äî 80+ —Ñ–æ—Ä–º
- ‚úÖ **Zod Schemas** ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üîÑ **Multi-step Forms** ‚Äî –ø–æ—à–∞–≥–æ–≤—ã–µ –≤–∏–∑–∞—Ä–¥—ã (—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –∑–∞–∫–∞–∑ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)

#### **–ü—Ä–∏–º–µ—Ä—ã —Å–ª–æ–∂–Ω—ã—Ö UI:**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (5 —à–∞–≥–æ–≤):**
   - –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   - –ì–µ–æ–¥–∞–Ω–Ω—ã–µ (–∫–∞—Ä—Ç–∞ + –ø–æ–ª–∏–≥–æ–Ω—ã)
   - –ü–ª–∞–Ω—ã (–∑–∞–≥—Ä—É–∑–∫–∞ PDF + –ø–∞—Ä—Å–∏–Ω–≥)
   - –ñ–∏–ª—ã–µ –¥–æ–º–∞ (—Ç–∞–±–ª–∏—á–Ω—ã–π –≤–≤–æ–¥)
   - –ë—é–¥–∂–µ—Ç (—Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)

2. **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã:**
   - Inventory (—Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
   - Allocations (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º)
   - Orders (–∑–∞–∫–∞–∑—ã —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏)
   - Transactions (–¥–≤–∏–∂–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤)

3. **–ù–∞—Ä—è–¥—ã (Work Entries):**
   - GPS-–ª–æ–∫–∞—Ü–∏—è (–∫–∞—Ä—Ç–∞)
   - –§–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è (–¥–æ/–ø–æ—Å–ª–µ)
   - –í—ã–±–æ—Ä crew, equipment, materials
   - –ü–æ–¥–ø–∏—Å—å –±—Ä–∏–≥–∞–¥–∏—Ä–∞ (canvas)
   - –°—Ç–∞—Ç—É—Å—ã (pending ‚Üí in_progress ‚Üí completed)

---

### **4. API Layer** ‚≠ê‚≠ê‚≠ê‚≠ê

**248 Next.js API Routes:**

#### **Endpoints –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:**
```
/api/projects/*              (40+ endpoints)
/api/work-entries/*          (30+ endpoints)
/api/materials/*             (35+ endpoints)
/api/crews/*                 (20+ endpoints)
/api/equipment/*             (15+ endpoints)
/api/vehicles/*              (12+ endpoints)
/api/financial/*             (18+ endpoints)
/api/housing-units/*         (15+ endpoints)
/api/geospatial/*            (12+ endpoints)
/api/documents/*             (10+ endpoints)
/api/auth/*                  (8 endpoints)
/api/users/*                 (10+ endpoints)
/api/notifications/*         (8 endpoints)
/api/reports/*               (15+ endpoints)
```

#### **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

```typescript
// 1. Proxy –∫ FastAPI microservices
export async function GET(request: NextRequest) {
  const response = await fetch(`${GATEWAY_URL}/api/projects`, {
    headers: { 'Authorization': `Bearer ${token}` }
  });
  return Response.json(await response.json());
}

// 2. Direct Supabase (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
export async function GET(request: NextRequest) {
  const { data, error } = await supabase
    .from('projects')
    .select('*, crew:crews(*)')
    .eq('status', 'active');
  return Response.json({ data });
}

// 3. Complex business logic
export async function POST(request: NextRequest) {
  // 1. Validate input (Zod)
  // 2. Check permissions
  // 3. Create order
  // 4. Deduct from budget
  // 5. Update inventory
  // 6. Create transaction record
  // 7. Send notification
}
```

---

### **5. Authentication & Authorization** ‚≠ê‚≠ê‚≠ê‚≠ê

**PIN-–∫–æ–¥ —Å–∏—Å—Ç–µ–º–∞ + RBAC:**

#### **–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**

| –†–æ–ª—å | –ü—Ä–∞–≤–∞ | –ü—Ä–∏–º–µ—Ä—ã |
|------|-------|---------|
| **admin** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø + –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –º–∏–≥–µ—Ä—Ü–∏—è |
| **pm** (Project Manager) | –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–æ–º, –æ—Ç—á–µ—Ç—ã | –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞—Ä—è–¥–æ–≤, —Ñ–∏–Ω–∞–Ω—Å—ã |
| **foreman** (–ë—Ä–∏–≥–∞–¥–∏—Ä) | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–æ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—Ä—è–¥–æ–≤ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤, —Ñ–æ—Ç–æ—Ñ–∏–∫—Å–∞—Ü–∏—è |
| **crew** (–†–∞–±–æ—á–∏–π) | –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞—Ä—è–¥–æ–≤, —Ñ–æ—Ç–æ, GPS | –û—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ |
| **worker** | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ crew | Legacy —Ä–æ–ª—å |
| **viewer** | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ | –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ |

#### **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// NextAuth + custom PIN provider
const authOptions: NextAuthOptions = {
  providers: [
    CredentialsProvider({
      credentials: {
        email: { type: "text" },
        pin_code: { type: "password" }
      },
      authorize: async (credentials) => {
        // Validate PIN in database
        // Return user + role
      }
    })
  ]
}

// Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
export function requireRole(allowedRoles: string[]) {
  return async (req: NextRequest) => {
    const session = await getServerSession();
    if (!allowedRoles.includes(session.user.role)) {
      return Response.json({ error: "Forbidden" }, { status: 403 });
    }
  }
}
```

---

### **6. Real-time & Notifications** ‚≠ê‚≠ê‚≠ê

**Supabase Realtime Subscriptions:**

```typescript
// Work entries updates
supabase
  .channel('work-entries-updates')
  .on('postgres_changes',
    {
      event: '*',
      schema: 'public',
      table: 'work_entries'
    },
    (payload) => {
      queryClient.invalidateQueries(['work-entries']);
      toast.info(`Work entry ${payload.new.id} updated`);
    }
  )
  .subscribe();
```

**Notifications —Å–∏—Å—Ç–µ–º–∞:**
- Document expiration warnings
- Budget threshold alerts
- Work entry status changes
- Low stock alerts

---

### **7. File Storage & Processing** ‚≠ê‚≠ê‚≠ê‚≠ê

**Supabase Storage Buckets:**

```
project-photos/          (GPS-tagged images from work entries)
work-photos/            (Before/after photos)
project-documents/      (PDF plans, contracts)
house-documents/        (Building permits, blueprints)
user-avatars/           (Profile pictures)
reports/                (Generated analytics reports)
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤:**
- üì∏ Image compression (client-side + server-side)
- üó∫Ô∏è GPS metadata extraction (EXIF)
- üìÑ PDF parsing (–ø–ª–∞–Ω—ã –∑–¥–∞–Ω–∏–π ‚Üí —Ç–∞–±–ª–∏—Ü–∞)
- üñºÔ∏è Thumbnail generation
- üì¶ ZIP –∞—Ä—Ö–∏–≤—ã (export all project files)

---

### **8. Geospatial Features** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**PostGIS + Leaflet:**

#### **–î–∞–Ω–Ω—ã–µ:**
```sql
-- Geometry —Ç–∏–ø—ã
POINT           (GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã work entries)
LINESTRING      (Cable segments, –º–∞—Ä—à—Ä—É—Ç—ã)
POLYGON         (Project boundaries, zones)
MULTIPOLYGON    (Buildings footprints)
```

#### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã (zoom, pan, layers)
- üìç Drag-and-drop –º–∞—Ä–∫–µ—Ä—ã
- ‚úèÔ∏è –†–∏—Å–æ–≤–∞–Ω–∏–µ –ø–æ–ª–∏–≥–æ–Ω–æ–≤ (project zones)
- üìè –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π (cable length)
- üß≠ –ú–∞—Ä—à—Ä—É—Ç—ã (vehicle tracking)
- üìä Heatmaps (work density)

#### **–ü—Ä–∏–º–µ—Ä —Å–ª–æ–∂–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:**
```sql
SELECT
  p.name,
  ST_Length(ST_Union(s.geometry)) as total_cable_length,
  COUNT(DISTINCT c.id) as cuts_count,
  AVG(ST_Distance(w.gps_location, c.geometry)) as avg_distance_to_work
FROM projects p
JOIN cabinets cab ON cab.project_id = p.id
JOIN segments s ON s.cabinet_id = cab.id
JOIN cuts c ON c.segment_id = s.id
LEFT JOIN work_entries w ON w.cut_id = c.id
WHERE ST_Within(p.boundary, ST_MakeEnvelope(...))
GROUP BY p.id;
```

---

### **9. Reporting & Analytics** ‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–∏–ø—ã –æ—Ç—á–µ—Ç–æ–≤:**

1. **Dashboard Statistics:**
   - Active projects count
   - Crews utilization
   - Budget vs actual spending
   - Materials inventory levels
   - Work completion rate

2. **Financial Reports:**
   - Project budget breakdown
   - Cost per kilometer (cable)
   - Material expenses by category
   - Crew labor costs
   - Monthly/yearly comparisons

3. **Work Progress:**
   - Cuts completed vs planned
   - Cable meters laid
   - Photos taken per work entry
   - Average completion time

4. **Resource Tracking:**
   - Equipment utilization
   - Vehicle fuel consumption
   - Material usage by project
   - Crew member work hours

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- üìä Recharts (Bar, Line, Pie, Area)
- üìà Trend analysis
- üóìÔ∏è –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ heatmaps
- üéØ KPI widgets

---

### **10. Testing & Quality** ‚≠ê‚≠ê‚≠ê

**Testing Stack:**

```typescript
// Unit tests (Vitest)
describe('Material allocation logic', () => {
  it('should reserve quantity from stock', () => {
    const result = allocateMaterial(materialId, quantity);
    expect(result.reserved_qty).toBe(quantity);
  });
});

// E2E tests (Playwright)
test('user can create work entry with GPS', async ({ page }) => {
  await page.goto('/dashboard/work-entries/new');
  await page.click('[data-testid="gps-picker"]');
  await page.fill('[data-testid="notes"]', 'Cable laid');
  await page.click('[data-testid="submit"]');

  await expect(page.locator('[data-testid="success-toast"]'))
    .toContainText('Work entry created');
});

// Component tests (Testing Library)
render(<MaterialAllocationForm materials={mockMaterials} />);
fireEvent.change(screen.getByLabelText('Quantity'), {
  target: { value: '10' }
});
```

**Quality Tools:**
- ‚úÖ ESLint (strict TypeScript rules)
- üé® Prettier (code formatting)
- üîç Type checking (strict mode)
- üß™ Test coverage (goal: 70%+)

---

## üì± –ü–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ –ú–æ–±–∏–ª—å–Ω–æ–µ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å** ‚≠ê‚≠ê‚≠ê‚≠ê

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ):**
- React Native / Flutter
- Offline-first architecture
- GPS tracking –≤ —Ñ–æ–Ω–µ
- –ö–∞–º–µ—Ä–∞ —Å –∫–æ–º–ø—Ä–µ—Å—Å–∏–µ–π
- Push notifications

**–ù–æ–≤—ã–µ –í—ã–∑–æ–≤—ã:**

#### **1. Offline Functionality** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

```typescript
// Local database (SQLite / Realm)
- Sync queue –¥–ª—è offline –∏–∑–º–µ–Ω–µ–Ω–∏–π
- Conflict resolution (last-write-wins / CRDT)
- Background sync –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

// –ü—Ä–∏–º–µ—Ä:
const offlineQueue = {
  workEntries: [
    { id: 'temp-1', action: 'create', data: {...}, timestamp: ... },
    { id: 'existing-id', action: 'update', data: {...}, timestamp: ... }
  ],
  photos: [
    { id: 'temp-photo-1', file: blob, workEntryId: 'temp-1' }
  ]
};

// –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏:
async function syncOfflineChanges() {
  for (const change of offlineQueue.workEntries) {
    if (change.action === 'create') {
      const result = await api.createWorkEntry(change.data);
      // Update local references
      updatePhotoReferences('temp-1', result.id);
    }
  }
}
```

#### **2. GPS & Location Services** ‚≠ê‚≠ê‚≠ê‚≠ê

```typescript
// Background tracking
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫)
- –ì–µ–æ—Ñ–µ–Ω—Å–∏–Ω–≥ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∑–æ–Ω—É –ø—Ä–æ–µ–∫—Ç–∞)
- Battery optimization (—Å–Ω–∏–∑–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∑–∞—Ä—è–¥–µ)

// Permissions:
- iOS: Location Always / When in Use
- Android: Fine Location + Background Location
```

#### **3. Camera & Media** ‚≠ê‚≠ê‚≠ê

```typescript
// Photo capture
- Native camera integration
- On-device compression (resize + quality reduction)
- EXIF metadata (GPS, timestamp)
- Preview with annotations

// Video support (future):
- Short clips (15-30 sec)
- H.264 compression
- Thumbnail extraction
```

#### **4. Push Notifications** ‚≠ê‚≠ê

```typescript
// Use cases:
- "New work entry assigned to your crew"
- "Material order delivered"
- "Budget threshold exceeded"
- "Document expiring in 3 days"

// Implementation:
- Firebase Cloud Messaging (FCM)
- Apple Push Notification Service (APNs)
- Local notifications (reminders)
```

#### **5. Platform-Specific Features** ‚≠ê‚≠ê‚≠ê

**iOS:**
- Face ID / Touch ID –¥–ª—è –≤—Ö–æ–¥–∞
- Handoff (–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –Ω–∞ iPad)
- Siri Shortcuts ("Start work entry")

**Android:**
- Fingerprint / Pattern –¥–ª—è –≤—Ö–æ–¥–∞
- Widgets (recent work entries)
- Intents (share location from Maps)

#### **6. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Web** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

```typescript
// Real-time sync challenges:
1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
2. Partial sync (—Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–Ω–µ–π)
3. Selective sync (—Ç–æ–ª—å–∫–æ –º–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã/crews)
4. Binary data (—Ñ–æ—Ç–æ) - —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
5. Network resilience (retry + exponential backoff)

// Conflict resolution:
if (localVersion.updated_at > serverVersion.updated_at) {
  // Local wins (user edited offline)
  await api.updateWorkEntry(localVersion);
} else {
  // Server wins (–¥—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–∏–ª)
  updateLocalDatabase(serverVersion);
}
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è Streamlit ‚Üí Next.js

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:**

| –ú–æ–¥—É–ª—å | Streamlit | Next.js | –°—Ç–∞—Ç—É—Å |
|--------|-----------|---------|--------|
| Projects | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Work Entries | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Materials | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Equipment | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Teams | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Financial | ‚úÖ | ‚úÖ | –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ |
| Reports | ‚úÖ | üöß | –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| User Admin | ‚úÖ | üöß | –ß–∞—Å—Ç–∏—á–Ω–æ |

**–°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:** ‚≠ê‚≠ê‚≠ê‚≠ê

- –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ 2000+ —Å—Ç—Ä–æ–∫ Python ‚Üí TypeScript
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (Streamlit state ‚Üí React Query)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ direct SQL ‚Üí API calls
- –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–±–∞)

---

## üöÄ –ò—Ç–æ–≥–æ–≤–∞—è –û—Ü–µ–Ω–∫–∞ –°–ª–æ–∂–Ω–æ—Å—Ç–∏

### **–û–±—â–∞—è –°–ª–æ–∂–Ω–æ—Å—Ç—å: 9/10** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

**–§–∞–∫—Ç–æ—Ä—ã –≤—ã—Å–æ–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:**

1. ‚úÖ **Hybrid Architecture** (Next.js + FastAPI + Streamlit legacy)
2. ‚úÖ **49 —Ç–∞–±–ª–∏—Ü** —Å –≥–ª—É–±–æ–∫–∏–º–∏ —Å–≤—è–∑—è–º–∏
3. ‚úÖ **676 —Ñ–∞–π–ª–æ–≤** —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
4. ‚úÖ **248 API endpoints**
5. ‚úÖ **Geospatial data** (PostGIS + Leaflet)
6. ‚úÖ **Real-time features** (Supabase subscriptions)
7. ‚úÖ **Complex business logic** (–±—é–¥–∂–µ—Ç—ã, –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, workflow)
8. ‚úÖ **6 —Ä–æ–ª–µ–π** —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
9. ‚úÖ **Offline-first mobile** (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
10. ‚úÖ **Multi-tenancy** –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å (Row Level Security)

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ò–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –°–∏—Å—Ç–µ–º–∞–º–∏

| –°–∏—Å—Ç–µ–º–∞ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å COMETA |
|---------|-----------|-------------------|
| **Jira** | 8/10 | COMETA —Å–ª–æ–∂–Ω–µ–µ: –¥–æ–±–∞–≤–ª–µ–Ω GIS + offline + legacy migration |
| **Trello** | 4/10 | COMETA –≤ 2x —Å–ª–æ–∂–Ω–µ–µ: –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ |
| **Asana** | 7/10 | COMETA —Å–ª–æ–∂–Ω–µ–µ: –≥–µ–æ–¥–∞–Ω–Ω—ã–µ + –º–∞—Ç–µ—Ä–∏–∞–ª—ã + —Ñ–∏–Ω–∞–Ω—Å—ã |
| **Monday.com** | 7/10 | –°–æ–ø–æ—Å—Ç–∞–≤–∏–º–æ, –Ω–æ COMETA –±–æ–ª—å—à–µ domain-specific |
| **Salesforce** | 10/10 | Salesforce —Å–ª–æ–∂–Ω–µ–µ: –±–æ–ª—å—à–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π |

**–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**

COMETA ‚Äî —ç—Ç–æ **enterprise-level** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–∑–∫–æ–π –Ω–∏—à–∏ (fiber optics construction), —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ:
- –°–ª–æ–∂–Ω–µ–µ generic PM tools (Trello, Asana)
- –ü—Ä–æ—â–µ —á–µ–º full-blown ERP (SAP, Oracle)
- –ü—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∫ **—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Jira + custom modules**

---

## üéØ –í—ã–∑–æ–≤—ã –¥–ª—è –ö–æ–º–∞–Ω–¥—ã

### **Backend Team:**
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ (–º–æ–Ω–æ–ª–∏—Ç ‚Üí modular monolith?)
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è N+1 queries
- –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Supabase Functions (serverless)

### **Frontend Team:**
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Streamlit
- Performance optimization (bundle size: 2MB+ ‚Üí <1MB)
- Accessibility (WCAG 2.1 AA compliance)

### **Mobile Team (–Ω–æ–≤–∞—è):**
- –í—ã–±–æ—Ä React Native vs Flutter
- Offline-first architecture
- GPS tracking –≤ —Ñ–æ–Ω–µ (–±–∞—Ç–∞—Ä–µ—è!)
- –§–æ—Ç–æ compression pipeline

### **DevOps:**
- CI/CD –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ (App Store + Play Store)
- E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Sentry –¥–ª—è mobile)

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ):**
1. ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Streamlit ‚Üí Next.js
2. ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å API (—É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ FastAPI ‚Üî Next.js routes)
3. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç—å E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö flows
4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (OpenAPI/Swagger)

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ):**
1. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size (code splitting)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å monitoring (Sentry + analytics)
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backups
4. ‚úÖ Multi-tenancy (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–∞–Ω–∏–π –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ):**
1. ‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (MVP —Å –±–∞–∑–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏)
2. ‚úÖ White-label (–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤)
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (1C, SAP, external APIs)
4. ‚úÖ AI features (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å—Ä–æ–∫–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤)

---

## üìö –†–µ—Å—É—Ä—Å—ã –¥–ª—è –ù–æ–≤—ã—Ö –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–í—Ä–µ–º—è onboarding: 2-4 –Ω–µ–¥–µ–ª–∏**

### **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç—å:**
1. üìÑ `CLAUDE.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
2. üìÑ `DATABASE_ANALYSIS_REPORT.md` ‚Äî —Å—Ö–µ–º–∞ –ë–î
3. üìÑ `PAGES_NAVIGATION.md` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI
4. üìÑ `TEAM_MEMBERS_*` ‚Äî –ø—Ä–∏–º–µ—Ä—ã bug fixes

### **–ü—Ä–∞–∫—Ç–∏–∫–∞:**
1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (Next.js + PostgreSQL)
2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –î–æ–±–∞–≤–∏—Ç—å work entry —Å —Ñ–æ—Ç–æ
4. –í—ã–¥–µ–ª–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω–∞ –ø—Ä–æ–µ–∫—Ç
5. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç

---

## üèÅ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**COMETA** ‚Äî —ç—Ç–æ **–≤—ã—Å–æ–∫–æ–∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** —Å:

‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–º domain (fiber optics construction)**
‚úÖ **–ì–∏–±—Ä–∏–¥–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π** (modern + legacy)
‚úÖ **–ë–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é** (15+ –º–æ–¥—É–ª–µ–π)
‚úÖ **–ì–µ–æ–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** (PostGIS)
‚úÖ **–ü–ª–∞–Ω–∞–º–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (offline-first)

**–û—Ü–µ–Ω–∫–∞:** 9/10 –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

–≠—Ç–æ **–Ω–µ —Å—Ç–∞—Ä—Ç–∞–ø MVP**, –∞ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π enterprise –ø—Ä–æ–¥—É–∫—Ç** —Å –≥–æ–¥–∞–º–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è **–ø–æ–≤—ã—Å–∏—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–æ 10/10**, —Ç–∞–∫ –∫–∞–∫:
- Offline sync ‚Äî –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞
- GPS tracking –≤ —Ñ–æ–Ω–µ ‚Äî –±–∞—Ç–∞—Ä–µ—è –∏ permissions
- –î–≤–æ–π–Ω–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ (web + mobile)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ mobile (MVP ‚Üí full feature parity), —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (work entries, GPS, photos).

---

**–ê–≤—Ç–æ—Ä –∞–Ω–∞–ª–∏–∑–∞:** Claude Code
**–ö–æ–Ω—Ç–∞–∫—Ç:** github.com/anthropics/claude-code
