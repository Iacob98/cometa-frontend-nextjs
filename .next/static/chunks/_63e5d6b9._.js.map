{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/maps/map-base.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { ReactNode, useEffect, useRef } from \"react\";\nimport { MapContainer, TileLayer, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { cn } from \"@/lib/utils\";\n\n// Fix for default markers\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"/leaflet/marker-icon-2x.png\",\n  iconUrl: \"/leaflet/marker-icon.png\",\n  shadowUrl: \"/leaflet/marker-shadow.png\",\n});\n\ninterface MapBaseProps {\n  center?: [number, number];\n  zoom?: number;\n  className?: string;\n  children?: ReactNode;\n  onMapReady?: (map: L.Map) => void;\n  height?: string;\n  width?: string;\n}\n\n// Component to get map instance and pass it to parent\nfunction MapInstanceProvider({ onMapReady }: { onMapReady?: (map: L.Map) => void }) {\n  const map = useMap();\n\n  useEffect(() => {\n    if (onMapReady) {\n      onMapReady(map);\n    }\n  }, [map, onMapReady]);\n\n  return null;\n}\n\nexport function MapBase({\n  center = [52.52, 13.405], // Default to Berlin\n  zoom = 13,\n  className,\n  children,\n  onMapReady,\n  height = \"400px\",\n  width = \"100%\",\n}: MapBaseProps) {\n  const mapRef = useRef<L.Map | null>(null);\n\n  return (\n    <div\n      className={cn(\"relative overflow-hidden rounded-lg border\", className)}\n      style={{ height, width }}\n    >\n      <MapContainer\n        center={center}\n        zoom={zoom}\n        style={{ height: \"100%\", width: \"100%\" }}\n        ref={mapRef}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {onMapReady && <MapInstanceProvider onMapReady={onMapReady} />}\n        {children}\n      </MapContainer>\n    </div>\n  );\n}\n\nexport default MapBase;"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;;;AANA;;;;;;AAQA,0BAA0B;AAC1B,OAAO,AAAC,+JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAS,WAAW;AACpD,+JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;IAC1B,eAAe;IACf,SAAS;IACT,WAAW;AACb;AAYA,sDAAsD;AACtD,SAAS,oBAAoB,KAAqD;QAArD,EAAE,UAAU,EAAyC,GAArD;;IAC3B,MAAM,MAAM,IAAA,6JAAM;IAElB,IAAA,0KAAS;yCAAC;YACR,IAAI,YAAY;gBACd,WAAW;YACb;QACF;wCAAG;QAAC;QAAK;KAAW;IAEpB,OAAO;AACT;GAVS;;QACK,6JAAM;;;KADX;AAYF,SAAS,QAAQ,KAQT;QARS,EACtB,SAAS;QAAC;QAAO;KAAO,EACxB,OAAO,EAAE,EACT,SAAS,EACT,QAAQ,EACR,UAAU,EACV,SAAS,OAAO,EAChB,QAAQ,MAAM,EACD,GARS;;IAStB,MAAM,SAAS,IAAA,uKAAM,EAAe;IAEpC,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,8CAA8C;QAC5D,OAAO;YAAE;YAAQ;QAAM;kBAEvB,cAAA,6LAAC,0KAAY;YACX,QAAQ;YACR,MAAM;YACN,OAAO;gBAAE,QAAQ;gBAAQ,OAAO;YAAO;YACvC,KAAK;;8BAEL,6LAAC,oKAAS;oBACR,aAAY;oBACZ,KAAI;;;;;;gBAEL,4BAAc,6LAAC;oBAAoB,YAAY;;;;;;gBAC/C;;;;;;;;;;;;AAIT;IA/BgB;MAAA;uCAiCD","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/node_modules/react-leaflet/lib/MapContainer.js"],"sourcesContent":["import { LeafletContext, createLeafletContext } from '@react-leaflet/core';\nimport { Map as LeafletMap } from 'leaflet';\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nfunction MapContainerComponent({ bounds, boundsOptions, center, children, className, id, placeholder, style, whenReady, zoom, ...options }, forwardedRef) {\n    const [props] = useState({\n        className,\n        id,\n        style\n    });\n    const [context, setContext] = useState(null);\n    const mapInstanceRef = useRef(undefined);\n    useImperativeHandle(forwardedRef, ()=>context?.map ?? null, [\n        context\n    ]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: ref callback\n    const mapRef = useCallback((node)=>{\n        if (node !== null && !mapInstanceRef.current) {\n            const map = new LeafletMap(node, options);\n            mapInstanceRef.current = map;\n            if (center != null && zoom != null) {\n                map.setView(center, zoom);\n            } else if (bounds != null) {\n                map.fitBounds(bounds, boundsOptions);\n            }\n            if (whenReady != null) {\n                map.whenReady(whenReady);\n            }\n            setContext(createLeafletContext(map));\n        }\n    }, []);\n    useEffect(()=>{\n        return ()=>{\n            context?.map.remove();\n        };\n    }, [\n        context\n    ]);\n    const contents = context ? /*#__PURE__*/ React.createElement(LeafletContext, {\n        value: context\n    }, children) : placeholder ?? null;\n    return /*#__PURE__*/ React.createElement(\"div\", {\n        ...props,\n        ref: mapRef\n    }, contents);\n}\nexport const MapContainer = /*#__PURE__*/ forwardRef(MapContainerComponent);\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AACA,SAAS,sBAAsB,KAA2G,EAAE,YAAY;QAAzH,EAAE,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,SAAS,GAA3G;IAC3B,MAAM,CAAC,MAAM,GAAG,IAAA,yKAAQ,EAAC;QACrB;QACA;QACA;IACJ;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,iBAAiB,IAAA,uKAAM,EAAC;IAC9B,IAAA,oLAAmB,EAAC;qDAAc;gBAAI;mBAAA,CAAA,eAAA,oBAAA,8BAAA,QAAS,GAAG,cAAZ,0BAAA,eAAgB;;oDAAM;QACxD;KACH;IACD,wEAAwE;IACxE,MAAM,SAAS,IAAA,4KAAW;qDAAC,CAAC;YACxB,IAAI,SAAS,QAAQ,CAAC,eAAe,OAAO,EAAE;gBAC1C,MAAM,MAAM,IAAI,2JAAU,CAAC,MAAM;gBACjC,eAAe,OAAO,GAAG;gBACzB,IAAI,UAAU,QAAQ,QAAQ,MAAM;oBAChC,IAAI,OAAO,CAAC,QAAQ;gBACxB,OAAO,IAAI,UAAU,MAAM;oBACvB,IAAI,SAAS,CAAC,QAAQ;gBAC1B;gBACA,IAAI,aAAa,MAAM;oBACnB,IAAI,SAAS,CAAC;gBAClB;gBACA,WAAW,IAAA,uLAAoB,EAAC;YACpC;QACJ;oDAAG,EAAE;IACL,IAAA,0KAAS;2CAAC;YACN;mDAAO;oBACH,oBAAA,8BAAA,QAAS,GAAG,CAAC,MAAM;gBACvB;;QACJ;0CAAG;QACC;KACH;IACD,MAAM,WAAW,UAAU,WAAW,GAAG,wKAAK,CAAC,aAAa,CAAC,iLAAc,EAAE;QACzE,OAAO;IACX,GAAG,YAAY,wBAAA,yBAAA,cAAe;IAC9B,OAAO,WAAW,GAAG,wKAAK,CAAC,aAAa,CAAC,OAAO;QAC5C,GAAG,KAAK;QACR,KAAK;IACT,GAAG;AACP;AACO,MAAM,eAAe,WAAW,GAAG,IAAA,2KAAU,EAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/node_modules/react-leaflet/lib/hooks.js"],"sourcesContent":["import { useLeafletContext } from '@react-leaflet/core';\nimport { useEffect } from 'react';\nexport function useMap() {\n    return useLeafletContext().map;\n}\nexport function useMapEvent(type, handler) {\n    const map = useMap();\n    useEffect(function addMapEventHandler() {\n        // @ts-ignore event type\n        map.on(type, handler);\n        return function removeMapEventHandler() {\n            // @ts-ignore event type\n            map.off(type, handler);\n        };\n    }, [\n        map,\n        type,\n        handler\n    ]);\n    return map;\n}\nexport function useMapEvents(handlers) {\n    const map = useMap();\n    useEffect(function addMapEventHandlers() {\n        map.on(handlers);\n        return function removeMapEventHandlers() {\n            map.off(handlers);\n        };\n    }, [\n        map,\n        handlers\n    ]);\n    return map;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AACO,SAAS;IACZ,OAAO,IAAA,oLAAiB,IAAG,GAAG;AAClC;AACO,SAAS,YAAY,IAAI,EAAE,OAAO;IACrC,MAAM,MAAM;IACZ,IAAA,0KAAS,EAAC,SAAS;QACf,wBAAwB;QACxB,IAAI,EAAE,CAAC,MAAM;QACb,OAAO,SAAS;YACZ,wBAAwB;YACxB,IAAI,GAAG,CAAC,MAAM;QAClB;IACJ,GAAG;QACC;QACA;QACA;KACH;IACD,OAAO;AACX;AACO,SAAS,aAAa,QAAQ;IACjC,MAAM,MAAM;IACZ,IAAA,0KAAS,EAAC,SAAS;QACf,IAAI,EAAE,CAAC;QACP,OAAO,SAAS;YACZ,IAAI,GAAG,CAAC;QACZ;IACJ,GAAG;QACC;QACA;KACH;IACD,OAAO;AACX","ignoreList":[0],"debugId":null}}]
}