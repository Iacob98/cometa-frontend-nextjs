(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";e.s(["ArrowLeft",()=>r],71689);let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56909,e=>{"use strict";e.s(["Save",()=>r],56909);let r=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},95116,e=>{"use strict";e.s(["Wrench",()=>r],95116);let r=(0,e.i(75254).default)("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]])},57428,e=>{"use strict";e.s(["Checkbox",()=>S],57428);var r=e.i(43476),t=e.i(71645),a=e.i(20783),n=e.i(30030),s=e.i(81140),i=e.i(69340),l=e.i(99682),o=e.i(35804),c=e.i(96626),d=e.i(48425),u="Checkbox",[m,h]=(0,n.createContextScope)(u),[p,x]=m(u);function j(e){let{__scopeCheckbox:a,checked:n,children:s,defaultChecked:l,disabled:o,form:c,name:d,onCheckedChange:m,required:h,value:x="on",internal_do_not_use_render:j}=e,[f,v]=(0,i.useControllableState)({prop:n,defaultProp:null!=l&&l,onChange:m,caller:u}),[b,g]=t.useState(null),[y,F]=t.useState(null),C=t.useRef(!1),w=!b||!!c||!!b.closest("form"),k={checked:f,disabled:o,setChecked:v,control:b,setControl:g,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:C,required:h,defaultChecked:!_(l)&&l,isFormControl:w,bubbleInput:y,setBubbleInput:F};return(0,r.jsx)(p,{scope:a,...k,children:"function"==typeof j?j(k):s})}var f="CheckboxTrigger",v=t.forwardRef((e,n)=>{let{__scopeCheckbox:i,onKeyDown:l,onClick:o,...c}=e,{control:u,value:m,disabled:h,checked:p,required:j,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:F}=x(f,i),C=(0,a.useComposedRefs)(n,v),k=t.useRef(p);return t.useEffect(()=>{let e=null==u?void 0:u.form;if(e){let r=()=>b(k.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,b]),(0,r.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":_(p)?"mixed":p,"aria-required":j,"data-state":w(p),"data-disabled":h?"":void 0,disabled:h,value:m,...c,ref:C,onKeyDown:(0,s.composeEventHandlers)(l,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,s.composeEventHandlers)(o,e=>{b(e=>!!_(e)||!e),F&&y&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});v.displayName=f;var b=t.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:n,checked:s,defaultChecked:i,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...m}=e;return(0,r.jsx)(j,{__scopeCheckbox:a,checked:s,defaultChecked:i,disabled:o,required:l,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:e=>{let{isFormControl:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{...m,ref:t,__scopeCheckbox:a}),n&&(0,r.jsx)(C,{__scopeCheckbox:a})]})}})});b.displayName=u;var g="CheckboxIndicator",y=t.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:n,...s}=e,i=x(g,a);return(0,r.jsx)(c.Presence,{present:n||_(i.checked)||!0===i.checked,children:(0,r.jsx)(d.Primitive.span,{"data-state":w(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=g;var F="CheckboxBubbleInput",C=t.forwardRef((e,n)=>{let{__scopeCheckbox:s,...i}=e,{control:c,hasConsumerStoppedPropagationRef:u,checked:m,defaultChecked:h,required:p,disabled:j,name:f,value:v,form:b,bubbleInput:g,setBubbleInput:y}=x(F,s),C=(0,a.useComposedRefs)(n,y),w=(0,l.usePrevious)(m),k=(0,o.useSize)(c);t.useEffect(()=>{if(!g)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,r=!u.current;if(w!==m&&e){let t=new Event("click",{bubbles:r});g.indeterminate=_(m),e.call(g,!_(m)&&m),g.dispatchEvent(t)}},[g,w,m,u]);let N=t.useRef(!_(m)&&m);return(0,r.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=h?h:N.current,required:p,disabled:j,name:f,value:v,form:b,...i,tabIndex:-1,ref:C,style:{...i.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function _(e){return"indeterminate"===e}function w(e){return _(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=F;var k=e.i(43531),N=e.i(75157);let S=t.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(b,{ref:t,className:(0,N.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...n,children:(0,r.jsx)(y,{className:(0,N.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(k.Check,{className:"h-4 w-4"})})})});S.displayName=b.displayName},31278,e=>{"use strict";e.s(["Loader2",()=>r],31278);let r=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},72436,e=>{"use strict";e.s(["Separator",()=>o],72436);var r=e.i(43476),t=e.i(71645),a=e.i(48425),n="horizontal",s=["horizontal","vertical"],i=t.forwardRef((e,t)=>{var i;let{decorative:l,orientation:o=n,...c}=e,d=(i=o,s.includes(i))?o:n;return(0,r.jsx)(a.Primitive.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:t})});i.displayName="Separator";var l=e.i(75157);let o=t.forwardRef((e,t)=>{let{className:a,orientation:n="horizontal",decorative:s=!0,...o}=e;return(0,r.jsx)(i,{ref:t,decorative:s,orientation:n,className:(0,l.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a),...o})});o.displayName=i.displayName},18330,e=>{"use strict";e.s(["default",()=>_]);var r=e.i(43476),t=e.i(94814),a=e.i(53145),n=e.i(81307),s=e.i(71645),i=e.i(18566),l=e.i(71689),o=e.i(56909),c=e.i(31278),d=e.i(12426),u=e.i(95116),m=e.i(46696),h=e.i(19455),p=e.i(3133),x=e.i(93479),j=e.i(67489),f=e.i(15288),v=e.i(72436),b=e.i(77572),g=e.i(57428);let y=n.z.object({name:n.z.string().min(2,{message:"Equipment name must be at least 2 characters."}).max(100,{message:"Equipment name must not exceed 100 characters."}),type:n.z.enum(["machine","tool","measuring_device"]),inventory_no:n.z.string().optional(),owned:n.z.boolean().default(!0),status:n.z.enum(["available","in_use","maintenance","broken"]).default("available"),purchase_price_eur:n.z.string().optional().transform(e=>e?parseFloat(e):void 0),rental_price_per_day_eur:n.z.string().optional().transform(e=>e?parseFloat(e):void 0),rental_price_per_hour_eur:n.z.string().optional().transform(e=>e?parseFloat(e):void 0),current_location:n.z.string().optional()}),F=[{value:"machine",label:"Machine",icon:(0,r.jsx)(u.Wrench,{className:"h-4 w-4"})},{value:"tool",label:"Tool",icon:(0,r.jsx)(u.Wrench,{className:"h-4 w-4"})},{value:"measuring_device",label:"Measuring Device",icon:(0,r.jsx)(u.Wrench,{className:"h-4 w-4"})}],C=[{value:"available",label:"Available"},{value:"in_use",label:"In Use"},{value:"maintenance",label:"Under Maintenance"},{value:"broken",label:"Broken/Out of Service"}];function _(){let e=(0,i.useRouter)(),[n,_]=(0,s.useState)(!1),w=(0,a.useForm)({resolver:(0,t.zodResolver)(y),defaultValues:{name:"",type:"tool",inventory_no:"",owned:!0,status:"available",current_location:""}});async function k(r){_(!0);try{let t={name:r.name,type:r.type,inventory_no:r.inventory_no||void 0,owned:r.owned,status:r.status,purchase_price_eur:r.purchase_price_eur,rental_price_per_day_eur:r.rental_price_per_day_eur,rental_price_per_hour_eur:r.rental_price_per_hour_eur,current_location:r.current_location||void 0},a=await fetch("/api/equipment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create equipment")}await a.json(),m.toast.success("Equipment created successfully!"),e.push("/dashboard/equipment")}catch(e){console.error("Equipment creation error:",e),m.toast.error(e instanceof Error?e.message:"Failed to create equipment")}finally{_(!1)}}return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"flex items-center",children:[(0,r.jsx)(l.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Add New Equipment"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Create a new equipment or vehicle entry for your fleet management"})]})]})}),(0,r.jsx)(v.Separator,{}),(0,r.jsx)("div",{className:"max-w-4xl",children:(0,r.jsx)(p.Form,{...w,children:(0,r.jsxs)("form",{onSubmit:w.handleSubmit(k),className:"space-y-8",children:[(0,r.jsxs)(b.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,r.jsxs)(b.TabsList,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(b.TabsTrigger,{value:"basic",children:"Basic Information"}),(0,r.jsx)(b.TabsTrigger,{value:"financial",children:"Financial Details"})]}),(0,r.jsx)(b.TabsContent,{value:"basic",className:"space-y-6",children:(0,r.jsxs)(f.Card,{children:[(0,r.jsxs)(f.CardHeader,{children:[(0,r.jsxs)(f.CardTitle,{className:"flex items-center",children:[(0,r.jsx)(u.Wrench,{className:"h-5 w-5 mr-2"}),"Equipment Details"]}),(0,r.jsx)(f.CardDescription,{children:"Enter the basic information about the equipment"})]}),(0,r.jsx)(f.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(p.FormField,{control:w.control,name:"name",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Equipment Name *"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{placeholder:"e.g. Hydraulic Excavator CAT 320",...t})}),(0,r.jsx)(p.FormDescription,{children:"A descriptive name for the equipment"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"type",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Equipment Type *"}),(0,r.jsxs)(j.Select,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(j.SelectTrigger,{children:(0,r.jsx)(j.SelectValue,{placeholder:"Select equipment type"})})}),(0,r.jsx)(j.SelectContent,{children:F.map(e=>(0,r.jsx)(j.SelectItem,{value:e.value,children:(0,r.jsxs)("div",{className:"flex items-center",children:[e.icon,(0,r.jsx)("span",{className:"ml-2",children:e.label})]})},e.value))})]}),(0,r.jsx)(p.FormDescription,{children:"Select the type of equipment"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"inventory_no",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Inventory Number"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{placeholder:"e.g. EQ-001, TOOL-123",...t})}),(0,r.jsx)(p.FormDescription,{children:"Unique identifier for tracking"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"status",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Status"}),(0,r.jsxs)(j.Select,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(j.SelectTrigger,{children:(0,r.jsx)(j.SelectValue,{placeholder:"Select status"})})}),(0,r.jsx)(j.SelectContent,{children:C.map(e=>(0,r.jsx)(j.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,r.jsx)(p.FormDescription,{children:"Current operational status"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"current_location",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Current Location"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{placeholder:"e.g. Warehouse A, Site B",...t})}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"owned",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(g.Checkbox,{checked:t.value,onCheckedChange:t.onChange})}),(0,r.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,r.jsx)(p.FormLabel,{children:"Company Owned Equipment"}),(0,r.jsx)(p.FormDescription,{children:"Check if this equipment is owned by the company (vs. rented)"})]}),(0,r.jsx)(p.FormMessage,{})]})}})]})})]})}),(0,r.jsx)(b.TabsContent,{value:"financial",className:"space-y-6",children:(0,r.jsxs)(f.Card,{children:[(0,r.jsxs)(f.CardHeader,{children:[(0,r.jsxs)(f.CardTitle,{className:"flex items-center",children:[(0,r.jsx)(d.DollarSign,{className:"h-5 w-5 mr-2"}),"Financial Information"]}),(0,r.jsx)(f.CardDescription,{children:"Set purchase cost and rental rates for the equipment"})]}),(0,r.jsx)(f.CardContent,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(p.FormField,{control:w.control,name:"purchase_price_eur",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Purchase Price (€)"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{type:"number",step:"0.01",placeholder:"0.00",...t})}),(0,r.jsx)(p.FormDescription,{children:"Original purchase cost in euros"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)("div",{}),(0,r.jsx)(p.FormField,{control:w.control,name:"rental_price_per_day_eur",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Daily Rental Rate (€)"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{type:"number",step:"0.01",placeholder:"0.00",...t})}),(0,r.jsx)(p.FormDescription,{children:"Rate charged per day when renting to projects"}),(0,r.jsx)(p.FormMessage,{})]})}}),(0,r.jsx)(p.FormField,{control:w.control,name:"rental_price_per_hour_eur",render:e=>{let{field:t}=e;return(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Hourly Rental Rate (€)"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(x.Input,{type:"number",step:"0.01",placeholder:"0.00",...t})}),(0,r.jsx)(p.FormDescription,{children:"Rate charged per hour when renting to projects"}),(0,r.jsx)(p.FormMessage,{})]})}})]})})]})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-4 pt-6",children:[(0,r.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:n,children:"Cancel"}),(0,r.jsx)(h.Button,{type:"submit",disabled:n,children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Save,{className:"h-4 w-4 mr-2"}),"Create Equipment"]})})]})]})})})]})}}]);