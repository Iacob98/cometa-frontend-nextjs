{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe;QAAC,EACpB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe;QAAC,EACpB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 621, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,2KAAgB,MAGjC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,qLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,yLAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,uLAA0B;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,qLAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,2KAAgB,CAGhC,QAAoD;QAAnD,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO;yBAClD,6LAAC,oMAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gMAAmC;YAAC,WAAU;;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,oMAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 781, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-notifications.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport {\n  notificationsApi,\n  notificationPreferencesApi,\n  notificationTemplatesApi,\n  wsApi,\n  type Notification,\n  type NotificationFilters,\n  type CreateNotificationRequest,\n  type NotificationPreferences,\n  type UpdateNotificationPreferencesRequest,\n  type NotificationTemplate,\n  type WebSocketMessage,\n  type RealtimeEvent,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const notificationKeys = {\n  all: [\"notifications\"] as const,\n  lists: () => [...notificationKeys.all, \"list\"] as const,\n  list: (filters: NotificationFilters) => [...notificationKeys.lists(), filters] as const,\n  details: () => [...notificationKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...notificationKeys.details(), id] as const,\n  unreadCount: (userId: string) => [...notificationKeys.all, \"unread-count\", userId] as const,\n  preferences: (userId: string) => [...notificationKeys.all, \"preferences\", userId] as const,\n  templates: () => [...notificationKeys.all, \"templates\"] as const,\n};\n\n// Notification Hooks\nexport function useNotifications(filters?: NotificationFilters) {\n  return useQuery({\n    queryKey: notificationKeys.list(filters || {}),\n    queryFn: () => notificationsApi.getNotifications(filters),\n    staleTime: 30 * 1000, // 30 seconds - notifications need to be fresh\n  });\n}\n\nexport function useNotification(id: string) {\n  return useQuery({\n    queryKey: notificationKeys.detail(id),\n    queryFn: () => notificationsApi.getNotification(id),\n    enabled: !!id,\n    staleTime: 30 * 1000,\n  });\n}\n\nexport function useUnreadNotificationCount(userId: string) {\n  return useQuery({\n    queryKey: notificationKeys.unreadCount(userId),\n    queryFn: () => notificationsApi.getUnreadCount(userId),\n    enabled: !!userId,\n    refetchInterval: 30 * 1000, // Auto-refresh every 30 seconds\n    staleTime: 0, // Always consider stale for real-time feel\n  });\n}\n\nexport function useCreateNotification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateNotificationRequest) => notificationsApi.createNotification(data),\n    onSuccess: (newNotification) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({\n        queryKey: notificationKeys.unreadCount(newNotification.user_id)\n      });\n      queryClient.setQueryData(notificationKeys.detail(newNotification.id), newNotification);\n\n      // Show toast for high priority notifications\n      if (newNotification.priority === \"high\" || newNotification.priority === \"urgent\") {\n        toast.info(newNotification.title, {\n          description: newNotification.body,\n        });\n      }\n    },\n    onError: (error) => {\n      toast.error(`Failed to create notification: ${error.message}`);\n    },\n  });\n}\n\nexport function useMarkNotificationAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => notificationsApi.markAsRead(id),\n    onMutate: async (id) => {\n      await queryClient.cancelQueries({ queryKey: notificationKeys.detail(id) });\n      const previousNotification = queryClient.getQueryData(notificationKeys.detail(id));\n\n      queryClient.setQueryData(notificationKeys.detail(id), (old: Notification | undefined) => {\n        if (!old) return old;\n        return { ...old, read_at: new Date().toISOString() };\n      });\n\n      return { previousNotification };\n    },\n    onError: (error, id, context) => {\n      if (context?.previousNotification) {\n        queryClient.setQueryData(notificationKeys.detail(id), context.previousNotification);\n      }\n      toast.error(`Failed to mark notification as read: ${error.message}`);\n    },\n    onSuccess: (updatedNotification) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({\n        queryKey: notificationKeys.unreadCount(updatedNotification.user_id)\n      });\n    },\n    onSettled: (data, error, id) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.detail(id) });\n    },\n  });\n}\n\nexport function useMarkAllNotificationsAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (userId: string) => notificationsApi.markAllAsRead(userId),\n    onSuccess: (_, userId) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.unreadCount(userId) });\n      toast.success(\"All notifications marked as read\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to mark all notifications as read: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteNotification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => notificationsApi.deleteNotification(id),\n    onSuccess: (_, deletedId) => {\n      queryClient.removeQueries({ queryKey: notificationKeys.detail(deletedId) });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.all });\n      toast.success(\"Notification deleted\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete notification: ${error.message}`);\n    },\n  });\n}\n\n// Notification Preferences Hooks\nexport function useNotificationPreferences(userId: string) {\n  return useQuery({\n    queryKey: notificationKeys.preferences(userId),\n    queryFn: () => notificationPreferencesApi.getPreferences(userId),\n    enabled: !!userId,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useUpdateNotificationPreferences() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ userId, data }: { userId: string; data: UpdateNotificationPreferencesRequest }) =>\n      notificationPreferencesApi.updatePreferences(userId, data),\n    onSuccess: (updatedPreferences) => {\n      queryClient.setQueryData(\n        notificationKeys.preferences(updatedPreferences.user_id),\n        updatedPreferences\n      );\n      toast.success(\"Notification preferences updated\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update preferences: ${error.message}`);\n    },\n  });\n}\n\n// Notification Templates Hooks\nexport function useNotificationTemplates() {\n  return useQuery({\n    queryKey: notificationKeys.templates(),\n    queryFn: () => notificationTemplatesApi.getTemplates(),\n    staleTime: 10 * 60 * 1000, // 10 minutes - templates don't change often\n  });\n}\n\nexport function useUpdateNotificationTemplate() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<NotificationTemplate> }) =>\n      notificationTemplatesApi.updateTemplate(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.templates() });\n      toast.success(\"Notification template updated\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update template: ${error.message}`);\n    },\n  });\n}\n\n// WebSocket Integration Hook\nexport function useWebSocketNotifications(userId: string, enabled = true) {\n  const queryClient = useQueryClient();\n  const reconnectAttempts = useRef(0);\n  const maxReconnectAttempts = 5;\n\n  const handleNotification = useCallback((notification: Notification) => {\n    // Update notification queries\n    queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n    queryClient.invalidateQueries({ queryKey: notificationKeys.unreadCount(userId) });\n\n    // Add to cache\n    queryClient.setQueryData(notificationKeys.detail(notification.id), notification);\n\n    // Show toast for important notifications\n    if (notification.priority === \"high\" || notification.priority === \"urgent\") {\n      toast.info(notification.title, {\n        description: notification.body,\n        action: notification.priority === \"urgent\" ? {\n          label: \"View\",\n          onClick: () => {\n            // Could navigate to notification detail or relevant page\n            console.log(\"Navigate to notification:\", notification.id);\n          }\n        } : undefined,\n      });\n    }\n  }, [queryClient, userId]);\n\n  const handleRealtimeUpdate = useCallback((event: RealtimeEvent) => {\n    // Handle real-time updates to various entities\n    switch (event.entity_type) {\n      case \"project\":\n        queryClient.invalidateQueries({ queryKey: [\"projects\"] });\n        break;\n      case \"work_entry\":\n        queryClient.invalidateQueries({ queryKey: [\"work-entries\"] });\n        break;\n      case \"material_allocation\":\n        queryClient.invalidateQueries({ queryKey: [\"material-allocations\"] });\n        break;\n      case \"house\":\n        queryClient.invalidateQueries({ queryKey: [\"houses\"] });\n        break;\n      default:\n        // Generic invalidation for unknown entity types\n        queryClient.invalidateQueries();\n    }\n\n    // Show toast for critical updates\n    if (event.type === \"status_changed\" || event.type === \"assignment_changed\") {\n      toast.info(\"Update received\", {\n        description: `${event.entity_type} has been updated`,\n      });\n    }\n  }, [queryClient]);\n\n  useEffect(() => {\n    if (!enabled || !userId) return;\n\n    const connect = async () => {\n      try {\n        await wsApi.connect(userId);\n        reconnectAttempts.current = 0;\n\n        // Subscribe to notification events\n        wsApi.subscribe(\"notification\", handleNotification);\n        wsApi.subscribe(\"realtime_update\", handleRealtimeUpdate);\n\n      } catch (error) {\n        console.error(\"WebSocket connection failed:\", error);\n\n        // Attempt to reconnect with exponential backoff\n        if (reconnectAttempts.current < maxReconnectAttempts) {\n          reconnectAttempts.current++;\n          const delay = Math.pow(2, reconnectAttempts.current) * 1000;\n\n          setTimeout(() => {\n            connect();\n          }, delay);\n        }\n      }\n    };\n\n    connect();\n\n    return () => {\n      wsApi.unsubscribe(\"notification\", handleNotification);\n      wsApi.unsubscribe(\"realtime_update\", handleRealtimeUpdate);\n      wsApi.disconnect();\n    };\n  }, [userId, enabled, handleNotification, handleRealtimeUpdate]);\n\n  return {\n    sendMessage: (type: string, data: any) => wsApi.send(type, data),\n    subscribe: (messageType: string, handler: (data: any) => void) => wsApi.subscribe(messageType, handler),\n    unsubscribe: (messageType: string, handler: (data: any) => void) => wsApi.unsubscribe(messageType, handler),\n  };\n}\n\n// Specialized hooks for common notification scenarios\nexport function useUserNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    page: 1,\n    per_page: 20,\n  });\n}\n\nexport function useUnreadNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    read: false,\n    page: 1,\n    per_page: 50,\n  });\n}\n\nexport function useUrgentNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    priority: \"urgent\",\n    read: false,\n    page: 1,\n    per_page: 10,\n  });\n}\n\nexport function useRecentNotifications(userId: string) {\n  const today = new Date();\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  return useNotifications({\n    user_id: userId,\n    created_after: yesterday.toISOString(),\n    page: 1,\n    per_page: 20,\n  });\n}\n\n// Helper hook for notification actions\nexport function useNotificationActions() {\n  const markAsRead = useMarkNotificationAsRead();\n  const markAllAsRead = useMarkAllNotificationsAsRead();\n  const deleteNotification = useDeleteNotification();\n  const createNotification = useCreateNotification();\n\n  return {\n    markAsRead: markAsRead.mutate,\n    markAllAsRead: markAllAsRead.mutate,\n    delete: deleteNotification.mutate,\n    create: createNotification.mutate,\n    isLoading: markAsRead.isPending || markAllAsRead.isPending || deleteNotification.isPending || createNotification.isPending,\n  };\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1389, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/notifications/notification-item.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { useNotificationActions } from \"@/hooks/use-notifications\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport type { Notification, NotificationPriority } from \"@/types\";\n\ninterface NotificationItemProps {\n  notification: Notification;\n  onClose?: () => void;\n}\n\nconst priorityConfig: Record<NotificationPriority, {\n  icon: React.ElementType;\n  color: string;\n  bgColor: string;\n  badgeVariant: \"default\" | \"secondary\" | \"destructive\" | \"outline\";\n}> = {\n  low: {\n    icon: Info,\n    color: \"text-blue-600\",\n    bgColor: \"bg-blue-50\",\n    badgeVariant: \"secondary\",\n  },\n  normal: {\n    icon: Info,\n    color: \"text-gray-600\",\n    bgColor: \"bg-gray-50\",\n    badgeVariant: \"outline\",\n  },\n  high: {\n    icon: AlertCircle,\n    color: \"text-orange-600\",\n    bgColor: \"bg-orange-50\",\n    badgeVariant: \"default\",\n  },\n  urgent: {\n    icon: AlertTriangle,\n    color: \"text-red-600\",\n    bgColor: \"bg-red-50\",\n    badgeVariant: \"destructive\",\n  },\n};\n\nconst getNotificationTypeLabel = (type: string): string => {\n  const typeLabels: Record<string, string> = {\n    work_entry_created: \"Work Entry Created\",\n    work_entry_approved: \"Work Entry Approved\",\n    work_entry_rejected: \"Work Entry Rejected\",\n    project_status_changed: \"Project Status Updated\",\n    project_assigned: \"Project Assigned\",\n    team_assignment_changed: \"Team Assignment\",\n    material_low_stock: \"Low Stock Alert\",\n    material_order_delivered: \"Order Delivered\",\n    house_appointment_scheduled: \"Appointment Scheduled\",\n    house_connection_completed: \"Connection Completed\",\n    budget_alert: \"Budget Alert\",\n    deadline_reminder: \"Deadline Reminder\",\n    system_maintenance: \"System Maintenance\",\n    user_mention: \"Mentioned\",\n    approval_required: \"Approval Required\",\n  };\n\n  return typeLabels[type] || type.replace(/_/g, \" \").replace(/\\b\\w/g, (l) => l.toUpperCase());\n};\n\nexport function NotificationItem({ notification, onClose }: NotificationItemProps) {\n  const { markAsRead, delete: deleteNotification } = useNotificationActions();\n\n  const config = priorityConfig[notification.priority];\n  const Icon = config.icon;\n  const isUnread = !notification.read_at;\n\n  const handleMarkAsRead = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (isUnread) {\n      markAsRead(notification.id);\n    }\n  };\n\n  const handleDelete = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    deleteNotification(notification.id);\n  };\n\n  const handleClick = () => {\n    if (isUnread) {\n      markAsRead(notification.id);\n    }\n\n    // Handle navigation based on notification type and data\n    if (notification.data) {\n      const { project_id, work_entry_id, house_id, material_id } = notification.data;\n\n      if (project_id) {\n        // Navigate to project detail\n        window.location.href = `/dashboard/projects/${project_id}`;\n      } else if (work_entry_id) {\n        // Navigate to work entry detail\n        window.location.href = `/dashboard/work-entries/${work_entry_id}`;\n      } else if (house_id) {\n        // Navigate to house detail\n        window.location.href = `/dashboard/houses/${house_id}`;\n      } else if (material_id) {\n        // Navigate to material detail\n        window.location.href = `/dashboard/materials/${material_id}`;\n      }\n    }\n\n    onClose?.();\n  };\n\n  return (\n    <div\n      className={cn(\n        \"group relative p-3 rounded-lg border transition-colors cursor-pointer hover:bg-muted/50\",\n        isUnread && \"border-l-4 border-l-primary bg-primary/5\",\n        !isUnread && \"opacity-75\"\n      )}\n      onClick={handleClick}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className={cn(\"rounded-full p-1\", config.bgColor)}>\n          <Icon className={cn(\"h-4 w-4\", config.color)} />\n        </div>\n\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between gap-2 mb-1\">\n            <Badge variant={config.badgeVariant} className=\"text-xs\">\n              {getNotificationTypeLabel(notification.type)}\n            </Badge>\n            <div className=\"flex items-center gap-1\">\n              <span className=\"text-xs text-muted-foreground\">\n                {formatDistanceToNow(new Date(notification.created_at), { addSuffix: true })}\n              </span>\n              {isUnread && (\n                <div className=\"w-2 h-2 bg-primary rounded-full\" />\n              )}\n            </div>\n          </div>\n\n          <h4 className=\"text-sm font-medium text-foreground mb-1 line-clamp-1\">\n            {notification.title}\n          </h4>\n\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n            {notification.body}\n          </p>\n\n          {/* Additional metadata */}\n          {notification.data && (\n            <div className=\"mt-2 flex flex-wrap gap-1\">\n              {notification.data.project_name && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.project_name}\n                </Badge>\n              )}\n              {notification.data.user_name && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.user_name}\n                </Badge>\n              )}\n              {notification.data.stage_code && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.stage_code}\n                </Badge>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n          {isUnread && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleMarkAsRead}\n              className=\"h-6 w-6 p-0\"\n              title=\"Mark as read\"\n            >\n              <CheckCircle className=\"h-3 w-3\" />\n            </Button>\n          )}\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleDelete}\n            className=\"h-6 w-6 p-0 text-muted-foreground hover:text-destructive\"\n            title=\"Delete notification\"\n          >\n            <X className=\"h-3 w-3\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Expiration indicator */}\n      {notification.expires_at && new Date(notification.expires_at) < new Date() && (\n        <div className=\"absolute top-1 right-1\">\n          <Badge variant=\"outline\" className=\"text-xs bg-yellow-50 text-yellow-700 border-yellow-200\">\n            Expired\n          </Badge>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1714, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6KAAqB;QACpB,WAAW,IAAA,4HAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,4HAAE,EACX;;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1759, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1800, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/form.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2031, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0TACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;;MAZnB;AAeN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;;MAZrB;AAeN,uBAAuB,WAAW,GAChC,yLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,2KAAgB,OAGpC,QAAyD;QAAxD,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO;yBACvD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,kLAAyB;QACxB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2275, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2400, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/notifications/notification-preferences.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  useNotificationPreferences,\n  useUpdateNotificationPreferences,\n} from \"@/hooks/use-notifications\";\nimport type {\n  NotificationChannel,\n  NotificationType,\n  NotificationChannelPreference,\n} from \"@/types\";\n\ninterface NotificationPreferencesProps {\n  userId: string;\n}\n\nconst notificationChannels: NotificationChannel[] = [\n  \"websocket\",\n  \"push\",\n  \"email\",\n  \"sms\",\n  \"in_app\",\n];\n\nconst notificationTypes: { type: NotificationType; label: string; description: string }[] = [\n  {\n    type: \"work_entry_created\",\n    label: \"Work Entry Created\",\n    description: \"When a new work entry is submitted\",\n  },\n  {\n    type: \"work_entry_approved\",\n    label: \"Work Entry Approved\",\n    description: \"When your work entry is approved\",\n  },\n  {\n    type: \"work_entry_rejected\",\n    label: \"Work Entry Rejected\",\n    description: \"When your work entry is rejected\",\n  },\n  {\n    type: \"project_status_changed\",\n    label: \"Project Status Changes\",\n    description: \"When project status is updated\",\n  },\n  {\n    type: \"project_assigned\",\n    label: \"Project Assignment\",\n    description: \"When you&apos;re assigned to a project\",\n  },\n  {\n    type: \"team_assignment_changed\",\n    label: \"Team Assignment\",\n    description: \"When team assignments change\",\n  },\n  {\n    type: \"material_low_stock\",\n    label: \"Low Stock Alerts\",\n    description: \"When materials are running low\",\n  },\n  {\n    type: \"material_order_delivered\",\n    label: \"Order Delivered\",\n    description: \"When material orders are delivered\",\n  },\n  {\n    type: \"house_appointment_scheduled\",\n    label: \"Appointment Scheduled\",\n    description: \"When house appointments are scheduled\",\n  },\n  {\n    type: \"house_connection_completed\",\n    label: \"Connection Completed\",\n    description: \"When house connections are completed\",\n  },\n  {\n    type: \"budget_alert\",\n    label: \"Budget Alerts\",\n    description: \"When budget thresholds are exceeded\",\n  },\n  {\n    type: \"deadline_reminder\",\n    label: \"Deadline Reminders\",\n    description: \"When project deadlines approach\",\n  },\n  {\n    type: \"system_maintenance\",\n    label: \"System Maintenance\",\n    description: \"System maintenance notifications\",\n  },\n  {\n    type: \"user_mention\",\n    label: \"User Mentions\",\n    description: \"When you&apos;re mentioned in comments\",\n  },\n  {\n    type: \"approval_required\",\n    label: \"Approval Required\",\n    description: \"When your approval is needed\",\n  },\n];\n\nconst preferencesSchema = z.object({\n  enabled_channels: z.array(z.string()).min(1, \"Select at least one channel\"),\n  notification_types: z.record(\n    z.object({\n      enabled: z.boolean(),\n      channels: z.array(z.string()),\n      frequency: z.enum([\"immediate\", \"hourly\", \"daily\", \"weekly\"]).optional(),\n    })\n  ),\n  quiet_hours_start: z.string().optional(),\n  quiet_hours_end: z.string().optional(),\n  timezone: z.string().optional(),\n  language: z.string().optional(),\n});\n\ntype PreferencesFormData = z.infer<typeof preferencesSchema>;\n\nexport function NotificationPreferences({ userId }: NotificationPreferencesProps) {\n  const { data: preferences, isLoading } = useNotificationPreferences(userId);\n  const updatePreferences = useUpdateNotificationPreferences();\n\n  const form = useForm<PreferencesFormData>({\n    resolver: zodResolver(preferencesSchema),\n    defaultValues: {\n      enabled_channels: [\"websocket\", \"in_app\"],\n      notification_types: {},\n      quiet_hours_start: \"22:00\",\n      quiet_hours_end: \"08:00\",\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      language: \"en\",\n    },\n  });\n\n  React.useEffect(() => {\n    if (preferences) {\n      form.reset({\n        enabled_channels: preferences.enabled_channels,\n        notification_types: preferences.notification_types,\n        quiet_hours_start: preferences.quiet_hours_start || \"22:00\",\n        quiet_hours_end: preferences.quiet_hours_end || \"08:00\",\n        timezone: preferences.timezone,\n        language: preferences.language,\n      });\n    }\n  }, [preferences, form]);\n\n  const onSubmit = (data: PreferencesFormData) => {\n    updatePreferences.mutate({\n      userId,\n      data: {\n        enabled_channels: data.enabled_channels as NotificationChannel[],\n        notification_types: data.notification_types as Record<\n          NotificationType,\n          NotificationChannelPreference\n        >,\n        quiet_hours_start: data.quiet_hours_start,\n        quiet_hours_end: data.quiet_hours_end,\n        timezone: data.timezone,\n        language: data.language,\n      },\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <Tabs defaultValue=\"channels\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"channels\">Channels</TabsTrigger>\n            <TabsTrigger value=\"types\">Notification Types</TabsTrigger>\n            <TabsTrigger value=\"settings\">Settings</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"channels\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Notification Channels</CardTitle>\n                <CardDescription>\n                  Choose how you want to receive notifications\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"enabled_channels\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Enabled Channels</FormLabel>\n                      <div className=\"space-y-3\">\n                        {notificationChannels.map((channel) => (\n                          <div key={channel} className=\"flex items-center space-x-2\">\n                            <Switch\n                              id={channel}\n                              checked={field.value.includes(channel)}\n                              onCheckedChange={(checked) => {\n                                if (checked) {\n                                  field.onChange([...field.value, channel]);\n                                } else {\n                                  field.onChange(\n                                    field.value.filter((c) => c !== channel)\n                                  );\n                                }\n                              }}\n                            />\n                            <Label\n                              htmlFor={channel}\n                              className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 capitalize\"\n                            >\n                              {channel.replace(\"_\", \" \")}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"types\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Notification Types</CardTitle>\n                <CardDescription>\n                  Configure which notifications you want to receive\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {notificationTypes.map(({ type, label, description }) => (\n                  <div key={type} className=\"space-y-3 p-4 border rounded-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <Label className=\"text-sm font-medium\">{label}</Label>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {description}\n                        </p>\n                      </div>\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.enabled`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormControl>\n                              <Switch\n                                checked={field.value || false}\n                                onCheckedChange={field.onChange}\n                              />\n                            </FormControl>\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.frequency`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel className=\"text-xs\">Frequency</FormLabel>\n                            <Select\n                              onValueChange={field.onChange}\n                              defaultValue={field.value || \"immediate\"}\n                            >\n                              <FormControl>\n                                <SelectTrigger className=\"h-8\">\n                                  <SelectValue placeholder=\"Select frequency\" />\n                                </SelectTrigger>\n                              </FormControl>\n                              <SelectContent>\n                                <SelectItem value=\"immediate\">Immediate</SelectItem>\n                                <SelectItem value=\"hourly\">Hourly</SelectItem>\n                                <SelectItem value=\"daily\">Daily</SelectItem>\n                                <SelectItem value=\"weekly\">Weekly</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </FormItem>\n                        )}\n                      />\n\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.channels`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel className=\"text-xs\">Channels</FormLabel>\n                            <div className=\"flex flex-wrap gap-1\">\n                              {form.watch(\"enabled_channels\").map((channel) => (\n                                <Label\n                                  key={channel}\n                                  className=\"flex items-center space-x-1 text-xs cursor-pointer\"\n                                >\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"w-3 h-3\"\n                                    checked={\n                                      field.value?.includes(channel) || false\n                                    }\n                                    onChange={(e) => {\n                                      const channels = field.value || [];\n                                      if (e.target.checked) {\n                                        field.onChange([...channels, channel]);\n                                      } else {\n                                        field.onChange(\n                                          channels.filter((c) => c !== channel)\n                                        );\n                                      }\n                                    }}\n                                  />\n                                  <span className=\"capitalize\">\n                                    {channel.replace(\"_\", \" \")}\n                                  </span>\n                                </Label>\n                              ))}\n                            </div>\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"settings\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>General Settings</CardTitle>\n                <CardDescription>\n                  Configure quiet hours and other preferences\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"quiet_hours_start\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Quiet Hours Start</FormLabel>\n                        <FormControl>\n                          <Input type=\"time\" {...field} />\n                        </FormControl>\n                        <FormDescription>\n                          No notifications during quiet hours\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"quiet_hours_end\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Quiet Hours End</FormLabel>\n                        <FormControl>\n                          <Input type=\"time\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <FormField\n                  control={form.control}\n                  name=\"timezone\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Timezone</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select timezone\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {Intl.supportedValuesOf(\"timeZone\").map((tz) => (\n                            <SelectItem key={tz} value={tz}>\n                              {tz}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"language\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Language</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select language\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          <SelectItem value=\"en\">English</SelectItem>\n                          <SelectItem value=\"ru\"></SelectItem>\n                          <SelectItem value=\"de\">Deutsch</SelectItem>\n                          <SelectItem value=\"uz\">Ozbekcha</SelectItem>\n                          <SelectItem value=\"tr\">Trke</SelectItem>\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        <div className=\"flex justify-end gap-2\">\n          <Button\n            type=\"submit\"\n            disabled={updatePreferences.isPending}\n            className=\"w-full\"\n          >\n            {updatePreferences.isPending ? \"Saving...\" : \"Save Preferences\"}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3450, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/notifications/notification-center.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Bell, Check, X, Settings, Filter } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  useUnreadNotificationCount,\n  useUserNotifications,\n  useUnreadNotifications,\n  useUrgentNotifications,\n  useNotificationActions,\n  useWebSocketNotifications,\n} from \"@/hooks/use-notifications\";\nimport { useAuth } from \"@/hooks/use-auth\";\nimport { NotificationItem } from \"./notification-item\";\nimport { NotificationPreferences } from \"./notification-preferences\";\nimport { formatDistanceToNow } from \"date-fns\";\n\nexport function NotificationCenter() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [preferencesOpen, setPreferencesOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState(\"all\");\n  const { user } = useAuth();\n\n  const { data: unreadCount } = useUnreadNotificationCount(user?.id || \"\");\n  const { data: allNotifications, isLoading: allLoading } = useUserNotifications(user?.id || \"\");\n  const { data: unreadNotifications, isLoading: unreadLoading } = useUnreadNotifications(user?.id || \"\");\n  const { data: urgentNotifications, isLoading: urgentLoading } = useUrgentNotifications(user?.id || \"\");\n\n  const { markAllAsRead, isLoading: actionLoading } = useNotificationActions();\n\n  // Enable WebSocket for real-time notifications\n  useWebSocketNotifications(user?.id || \"\", !!user?.id);\n\n  const handleMarkAllAsRead = () => {\n    if (user?.id) {\n      markAllAsRead(user.id);\n    }\n  };\n\n  const getNotificationsForTab = () => {\n    switch (activeTab) {\n      case \"unread\":\n        return { data: unreadNotifications, isLoading: unreadLoading };\n      case \"urgent\":\n        return { data: urgentNotifications, isLoading: urgentLoading };\n      default:\n        return { data: allNotifications, isLoading: allLoading };\n    }\n  };\n\n  const { data: currentNotifications, isLoading } = getNotificationsForTab();\n  const notifications = currentNotifications?.items || [];\n\n  return (\n    <>\n      <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"ghost\" size=\"sm\" className=\"relative\">\n            <Bell className=\"h-5 w-5\" />\n            {unreadCount && unreadCount.count > 0 && (\n              <Badge\n                variant=\"destructive\"\n                className=\"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs\"\n              >\n                {unreadCount.count > 99 ? \"99+\" : unreadCount.count}\n              </Badge>\n            )}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"end\" className=\"w-96\">\n          <DropdownMenuLabel className=\"flex items-center justify-between\">\n            <span>Notifications</span>\n            <div className=\"flex items-center gap-2\">\n              <Dialog open={preferencesOpen} onOpenChange={setPreferencesOpen}>\n                <DialogTrigger asChild>\n                  <Button variant=\"ghost\" size=\"sm\">\n                    <Settings className=\"h-4 w-4\" />\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-2xl\">\n                  <DialogHeader>\n                    <DialogTitle>Notification Preferences</DialogTitle>\n                    <DialogDescription>\n                      Manage how and when you receive notifications.\n                    </DialogDescription>\n                  </DialogHeader>\n                  <NotificationPreferences userId={user?.id || \"\"} />\n                </DialogContent>\n              </Dialog>\n              {unreadCount && unreadCount.count > 0 && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={handleMarkAllAsRead}\n                  disabled={actionLoading}\n                >\n                  <Check className=\"h-4 w-4\" />\n                </Button>\n              )}\n            </div>\n          </DropdownMenuLabel>\n          <DropdownMenuSeparator />\n\n          <div className=\"p-2\">\n            <Tabs value={activeTab} onValueChange={setActiveTab}>\n              <TabsList className=\"grid w-full grid-cols-3\">\n                <TabsTrigger value=\"all\" className=\"text-xs\">\n                  All\n                  {allNotifications?.total && (\n                    <Badge variant=\"secondary\" className=\"ml-1 h-4 text-xs\">\n                      {allNotifications.total}\n                    </Badge>\n                  )}\n                </TabsTrigger>\n                <TabsTrigger value=\"unread\" className=\"text-xs\">\n                  Unread\n                  {unreadCount && unreadCount.count > 0 && (\n                    <Badge variant=\"destructive\" className=\"ml-1 h-4 text-xs\">\n                      {unreadCount.count}\n                    </Badge>\n                  )}\n                </TabsTrigger>\n                <TabsTrigger value=\"urgent\" className=\"text-xs\">\n                  Urgent\n                  {urgentNotifications?.total && urgentNotifications.total > 0 && (\n                    <Badge variant=\"destructive\" className=\"ml-1 h-4 text-xs\">\n                      {urgentNotifications.total}\n                    </Badge>\n                  )}\n                </TabsTrigger>\n              </TabsList>\n\n              <TabsContent value={activeTab} className=\"mt-2\">\n                <ScrollArea className=\"h-96\">\n                  {isLoading ? (\n                    <div className=\"flex items-center justify-center py-8\">\n                      <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"></div>\n                    </div>\n                  ) : notifications.length === 0 ? (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <Bell className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                      <p className=\"text-sm\">No notifications</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-1\">\n                      {notifications.map((notification) => (\n                        <NotificationItem\n                          key={notification.id}\n                          notification={notification}\n                          onClose={() => setIsOpen(false)}\n                        />\n                      ))}\n                    </div>\n                  )}\n                </ScrollArea>\n              </TabsContent>\n            </Tabs>\n          </div>\n\n          {notifications.length > 0 && (\n            <>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem className=\"text-center justify-center\">\n                <Button variant=\"ghost\" size=\"sm\" className=\"w-full\">\n                  View All Notifications\n                </Button>\n              </DropdownMenuItem>\n            </>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3896, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/notifications/index.ts"],"sourcesContent":["export { NotificationCenter } from \"./notification-center\";\nexport { NotificationItem } from \"./notification-item\";\nexport { NotificationPreferences } from \"./notification-preferences\";"],"names":[],"mappings":";AAAA;AACA;AACA","debugId":null}},
    {"offset": {"line": 3910, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/layout/header.tsx"],"sourcesContent":["\"use client\";\n\nimport { Search, Settings, LogOut, User } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { usePermissions, useLogout } from \"@/hooks/use-auth\";\nimport { NotificationCenter } from \"@/components/notifications\";\n\nexport function Header() {\n  const { user } = usePermissions();\n  const logoutMutation = useLogout();\n\n  const handleLogout = () => {\n    logoutMutation.mutate();\n  };\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n      <div className=\"container flex h-14 items-center\">\n        {/* Logo */}\n        <div className=\"mr-4 hidden md:flex\">\n          <h1 className=\"text-lg font-bold text-primary\">COMETA</h1>\n        </div>\n\n        {/* Search */}\n        <div className=\"flex flex-1 items-center space-x-2\">\n          <div className=\"w-full max-w-sm\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search projects, work entries...\"\n                className=\"pl-8\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Right side */}\n        <div className=\"flex items-center space-x-2\">\n          {/* Notifications */}\n          <NotificationCenter />\n\n          {/* Settings */}\n          <Button variant=\"ghost\" size=\"sm\">\n            <Settings className=\"h-4 w-4\" />\n          </Button>\n\n          {/* User menu */}\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" className=\"relative h-8 w-8 rounded-full\">\n                <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n                  {user?.first_name?.[0]?.toUpperCase() || <User className=\"h-4 w-4\" />}\n                </div>\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n              <DropdownMenuLabel className=\"font-normal\">\n                <div className=\"flex flex-col space-y-1\">\n                  <p className=\"text-sm font-medium leading-none\">\n                    {user?.first_name} {user?.last_name}\n                  </p>\n                  <p className=\"text-xs leading-none text-muted-foreground\">\n                    {user?.email}\n                  </p>\n                  <Badge variant=\"outline\" className=\"w-fit text-xs\">\n                    {user?.role}\n                  </Badge>\n                </div>\n              </DropdownMenuLabel>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem>\n                <User className=\"mr-2 h-4 w-4\" />\n                <span>Profile</span>\n              </DropdownMenuItem>\n              <DropdownMenuItem>\n                <Settings className=\"mr-2 h-4 w-4\" />\n                <span>Settings</span>\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={handleLogout}>\n                <LogOut className=\"mr-2 h-4 w-4\" />\n                <span>Log out</span>\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAQA;AACA;AAAA;;;AAfA;;;;;;;;AAiBO,SAAS;QA4CG,mBAAA;;IA3CjB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,gJAAc;IAC/B,MAAM,iBAAiB,IAAA,2IAAS;IAEhC,MAAM,eAAe;QACnB,eAAe,MAAM;IACvB;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAG,WAAU;kCAAiC;;;;;;;;;;;8BAIjD,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,mNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC,6IAAK;oCACJ,aAAY;oCACZ,WAAU;;;;;;;;;;;;;;;;;;;;;;8BAOlB,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC,sLAAkB;;;;;sCAGnB,6LAAC,+IAAM;4BAAC,SAAQ;4BAAQ,MAAK;sCAC3B,cAAA,6LAAC,yNAAQ;gCAAC,WAAU;;;;;;;;;;;sCAItB,6LAAC,+JAAY;;8CACX,6LAAC,sKAAmB;oCAAC,OAAO;8CAC1B,cAAA,6LAAC,+IAAM;wCAAC,SAAQ;wCAAQ,WAAU;kDAChC,cAAA,6LAAC;4CAAI,WAAU;sDACZ,CAAA,iBAAA,4BAAA,mBAAA,KAAM,UAAU,cAAhB,wCAAA,oBAAA,gBAAkB,CAAC,EAAE,cAArB,wCAAA,kBAAuB,WAAW,qBAAM,6LAAC,6MAAI;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;8CAI/D,6LAAC,sKAAmB;oCAAC,WAAU;oCAAO,OAAM;oCAAM,UAAU;;sDAC1D,6LAAC,oKAAiB;4CAAC,WAAU;sDAC3B,cAAA,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAE,WAAU;;4DACV,iBAAA,2BAAA,KAAM,UAAU;4DAAC;4DAAE,iBAAA,2BAAA,KAAM,SAAS;;;;;;;kEAErC,6LAAC;wDAAE,WAAU;kEACV,iBAAA,2BAAA,KAAM,KAAK;;;;;;kEAEd,6LAAC,6IAAK;wDAAC,SAAQ;wDAAU,WAAU;kEAChC,iBAAA,2BAAA,KAAM,IAAI;;;;;;;;;;;;;;;;;sDAIjB,6LAAC,wKAAqB;;;;;sDACtB,6LAAC,mKAAgB;;8DACf,6LAAC,6MAAI;oDAAC,WAAU;;;;;;8DAChB,6LAAC;8DAAK;;;;;;;;;;;;sDAER,6LAAC,mKAAgB;;8DACf,6LAAC,yNAAQ;oDAAC,WAAU;;;;;;8DACpB,6LAAC;8DAAK;;;;;;;;;;;;sDAER,6LAAC,wKAAqB;;;;;sDACtB,6LAAC,mKAAgB;4CAAC,SAAS;;8DACzB,6LAAC,uNAAM;oDAAC,WAAU;;;;;;8DAClB,6LAAC;8DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtB;GAlFgB;;QACG,gJAAc;QACR,2IAAS;;;KAFlB","debugId":null}},
    {"offset": {"line": 4229, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/layout/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport {\n  Building2,\n  Users,\n  ClipboardList,\n  Package,\n  Truck,\n  BarChart3,\n  Settings,\n  Home,\n  ChevronDown,\n  ChevronRight,\n  FileText,\n  Calendar,\n  Activity,\n  Bell,\n  Map,\n  DollarSign,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { usePermissions } from \"@/hooks/use-auth\";\n\ninterface NavItem {\n  title: string;\n  href: string;\n  icon: React.ElementType;\n  badge?: string;\n  children?: NavItem[];\n  roles?: string[];\n}\n\nconst navigation: NavItem[] = [\n  {\n    title: \"Dashboard\",\n    href: \"/dashboard\",\n    icon: Home,\n  },\n  {\n    title: \"Projects\",\n    href: \"/dashboard/projects\",\n    icon: Building2,\n    children: [\n      {\n        title: \"All Projects\",\n        href: \"/dashboard/projects\",\n        icon: Building2,\n      },\n      {\n        title: \"Create Project\",\n        href: \"/dashboard/projects/new\",\n        icon: Building2,\n        roles: [\"admin\", \"pm\"],\n      },\n    ],\n  },\n  {\n    title: \"Work Entries\",\n    href: \"/dashboard/work-entries\",\n    icon: ClipboardList,\n    badge: \"12\",\n  },\n  {\n    title: \"Notifications\",\n    href: \"/dashboard/notifications\",\n    icon: Bell,\n  },\n  {\n    title: \"Teams\",\n    href: \"/dashboard/teams\",\n    icon: Users,\n    roles: [\"admin\", \"pm\", \"foreman\"],\n  },\n  {\n    title: \"Materials\",\n    href: \"/dashboard/materials\",\n    icon: Package,\n    roles: [\"admin\", \"pm\"],\n  },\n  {\n    title: \"Equipment\",\n    href: \"/dashboard/equipment\",\n    icon: Truck,\n    roles: [\"admin\", \"pm\"],\n  },\n  {\n    title: \"Reports\",\n    href: \"/dashboard/reports\",\n    icon: BarChart3,\n    roles: [\"admin\", \"pm\", \"viewer\"],\n  },\n  {\n    title: \"Financial\",\n    href: \"/dashboard/financial\",\n    icon: DollarSign,\n    roles: [\"admin\", \"pm\"],\n  },\n  {\n    title: \"Activity Log\",\n    href: \"/dashboard/activities\",\n    icon: Activity,\n    roles: [\"admin\", \"pm\"],\n  },\n  {\n    title: \"Calendar\",\n    href: \"/dashboard/calendar\",\n    icon: Calendar,\n  },\n  {\n    title: \"Documents\",\n    href: \"/dashboard/documents\",\n    icon: FileText,\n  },\n  {\n    title: \"Geospatial\",\n    href: \"/dashboard/geospatial\",\n    icon: Map,\n    roles: [\"admin\", \"pm\", \"foreman\"],\n  },\n  {\n    title: \"Settings\",\n    href: \"/dashboard/settings\",\n    icon: Settings,\n    roles: [\"admin\"],\n  },\n];\n\nexport function Sidebar() {\n  const pathname = usePathname();\n  const { hasAnyRole } = usePermissions();\n  const [expandedItems, setExpandedItems] = useState<string[]>([]);\n\n  const toggleExpanded = (href: string) => {\n    setExpandedItems((prev) =>\n      prev.includes(href)\n        ? prev.filter((item) => item !== href)\n        : [...prev, href]\n    );\n  };\n\n  const isActive = (href: string) => {\n    if (href === \"/dashboard\") {\n      return pathname === href;\n    }\n    return pathname.startsWith(href);\n  };\n\n  const canAccessItem = (item: NavItem) => {\n    if (!item.roles) return true;\n    return hasAnyRole(item.roles);\n  };\n\n  const filteredNavigation = navigation.filter(canAccessItem);\n\n  return (\n    <div className=\"flex h-screen w-64 flex-col border-r bg-card\">\n      <div className=\"flex-1 overflow-auto py-2\">\n        <nav className=\"space-y-1 px-2\">\n          {filteredNavigation.map((item) => (\n            <div key={item.href}>\n              {item.children ? (\n                <>\n                  <Button\n                    variant=\"ghost\"\n                    className={cn(\n                      \"w-full justify-between\",\n                      isActive(item.href) && \"bg-accent text-accent-foreground\"\n                    )}\n                    onClick={() => toggleExpanded(item.href)}\n                  >\n                    <div className=\"flex items-center\">\n                      <item.icon className=\"mr-2 h-4 w-4\" />\n                      {item.title}\n                      {item.badge && (\n                        <Badge variant=\"secondary\" className=\"ml-auto\">\n                          {item.badge}\n                        </Badge>\n                      )}\n                    </div>\n                    {expandedItems.includes(item.href) ? (\n                      <ChevronDown className=\"h-4 w-4\" />\n                    ) : (\n                      <ChevronRight className=\"h-4 w-4\" />\n                    )}\n                  </Button>\n                  {expandedItems.includes(item.href) && (\n                    <div className=\"ml-4 space-y-1\">\n                      {item.children\n                        .filter(canAccessItem)\n                        .map((child) => (\n                          <Link key={child.href} href={child.href}>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              className={cn(\n                                \"w-full justify-start\",\n                                isActive(child.href) && \"bg-accent text-accent-foreground\"\n                              )}\n                            >\n                              <child.icon className=\"mr-2 h-4 w-4\" />\n                              {child.title}\n                            </Button>\n                          </Link>\n                        ))}\n                    </div>\n                  )}\n                </>\n              ) : (\n                <Link href={item.href}>\n                  <Button\n                    variant=\"ghost\"\n                    className={cn(\n                      \"w-full justify-start\",\n                      isActive(item.href) && \"bg-accent text-accent-foreground\"\n                    )}\n                  >\n                    <item.icon className=\"mr-2 h-4 w-4\" />\n                    {item.title}\n                    {item.badge && (\n                      <Badge variant=\"secondary\" className=\"ml-auto\">\n                        {item.badge}\n                      </Badge>\n                    )}\n                  </Button>\n                </Link>\n              )}\n            </div>\n          ))}\n        </nav>\n      </div>\n\n      {/* Footer */}\n      <div className=\"border-t p-4\">\n        <div className=\"text-xs text-muted-foreground\">\n          <p>COMETA v2.0</p>\n          <p>Phase 1 Migration</p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4609, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useRequireAuth } from \"@/hooks/use-auth\";\nimport { initializeAuth } from \"@/hooks/use-auth\";\nimport { Header } from \"@/components/layout/header\";\nimport { Sidebar } from \"@/components/layout/sidebar\";\n\nexport default function DashboardLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const { isAuthenticated, isLoading, error } = useRequireAuth();\n\n  useEffect(() => {\n    // Initialize auth on mount\n    initializeAuth();\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push(\"/login\");\n    }\n  }, [isAuthenticated, isLoading, router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"text-sm text-muted-foreground\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !isAuthenticated) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header />\n      <div className=\"flex\">\n        <Sidebar />\n        <main className=\"flex-1 p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;;;AAPA;;;;;;;AASe,SAAS,gBAAgB,KAIvC;QAJuC,EACtC,QAAQ,EAGT,GAJuC;;IAKtC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,gJAAc;IAE5D,IAAA,0KAAS;qCAAC;YACR,2BAA2B;YAC3B,IAAA,gJAAc;QAChB;oCAAG,EAAE;IAEL,IAAA,0KAAS;qCAAC;YACR,IAAI,CAAC,aAAa,CAAC,iBAAiB;gBAClC,OAAO,IAAI,CAAC;YACd;QACF;oCAAG;QAAC;QAAiB;QAAW;KAAO;IAEvC,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;;;;;;IAIrD;IAEA,IAAI,SAAS,CAAC,iBAAiB;QAC7B,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,mJAAM;;;;;0BACP,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qJAAO;;;;;kCACR,6LAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX;GA7CwB;;QAKP,kJAAS;QACsB,gJAAc;;;KANtC","debugId":null}}]
}