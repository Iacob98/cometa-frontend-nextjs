(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";e.s(["MapPin",()=>t],46897);let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},24687,e=>{"use strict";e.s(["Textarea",()=>a]);var t=e.i(43476),r=e.i(71645),s=e.i(75157);let a=r.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...n})});a.displayName="Textarea"},7233,e=>{"use strict";e.s(["Plus",()=>t],7233);let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},27612,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},88511,e=>{"use strict";e.s(["Edit",()=>t],88511);let t=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},43432,e=>{"use strict";e.s(["Phone",()=>t],43432);let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},63488,e=>{"use strict";e.s(["Mail",()=>t],63488);let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},55838,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,o=s.useLayoutEffect,l=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,d=s[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&d({inst:a})},[e,r,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:d},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},99676,e=>{"use strict";e.s(["Avatar",()=>v,"AvatarFallback",()=>C,"AvatarImage",()=>w],99676);var t=e.i(43476),r=e.i(71645),s=e.i(30030),a=e.i(30207),n=e.i(34620),i=e.i(48425),o=e.i(2239);function l(){return()=>{}}var c="Avatar",[d,u]=(0,s.createContextScope)(c),[m,p]=d(c),h=r.forwardRef((e,s)=>{let{__scopeAvatar:a,...n}=e,[o,l]=r.useState("idle");return(0,t.jsx)(m,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:(0,t.jsx)(i.Primitive.span,{...n,ref:s})})});h.displayName=c;var x="AvatarImage",j=r.forwardRef((e,s)=>{let{__scopeAvatar:c,src:d,onLoadingStatusChange:u=()=>{},...m}=e,h=p(x,c),j=function(e,t){let{referrerPolicy:s,crossOrigin:a}=t,i=(0,o.useSyncExternalStore)(l,()=>!0,()=>!1),c=r.useRef(null),d=i?(c.current||(c.current=new window.Image),c.current):null,[u,m]=r.useState(()=>g(d,e));return(0,n.useLayoutEffect)(()=>{m(g(d,e))},[d,e]),(0,n.useLayoutEffect)(()=>{let e=e=>()=>{m(e)};if(!d)return;let t=e("loaded"),r=e("error");return d.addEventListener("load",t),d.addEventListener("error",r),s&&(d.referrerPolicy=s),"string"==typeof a&&(d.crossOrigin=a),()=>{d.removeEventListener("load",t),d.removeEventListener("error",r)}},[d,a,s]),u}(d,m),f=(0,a.useCallbackRef)(e=>{u(e),h.onImageLoadingStatusChange(e)});return(0,n.useLayoutEffect)(()=>{"idle"!==j&&f(j)},[j,f]),"loaded"===j?(0,t.jsx)(i.Primitive.img,{...m,ref:s,src:d}):null});j.displayName=x;var f="AvatarFallback",y=r.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:n,...o}=e,l=p(f,a),[c,d]=r.useState(void 0===n);return r.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>d(!0),n);return()=>window.clearTimeout(e)}},[n]),c&&"loaded"!==l.imageLoadingStatus?(0,t.jsx)(i.Primitive.span,{...o,ref:s}):null});function g(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=f;var F=e.i(75157);let v=r.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(h,{ref:r,className:(0,F.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a})});v.displayName=h.displayName;let w=r.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(j,{ref:r,className:(0,F.cn)("aspect-square h-full w-full",s),...a})});w.displayName=j.displayName;let C=r.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(y,{ref:r,className:(0,F.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a})});C.displayName=y.displayName},927,e=>{"use strict";e.s(["useCreateSupplier",()=>F,"useCreateSupplierContact",()=>N,"useCreateSupplierMaterial",()=>E,"useCreateSupplierProjectAssignment",()=>M,"useDeleteSupplier",()=>w,"useDeleteSupplierContact",()=>S,"useSupplier",()=>g,"useSupplierContacts",()=>C,"useSupplierMaterials",()=>b,"useSupplierProjects",()=>k,"useSuppliers",()=>y,"useUpdateSupplier",()=>v]);var t=e.i(66027),r=e.i(54616),s=e.i(12598),a=e.i(46696);let n={all:["suppliers"],lists:()=>[...n.all,"list"],list:e=>[...n.lists(),{filters:e}],details:()=>[...n.all,"detail"],detail:e=>[...n.details(),e]};async function i(){let e=await fetch("/api/suppliers");if(!e.ok)throw Error("Failed to fetch suppliers");return((await e.json()).items||[]).map(e=>({...e,org_name:e.name}))}async function o(e){let t=await fetch("/api/suppliers/".concat(e));if(!t.ok)throw Error("Failed to fetch supplier");return t.json()}async function l(e){let t={...e,name:e.org_name,org_name:void 0},r=await fetch("/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to create supplier");let s=await r.json();return{...s,org_name:s.name}}async function c(e){let{id:t,...r}=e,s=await fetch("/api/suppliers/".concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok)throw Error("Failed to update supplier");return s.json()}async function d(e){if(!(await fetch("/api/suppliers/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete supplier")}async function u(e){let t=await fetch("/api/suppliers/".concat(e,"/contacts"));if(!t.ok)throw Error("Failed to fetch supplier contacts");return t.json()}async function m(e,t){let r=await fetch("/api/suppliers/".concat(e,"/contacts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to create supplier contact");return r.json()}async function p(e,t){if(!(await fetch("/api/suppliers/".concat(e,"/contacts/").concat(t),{method:"DELETE"})).ok)throw Error("Failed to delete supplier contact")}async function h(e,t){let r=new URL("/api/suppliers/".concat(e,"/materials"),window.location.origin);t&&r.searchParams.set("project_id",t);let s=await fetch(r.toString());if(!s.ok)throw Error("Failed to fetch supplier materials");return s.json()}async function x(e,t){let r=await fetch("/api/suppliers/".concat(e,"/materials"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error((await r.json().catch(()=>({error:"Unknown error"}))).error||"Failed to create supplier material (".concat(r.status,")"));return r.json()}async function j(e){let t=await fetch("/api/suppliers/".concat(e,"/projects"));if(!t.ok)throw Error("Failed to fetch supplier projects");return t.json()}async function f(e,t){let r=await fetch("/api/suppliers/".concat(e,"/projects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to assign supplier to project");return r.json()}function y(){return(0,t.useQuery)({queryKey:n.lists(),queryFn:i,staleTime:3e5})}function g(e){return(0,t.useQuery)({queryKey:n.detail(e),queryFn:()=>o(e),enabled:!!e,staleTime:3e5})}function F(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:l,onSuccess:t=>{e.setQueryData(n.lists(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...e,t]}),e.invalidateQueries({queryKey:n.all}),a.toast.success("Supplier created successfully")},onError:e=>{a.toast.error("Failed to create supplier: ".concat(e.message))}})}function v(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:c,onSuccess:t=>{e.setQueryData(n.lists(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>e.id===t.id?t:e)}),e.setQueryData(n.detail(t.id),t),e.invalidateQueries({queryKey:n.all}),a.toast.success("Supplier updated successfully")},onError:e=>{a.toast.error("Failed to update supplier: ".concat(e.message))}})}function w(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:d,onSuccess:(t,r)=>{e.setQueryData(n.lists(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>e.id!==r)}),e.removeQueries({queryKey:n.detail(r)}),e.invalidateQueries({queryKey:n.all}),a.toast.success("Supplier deleted successfully")},onError:e=>{a.toast.error("Failed to delete supplier: ".concat(e.message))}})}function C(e){return(0,t.useQuery)({queryKey:[...n.detail(e),"contacts"],queryFn:()=>u(e),enabled:!!e,staleTime:3e5})}function N(e){let t=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:t=>m(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[...n.detail(e),"contacts"]}),a.toast.success("Contact created successfully")},onError:e=>{a.toast.error("Failed to create contact: ".concat(e.message))}})}function S(e){let t=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:t=>p(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[...n.detail(e),"contacts"]}),a.toast.success("Contact deleted successfully")},onError:e=>{a.toast.error("Failed to delete contact: ".concat(e.message))}})}function b(e,r){return(0,t.useQuery)({queryKey:[...n.detail(e),"materials",{projectId:r}],queryFn:()=>h(e,r),enabled:!!e,staleTime:3e5})}function E(e){let t=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:t=>x(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[...n.detail(e),"materials"]}),a.toast.success("Material created successfully")},onError:e=>{a.toast.error("Failed to create material: ".concat(e.message))}})}function k(e){return(0,t.useQuery)({queryKey:[...n.detail(e),"projects"],queryFn:()=>j(e),enabled:!!e,staleTime:3e5})}function M(e){let t=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:t=>f(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:[...n.detail(e),"projects"]}),a.toast.success("Supplier assigned to project successfully")},onError:e=>{a.toast.error("Failed to assign supplier to project: ".concat(e.message))}})}},96496,e=>{"use strict";e.s(["default",()=>k]);var t=e.i(43476),r=e.i(71645),s=e.i(18566),a=e.i(53145),n=e.i(94814),i=e.i(81307),o=e.i(7233),l=e.i(55436),c=e.i(88511),d=e.i(27612),u=e.i(7486),m=e.i(43432),p=e.i(63488),h=e.i(84614),x=e.i(46897),j=e.i(19455),f=e.i(93479),y=e.i(24687),g=e.i(15288),F=e.i(87486),v=e.i(99676),w=e.i(76639),C=e.i(3133),N=e.i(46696),S=e.i(927),b=e.i(71436);let E=i.z.object({org_name:i.z.string().min(1,"Organization name is required"),contact_person:i.z.string().min(1,"Contact person is required"),phone:i.z.string().optional(),email:i.z.string().email("Invalid email").optional().or(i.z.literal("")),address:i.z.string().optional(),notes:i.z.string().optional()});function k(){let e=(0,s.useRouter)(),{canManageInventory:i}=(0,b.usePermissions)(),[k,M]=(0,r.useState)(""),[T,L]=(0,r.useState)(!1),[P,A]=(0,r.useState)(null),{data:I=[],isLoading:D}=(0,S.useSuppliers)(),q=(0,S.useCreateSupplier)(),Q=(0,S.useUpdateSupplier)(),_=(0,S.useDeleteSupplier)(),O=(0,a.useForm)({resolver:(0,n.zodResolver)(E),defaultValues:{org_name:"",contact_person:"",phone:"",email:"",address:"",notes:""}}),z=I.filter(e=>{var t,r,s;return(null==(t=e.org_name)?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null==(r=e.contact_person)?void 0:r.toLowerCase().includes(k.toLowerCase()))||(null==(s=e.email)?void 0:s.toLowerCase().includes(k.toLowerCase()))}),B=async e=>{try{await q.mutateAsync(e),L(!1),O.reset(),N.toast.success("Supplier created successfully")}catch(e){N.toast.error("Failed to create supplier")}},K=async e=>{if(P)try{await Q.mutateAsync({id:P.id,...e}),A(null),O.reset(),N.toast.success("Supplier updated successfully")}catch(e){N.toast.error("Failed to update supplier")}},R=async e=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await _.mutateAsync(e),N.toast.success("Supplier deleted successfully")}catch(e){N.toast.error("Failed to delete supplier")}},U=()=>{L(!1),A(null),O.reset()};return D?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Suppliers"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your material suppliers and vendors"})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>(0,t.jsxs)(g.Card,{className:"animate-pulse",children:[(0,t.jsxs)(g.CardHeader,{className:"pb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-1/2"})]}),(0,t.jsx)(g.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-5/6"})]})})]},r))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Suppliers"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your material suppliers and vendors"})]}),i&&(0,t.jsxs)(w.Dialog,{open:T,onOpenChange:L,children:[(0,t.jsx)(w.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(j.Button,{children:[(0,t.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})}),(0,t.jsxs)(w.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(w.DialogHeader,{children:[(0,t.jsx)(w.DialogTitle,{children:"Add New Supplier"}),(0,t.jsx)(w.DialogDescription,{children:"Create a new supplier to manage material procurement"})]}),(0,t.jsx)(C.Form,{...O,children:(0,t.jsxs)("form",{onSubmit:O.handleSubmit(B),className:"space-y-4",children:[(0,t.jsx)(C.FormField,{control:O.control,name:"org_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Organization Name *"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"e.g., ABC Materials Ltd",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"contact_person",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Contact Person *"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"e.g., John Smith",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(C.FormField,{control:O.control,name:"phone",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Phone"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"+1234567890",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"email",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Email"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"contact@company.com",...r})}),(0,t.jsx)(C.FormMessage,{})]})}})]}),(0,t.jsx)(C.FormField,{control:O.control,name:"address",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Address"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(y.Textarea,{placeholder:"Company address...",rows:2,...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"notes",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Notes"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(y.Textarea,{placeholder:"Additional notes...",rows:2,...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsxs)(w.DialogFooter,{children:[(0,t.jsx)(j.Button,{type:"button",variant:"outline",onClick:U,children:"Cancel"}),(0,t.jsx)(j.Button,{type:"submit",disabled:q.isPending,children:q.isPending?"Creating...":"Create Supplier"})]})]})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,t.jsx)(f.Input,{placeholder:"Search suppliers...",value:k,onChange:e=>M(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(F.Badge,{variant:"secondary",children:[z.length," supplier",1!==z.length?"s":""]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(r=>(0,t.jsxs)(g.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e.push("/dashboard/materials/suppliers/".concat(r.id)),children:[(0,t.jsx)(g.CardHeader,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(v.Avatar,{children:(0,t.jsx)(v.AvatarFallback,{children:(0,t.jsx)(u.Building2,{className:"h-4 w-4"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g.CardTitle,{className:"text-lg",children:r.org_name}),(0,t.jsxs)(g.CardDescription,{className:"flex items-center mt-1",children:[(0,t.jsx)(h.User,{className:"h-3 w-3 mr-1"}),r.contact_person]})]})]}),i&&(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{A(r),O.reset({org_name:r.org_name||"",contact_person:r.contact_person||"",phone:r.phone||"",email:r.email||"",address:"string"==typeof r.address?r.address:r.address?"".concat(r.address.street||""," ").concat(r.address.city||""," ").concat(r.address.postal_code||""," ").concat(r.address.country||"").trim():"",notes:r.notes||""})},children:(0,t.jsx)(c.Edit,{className:"h-3 w-3"})}),(0,t.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>R(r.id),children:(0,t.jsx)(d.Trash2,{className:"h-3 w-3"})})]})]})}),(0,t.jsxs)(g.CardContent,{className:"space-y-2",children:[r.phone&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(m.Phone,{className:"h-3 w-3 mr-2"}),r.phone]}),r.email&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(p.Mail,{className:"h-3 w-3 mr-2"}),r.email]}),r.address&&(0,t.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,t.jsx)(x.MapPin,{className:"h-3 w-3 mr-2"}),(0,t.jsx)("span",{className:"truncate",children:"string"==typeof r.address?r.address:"".concat(r.address.street||""," ").concat(r.address.city||""," ").concat(r.address.postal_code||""," ").concat(r.address.country||"").trim()})]}),r.notes&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:r.notes})]})]},r.id))}),0===z.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(u.Building2,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"No suppliers found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:k?"Try adjusting your search criteria":"Get started by adding your first supplier"}),i&&!k&&(0,t.jsxs)(j.Button,{className:"mt-4",onClick:()=>L(!0),children:[(0,t.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),(0,t.jsx)(w.Dialog,{open:!!P,onOpenChange:e=>!e&&U(),children:(0,t.jsxs)(w.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(w.DialogHeader,{children:[(0,t.jsx)(w.DialogTitle,{children:"Edit Supplier"}),(0,t.jsx)(w.DialogDescription,{children:"Update supplier information"})]}),(0,t.jsx)(C.Form,{...O,children:(0,t.jsxs)("form",{onSubmit:O.handleSubmit(K),className:"space-y-4",children:[(0,t.jsx)(C.FormField,{control:O.control,name:"org_name",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Organization Name *"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"e.g., ABC Materials Ltd",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"contact_person",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Contact Person *"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"e.g., John Smith",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(C.FormField,{control:O.control,name:"phone",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Phone"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"+1234567890",...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"email",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Email"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(f.Input,{placeholder:"contact@company.com",...r})}),(0,t.jsx)(C.FormMessage,{})]})}})]}),(0,t.jsx)(C.FormField,{control:O.control,name:"address",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Address"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(y.Textarea,{placeholder:"Company address...",rows:2,...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsx)(C.FormField,{control:O.control,name:"notes",render:e=>{let{field:r}=e;return(0,t.jsxs)(C.FormItem,{children:[(0,t.jsx)(C.FormLabel,{children:"Notes"}),(0,t.jsx)(C.FormControl,{children:(0,t.jsx)(y.Textarea,{placeholder:"Additional notes...",rows:2,...r})}),(0,t.jsx)(C.FormMessage,{})]})}}),(0,t.jsxs)(w.DialogFooter,{children:[(0,t.jsx)(j.Button,{type:"button",variant:"outline",onClick:U,children:"Cancel"}),(0,t.jsx)(j.Button,{type:"submit",disabled:Q.isPending,children:Q.isPending?"Updating...":"Update Supplier"})]})]})})]})})]})}}]);