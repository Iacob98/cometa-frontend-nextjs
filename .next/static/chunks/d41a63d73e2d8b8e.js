(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,24687,e=>{"use strict";e.s(["Textarea",()=>r]);var a=e.i(43476),t=e.i(71645),s=e.i(75157);let r=t.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...i})});r.displayName="Textarea"},27612,e=>{"use strict";e.s(["Trash2",()=>a],27612);let a=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},88511,e=>{"use strict";e.s(["Edit",()=>a],88511);let a=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71689,e=>{"use strict";e.s(["ArrowLeft",()=>a],71689);let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56909,e=>{"use strict";e.s(["Save",()=>a],56909);let a=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},25652,e=>{"use strict";e.s(["TrendingUp",()=>a],25652);let a=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4382,e=>{"use strict";e.s(["invalidateAllMaterialQueries",()=>d,"useAdjustStock",()=>j,"useAssignMaterialToProject",()=>w,"useCreateMaterial",()=>y,"useDeleteMaterial",()=>g,"useDeleteMaterialAssignment",()=>C,"useLowStockMaterials",()=>p,"useMaterial",()=>m,"useMaterials",()=>u,"useOrders",()=>N,"useSuppliers",()=>v,"useUnifiedProjectMaterials",()=>x,"useUnifiedWarehouseMaterials",()=>h,"useUpdateMaterial",()=>f,"useUpdateMaterialAssignment",()=>b]);var a=e.i(66027),t=e.i(54616),s=e.i(12598),r=e.i(46696),i=e.i(41931);let l={all:["materials"],lists:()=>[...l.all,"list"],list:e=>[...l.lists(),e],details:()=>[...l.all,"detail"],detail:e=>[...l.details(),e],lowStock:()=>[...l.all,"low-stock"]},n={all:["suppliers"],lists:()=>[...n.all,"list"],details:()=>[...n.all,"detail"],detail:e=>[...n.details(),e]},o={all:["allocations"],lists:()=>[...o.all,"list"],list:e=>[...o.lists(),e],details:()=>[...o.all,"detail"],detail:e=>[...o.details(),e]},c={all:["orders"],lists:()=>[...c.all,"list"],list:e=>[...c.lists(),e],details:()=>[...c.all,"detail"],detail:e=>[...c.details(),e]};function d(e){e.invalidateQueries({queryKey:l.all}),e.invalidateQueries({queryKey:o.all}),e.invalidateQueries({queryKey:c.all}),e.invalidateQueries({queryKey:[...l.all,"unified-warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"allocation-targets"]}),e.refetchQueries({queryKey:[...l.all,"unified-warehouse"],type:"active"})}function u(e){return(0,a.useQuery)({queryKey:l.list(e||{}),queryFn:()=>i.materialsApi.getMaterials(e),staleTime:12e4})}function m(e){return(0,a.useQuery)({queryKey:l.detail(e),queryFn:()=>i.materialsApi.getMaterial(e),enabled:!!e,staleTime:3e5})}function p(){return(0,a.useQuery)({queryKey:l.lowStock(),queryFn:async()=>{let e=await fetch("/api/materials/low-stock");if(!e.ok)throw Error("Failed to fetch low stock materials");return(await e.json()).materials||[]},staleTime:12e4})}function h(){return(0,a.useQuery)({queryKey:[...l.all,"unified-warehouse"],queryFn:async()=>{let e=await fetch("/api/materials/unified?view=warehouse");if(!e.ok)throw Error("Failed to fetch warehouse materials");return(await e.json()).materials||[]},staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!0,refetchInterval:6e4})}function x(e){return(0,a.useQuery)({queryKey:[...o.all,"project",e,"unified"],queryFn:async()=>{let a=await fetch("/api/materials/unified?view=project_allocations&project_id=".concat(e));if(!a.ok)throw Error("Failed to fetch project materials");let t=await a.json();return{materials:t.materials||[],summary:t.allocation_summary}},enabled:!!e,staleTime:6e4,gcTime:3e5})}function y(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>i.materialsApi.createMaterial(e),onSuccess:a=>{e.invalidateQueries({queryKey:l.lists()}),e.setQueryData(l.detail(a.id),a),r.toast.success("Material created successfully")},onError:e=>{r.toast.error("Failed to create material: ".concat(e.message))}})}function f(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>{let{id:a,data:t}=e;return i.materialsApi.updateMaterial(a,t)},onMutate:async a=>{let{id:t,data:s}=a;await e.cancelQueries({queryKey:l.detail(t)});let r=e.getQueryData(l.detail(t));return e.setQueryData(l.detail(t),e=>e?{...e,...s}:e),{previousMaterial:r}},onError:(a,t,s)=>{let{id:i}=t;(null==s?void 0:s.previousMaterial)&&e.setQueryData(l.detail(i),s.previousMaterial),r.toast.error("Failed to update material: ".concat(a.message))},onSuccess:()=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.lowStock()}),r.toast.success("Material updated successfully")},onSettled:(a,t,s)=>{let{id:r}=s;e.invalidateQueries({queryKey:l.detail(r)})}})}function g(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>i.materialsApi.deleteMaterial(e),onSuccess:(a,t)=>{e.removeQueries({queryKey:l.detail(t)}),e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.lowStock()}),r.toast.success("Material deleted successfully")},onError:e=>{r.toast.error("Failed to delete material: ".concat(e.message))}})}function j(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>{let{id:a,adjustment:t}=e;return i.materialsApi.adjustStock(a,t)},onSuccess:a=>{e.setQueryData(l.detail(a.id),a),e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:l.lowStock()}),e.invalidateQueries({queryKey:[...l.all,"unified-warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"allocation-targets"]}),r.toast.success("Stock adjusted successfully")},onError:e=>{r.toast.error("Failed to adjust stock: ".concat(e.message))}})}function v(){return(0,a.useQuery)({queryKey:n.lists(),queryFn:()=>i.suppliersApi.getSuppliers(),staleTime:6e5})}function N(e){return(0,a.useQuery)({queryKey:c.list(e||{}),queryFn:()=>i.materialOrdersApi.getOrders(e),staleTime:18e4})}function w(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let a=await fetch("/api/materials/assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).message||"Failed to assign material");return a.json()},onSuccess:(a,t)=>{e.invalidateQueries({queryKey:[...l.all,"project",t.project_id]}),e.invalidateQueries({queryKey:[...o.all,"project",t.project_id,"unified"]}),e.invalidateQueries({queryKey:[...l.all,"warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"unified-warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"allocation-targets"]}),e.refetchQueries({queryKey:[...o.all,"project",t.project_id,"unified"]}),e.refetchQueries({queryKey:[...l.all,"unified-warehouse"]}),r.toast.success("Material assigned successfully")},onError:e=>{r.toast.error("Failed to assign material: ".concat(e.message))}})}function b(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let{assignment_id:a,...t}=e,s=await fetch("/api/materials/assignments/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error((await s.json()).message||"Failed to update material assignment");return s.json()},onSuccess:(a,t)=>{e.invalidateQueries({predicate:e=>"materials"===e.queryKey[0]&&"project"===e.queryKey[1]}),e.invalidateQueries({predicate:e=>e.queryKey.includes("unified")}),e.invalidateQueries({queryKey:[...l.all,"warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"unified-warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"allocation-targets"]}),r.toast.success("Material assignment updated successfully")},onError:e=>{r.toast.error("Failed to update material assignment: ".concat(e.message))}})}function C(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let a=await fetch("/api/materials/assignments/".concat(e),{method:"DELETE"});if(!a.ok)throw Error((await a.json()).message||"Failed to delete material assignment");return a.json()},onSuccess:(a,t)=>{e.invalidateQueries({predicate:e=>"materials"===e.queryKey[0]&&"project"===e.queryKey[1]}),e.invalidateQueries({predicate:e=>e.queryKey.includes("unified")}),e.invalidateQueries({queryKey:[...l.all,"warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"unified-warehouse"]}),e.invalidateQueries({queryKey:[...l.all,"allocation-targets"]}),r.toast.success("Material assignment deleted successfully")},onError:e=>{r.toast.error("Failed to delete material assignment: ".concat(e.message))}})}},68499,e=>{"use strict";e.s(["AlertDialog",()=>T,"AlertDialogAction",()=>P,"AlertDialogCancel",()=>H,"AlertDialogContent",()=>F,"AlertDialogDescription",()=>L,"AlertDialogFooter",()=>R,"AlertDialogHeader",()=>K,"AlertDialogTitle",()=>E,"AlertDialogTrigger",()=>S],68499);var a=e.i(43476),t=e.i(71645),s=e.i(30030),r=e.i(20783),i=e.i(26999),l=e.i(81140),n=e.i(91918),o="AlertDialog",[c,d]=(0,s.createContextScope)(o,[i.createDialogScope]),u=(0,i.createDialogScope)(),m=e=>{let{__scopeAlertDialog:t,...s}=e,r=u(t);return(0,a.jsx)(i.Root,{...r,...s,modal:!0})};m.displayName=o;var p=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=u(s);return(0,a.jsx)(i.Trigger,{...l,...r,ref:t})});p.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...s}=e,r=u(t);return(0,a.jsx)(i.Portal,{...r,...s})};h.displayName="AlertDialogPortal";var x=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=u(s);return(0,a.jsx)(i.Overlay,{...l,...r,ref:t})});x.displayName="AlertDialogOverlay";var y="AlertDialogContent",[f,g]=c(y),j=(0,n.createSlottable)("AlertDialogContent"),v=t.forwardRef((e,s)=>{let{__scopeAlertDialog:n,children:o,...c}=e,d=u(n),m=t.useRef(null),p=(0,r.useComposedRefs)(s,m),h=t.useRef(null);return(0,a.jsx)(i.WarningProvider,{contentName:y,titleName:N,docsSlug:"alert-dialog",children:(0,a.jsx)(f,{scope:n,cancelRef:h,children:(0,a.jsxs)(i.Content,{role:"alertdialog",...d,...c,ref:p,onOpenAutoFocus:(0,l.composeEventHandlers)(c.onOpenAutoFocus,e=>{var a;e.preventDefault(),null==(a=h.current)||a.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(j,{children:o}),(0,a.jsx)(A,{contentRef:m})]})})})});v.displayName=y;var N="AlertDialogTitle",w=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=u(s);return(0,a.jsx)(i.Title,{...l,...r,ref:t})});w.displayName=N;var b="AlertDialogDescription",C=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=u(s);return(0,a.jsx)(i.Description,{...l,...r,ref:t})});C.displayName=b;var k=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...r}=e,l=u(s);return(0,a.jsx)(i.Close,{...l,...r,ref:t})});k.displayName="AlertDialogAction";var _="AlertDialogCancel",M=t.forwardRef((e,t)=>{let{__scopeAlertDialog:s,...l}=e,{cancelRef:n}=g(_,s),o=u(s),c=(0,r.useComposedRefs)(t,n);return(0,a.jsx)(i.Close,{...o,...l,ref:c})});M.displayName=_;var A=e=>{let{contentRef:a}=e,s="`".concat(y,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(y,"` by passing a `").concat(b,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(y,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return t.useEffect(()=>{var e;document.getElementById(null==(e=a.current)?void 0:e.getAttribute("aria-describedby"))||console.warn(s)},[s,a]),null},D=e.i(75157),q=e.i(19455);let T=m,S=p,Q=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(x,{className:(0,D.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});Q.displayName=x.displayName;let F=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(Q,{}),(0,a.jsx)(v,{ref:t,className:(0,D.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});F.displayName=v.displayName;let K=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,D.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};K.displayName="AlertDialogHeader";let R=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,D.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};R.displayName="AlertDialogFooter";let E=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(w,{ref:t,className:(0,D.cn)("text-lg font-semibold",s),...r})});E.displayName=w.displayName;let L=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(C,{ref:t,className:(0,D.cn)("text-sm text-muted-foreground",s),...r})});L.displayName=C.displayName;let P=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(k,{ref:t,className:(0,D.cn)((0,q.buttonVariants)(),s),...r})});P.displayName=k.displayName;let H=t.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(M,{ref:t,className:(0,D.cn)((0,q.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});H.displayName=M.displayName},27516,e=>{"use strict";e.s(["History",()=>a],27516);let a=(0,e.i(75254).default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},21048,e=>{"use strict";e.s(["default",()=>M]);var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(71689),i=e.i(88511),l=e.i(27612),n=e.i(88844),o=e.i(78894),c=e.i(25652),d=e.i(12426),u=e.i(56909),m=e.i(37727),p=e.i(27516),h=e.i(15788),x=e.i(7486),y=e.i(19455),f=e.i(93479),g=e.i(10204),j=e.i(24687),v=e.i(15288),N=e.i(87486),w=e.i(77572),b=e.i(67489),C=e.i(68499),k=e.i(4382),_=e.i(46696);function M(){let e=(0,s.useParams)(),M=(0,s.useRouter)(),A=e.id,[D,q]=(0,t.useState)(!1),[T,S]=(0,t.useState)(!1),[Q,F]=(0,t.useState)({name:"",description:"",unit:"",sku:"",default_price_eur:0,purchase_price_eur:0,min_stock_level:0}),{data:K,isLoading:R,error:E}=(0,k.useMaterial)(A),L=(0,k.useUpdateMaterial)(),P=(0,k.useDeleteMaterial)();t.default.useEffect(()=>{K&&!D&&F({name:K.name||"",description:K.description||"",unit:K.unit||"",sku:K.sku||"",default_price_eur:K.default_price_eur||0,purchase_price_eur:K.purchase_price_eur||0,min_stock_level:K.min_stock_level||0})},[K,D]);let H=async()=>{try{await L.mutateAsync({id:A,data:Q}),q(!1),_.toast.success("Material updated successfully")}catch(e){_.toast.error("Failed to update material")}},I=async()=>{try{await P.mutateAsync(A),_.toast.success("Material deleted successfully"),M.push("/dashboard/materials")}catch(e){_.toast.error("Failed to delete material")}};if(R)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"h-32 bg-gray-200 rounded"})]})});if(E||!K)return(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.AlertTriangle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Material Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"The material you're looking for doesn't exist."}),(0,a.jsxs)(y.Button,{onClick:()=>M.push("/dashboard/materials"),children:[(0,a.jsx)(r.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Materials"]})]})});let O=(()=>{if(!K)return{status:"unknown",color:"gray"};let{available_qty:e,min_stock_level:a}=K;return e<=0?{status:"Out of Stock",color:"red"}:e<=a?{status:"Low Stock",color:"yellow"}:{status:"In Stock",color:"green"}})();return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(y.Button,{variant:"ghost",onClick:()=>M.push("/dashboard/materials"),children:[(0,a.jsx)(r.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:D?(0,a.jsx)(f.Input,{value:Q.name,onChange:e=>F({...Q,name:e.target.value}),className:"text-2xl font-bold"}):K.name}),(0,a.jsx)("p",{className:"text-gray-600",children:"Material Details"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y.Button,{variant:"outline",onClick:()=>{q(!1),K&&F({name:K.name||"",description:K.description||"",unit:K.unit||"",sku:K.sku||"",default_price_eur:K.default_price_eur||0,purchase_price_eur:K.purchase_price_eur||0,min_stock_level:K.min_stock_level||0})},children:[(0,a.jsx)(m.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(y.Button,{onClick:H,disabled:L.isPending,children:[(0,a.jsx)(u.Save,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y.Button,{variant:"outline",onClick:()=>{K&&(F({name:K.name||"",description:K.description||"",unit:K.unit||"",sku:K.sku||"",default_price_eur:K.default_price_eur||0,purchase_price_eur:K.purchase_price_eur||0,min_stock_level:K.min_stock_level||0}),q(!0))},children:[(0,a.jsx)(i.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(y.Button,{variant:"destructive",onClick:()=>S(!0),children:[(0,a.jsx)(l.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Current Stock"}),(0,a.jsx)(n.Package,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(v.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[K.current_stock_qty," ",K.unit]}),(0,a.jsx)(N.Badge,{variant:"green"===O.color?"default":"yellow"===O.color?"secondary":"destructive",children:O.status})]})]}),(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Available"}),(0,a.jsx)(c.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(v.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[K.available_qty," ",K.unit]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[K.reserved_qty," reserved"]})]})]}),(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Unit Price"}),(0,a.jsx)(d.DollarSign,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(v.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["€",K.default_price_eur.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Purchase: €",K.purchase_price_eur.toFixed(2)]})]})]}),(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(v.CardTitle,{className:"text-sm font-medium",children:"Category"}),(0,a.jsx)(x.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(v.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:K.category}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["SKU: ",K.sku||"N/A"]})]})]})]}),(0,a.jsxs)(w.Tabs,{defaultValue:"details",className:"space-y-4",children:[(0,a.jsxs)(w.TabsList,{children:[(0,a.jsx)(w.TabsTrigger,{value:"details",children:"Details"}),(0,a.jsx)(w.TabsTrigger,{value:"history",children:"History"}),(0,a.jsx)(w.TabsTrigger,{value:"allocations",children:"Allocations"})]}),(0,a.jsx)(w.TabsContent,{value:"details",className:"space-y-4",children:(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{children:[(0,a.jsx)(v.CardTitle,{children:"Material Information"}),(0,a.jsx)(v.CardDescription,{children:"Basic information about this material"})]}),(0,a.jsxs)(v.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"name",children:"Name"}),D?(0,a.jsx)(f.Input,{id:"name",value:Q.name,onChange:e=>F({...Q,name:e.target.value})}):(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.name})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"sku",children:"SKU"}),D?(0,a.jsx)(f.Input,{id:"sku",value:Q.sku,onChange:e=>F({...Q,sku:e.target.value})}):(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.sku||"N/A"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"unit",children:"Unit"}),D?(0,a.jsxs)(b.Select,{value:Q.unit,onValueChange:e=>F({...Q,unit:e}),children:[(0,a.jsx)(b.SelectTrigger,{children:(0,a.jsx)(b.SelectValue,{})}),(0,a.jsxs)(b.SelectContent,{children:[(0,a.jsx)(b.SelectItem,{value:"piece",children:"Piece"}),(0,a.jsx)(b.SelectItem,{value:"meter",children:"Meter"}),(0,a.jsx)(b.SelectItem,{value:"kg",children:"Kilogram"}),(0,a.jsx)(b.SelectItem,{value:"liter",children:"Liter"}),(0,a.jsx)(b.SelectItem,{value:"box",children:"Box"}),(0,a.jsx)(b.SelectItem,{value:"roll",children:"Roll"})]})]}):(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.unit})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"category",children:"Category"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.category})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"default_price",children:"Default Price (EUR)"}),D?(0,a.jsx)(f.Input,{id:"default_price",type:"number",step:"0.01",value:Q.default_price_eur,onChange:e=>F({...Q,default_price_eur:parseFloat(e.target.value)||0})}):(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["€",K.default_price_eur.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"purchase_price",children:"Purchase Price (EUR)"}),D?(0,a.jsx)(f.Input,{id:"purchase_price",type:"number",step:"0.01",value:Q.purchase_price_eur,onChange:e=>F({...Q,purchase_price_eur:parseFloat(e.target.value)||0})}):(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:["€",K.purchase_price_eur.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"min_stock",children:"Minimum Stock Level"}),D?(0,a.jsx)(f.Input,{id:"min_stock",type:"number",value:Q.min_stock_level,onChange:e=>F({...Q,min_stock_level:parseInt(e.target.value)||0})}):(0,a.jsxs)("p",{className:"text-sm text-gray-900",children:[K.min_stock_level," ",K.unit]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"storage",children:"Storage Location"}),(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.storage_location||"Main Warehouse"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.Label,{htmlFor:"description",children:"Description"}),D?(0,a.jsx)(j.Textarea,{id:"description",value:Q.description,onChange:e=>F({...Q,description:e.target.value}),rows:3}):(0,a.jsx)("p",{className:"text-sm text-gray-900",children:K.description||"No description available"})]})]})]})}),(0,a.jsx)(w.TabsContent,{value:"history",className:"space-y-4",children:(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{children:[(0,a.jsx)(v.CardTitle,{children:"Stock Movement History"}),(0,a.jsx)(v.CardDescription,{children:"Recent stock movements for this material"})]}),(0,a.jsx)(v.CardContent,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(p.History,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Stock movement history will be implemented with inventory tracking"})]})})]})}),(0,a.jsx)(w.TabsContent,{value:"allocations",className:"space-y-4",children:(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardHeader,{children:[(0,a.jsx)(v.CardTitle,{children:"Current Allocations"}),(0,a.jsx)(v.CardDescription,{children:"Materials currently allocated to projects"})]}),(0,a.jsx)(v.CardContent,{children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(h.Truck,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Material allocations will be loaded from the database"})]})})]})})]}),(0,a.jsx)(C.AlertDialog,{open:T,onOpenChange:S,children:(0,a.jsxs)(C.AlertDialogContent,{children:[(0,a.jsxs)(C.AlertDialogHeader,{children:[(0,a.jsx)(C.AlertDialogTitle,{children:"Delete Material"}),(0,a.jsxs)(C.AlertDialogDescription,{children:['Are you sure you want to delete "',K.name,'"? This action cannot be undone. This will also remove all associated warehouse entries.']})]}),(0,a.jsxs)(C.AlertDialogFooter,{children:[(0,a.jsx)(C.AlertDialogCancel,{children:"Cancel"}),(0,a.jsx)(C.AlertDialogAction,{onClick:I,className:"bg-red-600 hover:bg-red-700",disabled:P.isPending,children:P.isPending?"Deleting...":"Delete"})]})]})})]})}}]);