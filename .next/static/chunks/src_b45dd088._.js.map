{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB;QAAC,EACzB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB;QAAC,EACzB,SAAS,EACT,GAAG,OACkC;yBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,uBAAuB,WAAW,GAChC,6LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,2KAAgB,OAGxC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,IAAA,uJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,IAAA,uJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-materials.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport {\n  materialsApi,\n  suppliersApi,\n  materialAllocationsApi,\n  materialOrdersApi,\n  type Material,\n  type Supplier,\n  type MaterialAllocation,\n  type MaterialOrder,\n  type MaterialFilters,\n  type AllocationFilters,\n  type OrderFilters,\n  type AllocationRequest,\n  type MaterialOrderStatus,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const materialKeys = {\n  all: [\"materials\"] as const,\n  lists: () => [...materialKeys.all, \"list\"] as const,\n  list: (filters: MaterialFilters) => [...materialKeys.lists(), filters] as const,\n  details: () => [...materialKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...materialKeys.details(), id] as const,\n  lowStock: () => [...materialKeys.all, \"low-stock\"] as const,\n};\n\nexport const supplierKeys = {\n  all: [\"suppliers\"] as const,\n  lists: () => [...supplierKeys.all, \"list\"] as const,\n  details: () => [...supplierKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...supplierKeys.details(), id] as const,\n};\n\nexport const allocationKeys = {\n  all: [\"allocations\"] as const,\n  lists: () => [...allocationKeys.all, \"list\"] as const,\n  list: (filters: AllocationFilters) => [...allocationKeys.lists(), filters] as const,\n  details: () => [...allocationKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...allocationKeys.details(), id] as const,\n};\n\nexport const orderKeys = {\n  all: [\"orders\"] as const,\n  lists: () => [...orderKeys.all, \"list\"] as const,\n  list: (filters: OrderFilters) => [...orderKeys.lists(), filters] as const,\n  details: () => [...orderKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...orderKeys.details(), id] as const,\n};\n\n// Centralized cache invalidation function for all material-related queries\nexport function invalidateAllMaterialQueries(queryClient: any) {\n  // Invalidate all material queries\n  queryClient.invalidateQueries({ queryKey: materialKeys.all });\n  queryClient.invalidateQueries({ queryKey: allocationKeys.all });\n  queryClient.invalidateQueries({ queryKey: orderKeys.all });\n\n  // Invalidate unified material views\n  queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"unified-warehouse\"] });\n  queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"allocation-targets\"] });\n\n  // Force refetch critical queries\n  queryClient.refetchQueries({\n    queryKey: [...materialKeys.all, \"unified-warehouse\"],\n    type: 'active'\n  });\n}\n\n// Unified Material Hooks with consistent data source\nexport function useMaterials(filters?: MaterialFilters) {\n  return useQuery({\n    queryKey: materialKeys.list(filters || {}),\n    queryFn: () => materialsApi.getMaterials(filters),\n    staleTime: 2 * 60 * 1000, // 2 minutes - shorter for inventory accuracy\n  });\n}\n\nexport function useMaterial(id: string) {\n  return useQuery({\n    queryKey: materialKeys.detail(id),\n    queryFn: () => materialsApi.getMaterial(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  });\n}\n\nexport function useLowStockMaterials() {\n  return useQuery({\n    queryKey: materialKeys.lowStock(),\n    queryFn: async () => {\n      const response = await fetch('/api/materials/low-stock');\n      if (!response.ok) {\n        throw new Error('Failed to fetch low stock materials');\n      }\n      const data = await response.json();\n      return data.materials || []; // Extract materials array from API response\n    },\n    staleTime: 2 * 60 * 1000, // 2 minutes - more frequent updates for stock alerts\n  });\n}\n\n// Unified Warehouse Materials Hook - Single source of truth for inventory\nexport function useUnifiedWarehouseMaterials() {\n  return useQuery({\n    queryKey: [...materialKeys.all, \"unified-warehouse\"],\n    queryFn: async () => {\n      const response = await fetch('/api/materials/unified?view=warehouse');\n      if (!response.ok) {\n        throw new Error('Failed to fetch warehouse materials');\n      }\n      const data = await response.json();\n      return data.materials || [];\n    },\n    staleTime: 30 * 1000, // 30 seconds for faster updates\n    gcTime: 5 * 60 * 1000, // Keep in cache for 5 minutes\n    refetchOnWindowFocus: true, // Refetch when user returns to window\n    refetchInterval: 60 * 1000, // Auto-refetch every minute\n  });\n}\n\n// Project Material Allocations Hook with unified data\nexport function useUnifiedProjectMaterials(projectId: string) {\n  return useQuery({\n    queryKey: [...allocationKeys.all, \"project\", projectId, \"unified\"],\n    queryFn: async () => {\n      const response = await fetch(`/api/materials/unified?view=project_allocations&project_id=${projectId}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch project materials');\n      }\n      const data = await response.json();\n      return { materials: data.materials || [], summary: data.allocation_summary };\n    },\n    enabled: !!projectId,\n    staleTime: 1 * 60 * 1000, // 1 minute\n    gcTime: 5 * 60 * 1000,\n  });\n}\n\n// Material Allocation Targets Hook\nexport function useMaterialAllocationTargets() {\n  return useQuery({\n    queryKey: [...materialKeys.all, \"allocation-targets\"],\n    queryFn: async () => {\n      const response = await fetch('/api/materials/unified?view=allocation_targets');\n      if (!response.ok) {\n        throw new Error('Failed to fetch allocation targets');\n      }\n      const data = await response.json();\n      return data.materials || [];\n    },\n    staleTime: 30 * 1000, // 30 seconds for responsive allocation targets\n    refetchOnWindowFocus: true,\n  });\n}\n\nexport function useCreateMaterial() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: Partial<Material>) => materialsApi.createMaterial(data),\n    onSuccess: (newMaterial) => {\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      queryClient.setQueryData(materialKeys.detail(newMaterial.id), newMaterial);\n      toast.success(\"Material created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create material: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateMaterial() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Material> }) =>\n      materialsApi.updateMaterial(id, data),\n    onMutate: async ({ id, data }) => {\n      await queryClient.cancelQueries({ queryKey: materialKeys.detail(id) });\n      const previousMaterial = queryClient.getQueryData(materialKeys.detail(id));\n\n      queryClient.setQueryData(materialKeys.detail(id), (old: Material | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      return { previousMaterial };\n    },\n    onError: (error, { id }, context) => {\n      if (context?.previousMaterial) {\n        queryClient.setQueryData(materialKeys.detail(id), context.previousMaterial);\n      }\n      toast.error(`Failed to update material: ${error.message}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lowStock() });\n      toast.success(\"Material updated successfully\");\n    },\n    onSettled: (data, error, { id }) => {\n      queryClient.invalidateQueries({ queryKey: materialKeys.detail(id) });\n    },\n  });\n}\n\nexport function useDeleteMaterial() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => materialsApi.deleteMaterial(id),\n    onSuccess: (_, deletedId) => {\n      queryClient.removeQueries({ queryKey: materialKeys.detail(deletedId) });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lowStock() });\n      toast.success(\"Material deleted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete material: ${error.message}`);\n    },\n  });\n}\n\nexport function useAdjustStock() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, adjustment }: { id: string; adjustment: { quantity: number; reason: string } }) =>\n      materialsApi.adjustStock(id, adjustment),\n    onSuccess: (updatedMaterial) => {\n      queryClient.setQueryData(materialKeys.detail(updatedMaterial.id), updatedMaterial);\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lowStock() });\n      // Invalidate unified warehouse and allocation views\n      queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"unified-warehouse\"] });\n      queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"allocation-targets\"] });\n      toast.success(\"Stock adjusted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to adjust stock: ${error.message}`);\n    },\n  });\n}\n\n// Material Consumption Hook\nexport function useConsumeMaterial() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: {\n      allocation_id: string;\n      consumed_qty: number;\n      work_entry_id?: string;\n      notes?: string\n    }) => {\n      return fetch('/api/materials/consume', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      }).then(response => {\n        if (!response.ok) {\n          return response.json().then(err => Promise.reject(new Error(err.error || 'Failed to consume material')));\n        }\n        return response.json();\n      });\n    },\n    onSuccess: (result, variables) => {\n      // Invalidate all material-related queries to ensure consistency\n      queryClient.invalidateQueries({ queryKey: materialKeys.all });\n      queryClient.invalidateQueries({ queryKey: [...allocationKeys.all] });\n      queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"unified-warehouse\"] });\n      queryClient.invalidateQueries({ queryKey: [...materialKeys.all, \"allocation-targets\"] });\n\n      // If we know the project, invalidate project-specific queries\n      if (variables.work_entry_id) {\n        queryClient.invalidateQueries({ queryKey: [...allocationKeys.all, \"project\"] });\n      }\n\n      toast.success(result.message || \"Material consumed successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to consume material: ${error.message}`);\n    },\n  });\n}\n\n// Supplier Hooks\nexport function useSuppliers() {\n  return useQuery({\n    queryKey: supplierKeys.lists(),\n    queryFn: () => suppliersApi.getSuppliers(),\n    staleTime: 10 * 60 * 1000, // 10 minutes - suppliers change less frequently\n  });\n}\n\nexport function useSupplier(id: string) {\n  return useQuery({\n    queryKey: supplierKeys.detail(id),\n    queryFn: () => suppliersApi.getSupplier(id),\n    enabled: !!id,\n    staleTime: 10 * 60 * 1000,\n  });\n}\n\nexport function useCreateSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: Partial<Supplier>) => suppliersApi.createSupplier(data),\n    onSuccess: (newSupplier) => {\n      queryClient.invalidateQueries({ queryKey: supplierKeys.lists() });\n      queryClient.setQueryData(supplierKeys.detail(newSupplier.id), newSupplier);\n      toast.success(\"Supplier created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create supplier: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Supplier> }) =>\n      suppliersApi.updateSupplier(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: supplierKeys.lists() });\n      toast.success(\"Supplier updated successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update supplier: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => suppliersApi.deleteSupplier(id),\n    onSuccess: (_, deletedId) => {\n      queryClient.removeQueries({ queryKey: supplierKeys.detail(deletedId) });\n      queryClient.invalidateQueries({ queryKey: supplierKeys.lists() });\n      toast.success(\"Supplier deleted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete supplier: ${error.message}`);\n    },\n  });\n}\n\n// Allocation Hooks\nexport function useAllocations(filters?: AllocationFilters) {\n  return useQuery({\n    queryKey: allocationKeys.list(filters || {}),\n    queryFn: () => materialAllocationsApi.getAllocations(filters),\n    staleTime: 2 * 60 * 1000, // 2 minutes - allocations change frequently\n  });\n}\n\nexport function useAllocation(id: string) {\n  return useQuery({\n    queryKey: allocationKeys.detail(id),\n    queryFn: () => materialAllocationsApi.getAllocation(id),\n    enabled: !!id,\n    staleTime: 2 * 60 * 1000,\n  });\n}\n\nexport function useCreateAllocation() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: AllocationRequest) => materialAllocationsApi.createAllocation(data),\n    onSuccess: (newAllocation) => {\n      queryClient.invalidateQueries({ queryKey: allocationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lowStock() });\n      queryClient.setQueryData(allocationKeys.detail(newAllocation.id), newAllocation);\n      toast.success(\"Material allocated successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to allocate material: ${error.message}`);\n    },\n  });\n}\n\nexport function useRecordUsage() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, usage }: { id: string; usage: { used_qty: number; notes?: string } }) =>\n      materialAllocationsApi.recordUsage(id, usage),\n    onSuccess: (updatedAllocation) => {\n      queryClient.setQueryData(allocationKeys.detail(updatedAllocation.id), updatedAllocation);\n      queryClient.invalidateQueries({ queryKey: allocationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n      toast.success(\"Usage recorded successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to record usage: ${error.message}`);\n    },\n  });\n}\n\n// Order Hooks\nexport function useOrders(filters?: OrderFilters) {\n  return useQuery({\n    queryKey: orderKeys.list(filters || {}),\n    queryFn: () => materialOrdersApi.getOrders(filters),\n    staleTime: 3 * 60 * 1000, // 3 minutes\n  });\n}\n\nexport function useOrder(id: string) {\n  return useQuery({\n    queryKey: orderKeys.detail(id),\n    queryFn: () => materialOrdersApi.getOrder(id),\n    enabled: !!id,\n    staleTime: 3 * 60 * 1000,\n  });\n}\n\nexport function useCreateOrder() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: Partial<MaterialOrder>) => materialOrdersApi.createOrder(data),\n    onSuccess: (newOrder) => {\n      queryClient.invalidateQueries({ queryKey: orderKeys.lists() });\n      queryClient.setQueryData(orderKeys.detail(newOrder.id), newOrder);\n      toast.success(\"Order created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create order: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateOrderStatus() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, status }: { id: string; status: MaterialOrderStatus }) =>\n      materialOrdersApi.updateOrderStatus(id, status),\n    onSuccess: (updatedOrder) => {\n      queryClient.setQueryData(orderKeys.detail(updatedOrder.id), updatedOrder);\n      queryClient.invalidateQueries({ queryKey: orderKeys.lists() });\n\n      // If order is delivered, update material stock levels\n      if (updatedOrder.status === \"delivered\") {\n        queryClient.invalidateQueries({ queryKey: materialKeys.lists() });\n        queryClient.invalidateQueries({ queryKey: materialKeys.lowStock() });\n      }\n\n      toast.success(\"Order status updated successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update order status: ${error.message}`);\n    },\n  });\n}\n\n// Specialized hooks\nexport function useProjectAllocations(projectId: string) {\n  return useAllocations({ project_id: projectId });\n}\n\nexport function useTeamAllocations(teamId: string) {\n  return useAllocations({ team_id: teamId });\n}\n\nexport function usePendingOrders() {\n  return useOrders({ status: \"pending\" });\n}\n\nexport function useSupplierOrders(supplierId: string) {\n  return useOrders({ supplier_id: supplierId });\n}\n\n// Project Preparation specific hooks\nexport interface ProjectMaterial {\n  id: string;\n  material_id: string;\n  name: string;\n  sku?: string;\n  unit: string;\n  description?: string;\n  allocated_qty: number;\n  unit_price: number;\n  total_cost: number;\n  allocation_date: string;\n  return_date?: string;\n  status: 'allocated' | 'used' | 'returned' | 'cancelled';\n  notes?: string;\n  allocated_by_name?: string;\n}\n\nexport interface WarehouseMaterial {\n  id: string;\n  name: string;\n  sku?: string;\n  unit: string;\n  description?: string;\n  available_qty: number;\n  total_qty: number;\n  reserved_qty: number;\n  min_stock: number;\n  price: number;\n}\n\nexport interface ProjectMaterialsResponse {\n  materials: ProjectMaterial[];\n  summary: {\n    total_materials: number;\n    pending_count: number;\n    used_count: number;\n    total_cost: number;\n  };\n}\n\nexport interface MaterialAssignmentData {\n  project_id: string;\n  material_id: string;\n  quantity: number;\n  from_date: string;\n  to_date?: string;\n  notes?: string;\n}\n\nexport interface UpdateMaterialAssignmentData {\n  assignment_id: string;\n  quantity: number;\n  unit_price: number;\n  from_date: string;\n  to_date?: string;\n  notes?: string;\n}\n\nexport function useProjectMaterials(projectId: string) {\n  return useQuery({\n    queryKey: [...materialKeys.all, \"project\", projectId],\n    queryFn: async (): Promise<ProjectMaterialsResponse> => {\n      const response = await fetch(`/api/materials/project/${projectId}`, {\n        headers: {\n          'Cache-Control': 'no-cache',\n          'Pragma': 'no-cache'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch project materials');\n      }\n      return response.json();\n    },\n    enabled: !!projectId,\n    staleTime: 0, // Force fresh data every time\n    gcTime: 0, // Don't keep old data in memory\n  });\n}\n\nexport function useWarehouseMaterials() {\n  return useQuery({\n    queryKey: [...materialKeys.all, \"warehouse\"],\n    queryFn: async (): Promise<WarehouseMaterial[]> => {\n      const response = await fetch('/api/materials/warehouse');\n      if (!response.ok) {\n        throw new Error('Failed to fetch warehouse materials');\n      }\n      return response.json();\n    },\n    staleTime: 2 * 60 * 1000, // 2 minutes\n  });\n}\n\nexport function useAssignMaterialToProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (data: MaterialAssignmentData) => {\n      const response = await fetch('/api/materials/assignments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || 'Failed to assign material');\n      }\n\n      return response.json();\n    },\n    onSuccess: (data, variables) => {\n      // Invalidate legacy project materials\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"project\", variables.project_id]\n      });\n\n      // Invalidate unified project materials\n      queryClient.invalidateQueries({\n        queryKey: [...allocationKeys.all, \"project\", variables.project_id, \"unified\"]\n      });\n\n      // Invalidate warehouse materials (stock has changed)\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"warehouse\"]\n      });\n\n      // Invalidate unified warehouse materials\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"unified-warehouse\"]\n      });\n\n      // Invalidate allocation targets (availability may have changed)\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"allocation-targets\"]\n      });\n\n      // Force immediate refetch for real-time updates\n      queryClient.refetchQueries({\n        queryKey: [...allocationKeys.all, \"project\", variables.project_id, \"unified\"]\n      });\n\n      queryClient.refetchQueries({\n        queryKey: [...materialKeys.all, \"unified-warehouse\"]\n      });\n\n      toast.success('Material assigned successfully');\n    },\n    onError: (error) => {\n      toast.error(`Failed to assign material: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateMaterialAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (data: UpdateMaterialAssignmentData) => {\n      const { assignment_id, ...updateData } = data;\n      const response = await fetch(`/api/materials/assignments/${assignment_id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(updateData),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || 'Failed to update material assignment');\n      }\n\n      return response.json();\n    },\n    onSuccess: (data, variables) => {\n      // Invalidate legacy project materials queries\n      queryClient.invalidateQueries({\n        predicate: (query) => {\n          return query.queryKey[0] === \"materials\" &&\n                 query.queryKey[1] === \"project\";\n        }\n      });\n\n      // Invalidate unified project materials queries\n      queryClient.invalidateQueries({\n        predicate: (query) => {\n          return query.queryKey.includes(\"unified\");\n        }\n      });\n\n      // Invalidate warehouse and allocation targets (stock may have changed)\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"warehouse\"]\n      });\n\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"unified-warehouse\"]\n      });\n\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"allocation-targets\"]\n      });\n\n      toast.success('Material assignment updated successfully');\n    },\n    onError: (error) => {\n      toast.error(`Failed to update material assignment: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteMaterialAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (assignmentId: string) => {\n      const response = await fetch(`/api/materials/assignments/${assignmentId}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || 'Failed to delete material assignment');\n      }\n\n      return response.json();\n    },\n    onSuccess: (data, assignmentId) => {\n      // Invalidate all legacy project materials queries\n      queryClient.invalidateQueries({\n        predicate: (query) => {\n          return query.queryKey[0] === \"materials\" &&\n                 query.queryKey[1] === \"project\";\n        }\n      });\n\n      // Invalidate all unified queries\n      queryClient.invalidateQueries({\n        predicate: (query) => {\n          return query.queryKey.includes(\"unified\");\n        }\n      });\n\n      // Invalidate warehouse materials (stock has been restored)\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"warehouse\"]\n      });\n\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"unified-warehouse\"]\n      });\n\n      // Invalidate allocation targets (availability increased)\n      queryClient.invalidateQueries({\n        queryKey: [...materialKeys.all, \"allocation-targets\"]\n      });\n\n      toast.success('Material assignment deleted successfully');\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete material assignment: ${error.message}`);\n    },\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1483, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/app/%28dashboard%29/dashboard/materials/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useParams } from \"next/navigation\";\nimport {\n  ArrowLeft,\n  Edit,\n  Trash2,\n  Package,\n  AlertTriangle,\n  TrendingUp,\n  TrendingDown,\n  Clock,\n  MapPin,\n  DollarSign,\n  Plus,\n  Minus,\n  Save,\n  X,\n  History,\n  Truck,\n  Building2,\n} from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\n\nimport { useMaterial, useUpdateMaterial, useDeleteMaterial } from \"@/hooks/use-materials\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\n\nexport default function MaterialDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const materialId = params.id as string;\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [editForm, setEditForm] = useState({\n    name: \"\",\n    description: \"\",\n    unit: \"\",\n    sku: \"\",\n    default_price_eur: 0,\n    purchase_price_eur: 0,\n    min_stock_level: 0,\n  });\n\n  const { data: material, isLoading, error } = useMaterial(materialId);\n  const updateMaterial = useUpdateMaterial();\n  const deleteMaterial = useDeleteMaterial();\n\n  // Fetch material transactions for history tab\n  const { data: transactions, isLoading: transactionsLoading } = useQuery({\n    queryKey: ['material-transactions', materialId],\n    queryFn: async () => {\n      const response = await fetch(`/api/materials/${materialId}/transactions`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch transactions');\n      }\n      return response.json();\n    },\n    enabled: !!materialId,\n  });\n\n  // Initialize form when material data loads\n  React.useEffect(() => {\n    if (material && !isEditing) {\n      setEditForm({\n        name: material.name || \"\",\n        description: material.description || \"\",\n        unit: material.unit || \"\",\n        sku: material.sku || \"\",\n        default_price_eur: material.default_price_eur || 0,\n        purchase_price_eur: material.purchase_price_eur || 0,\n        min_stock_level: material.min_stock_level || 0,\n      });\n    }\n  }, [material, isEditing]);\n\n  const handleEdit = () => {\n    if (material) {\n      setEditForm({\n        name: material.name || \"\",\n        description: material.description || \"\",\n        unit: material.unit || \"\",\n        sku: material.sku || \"\",\n        default_price_eur: material.default_price_eur || 0,\n        purchase_price_eur: material.purchase_price_eur || 0,\n        min_stock_level: material.min_stock_level || 0,\n      });\n      setIsEditing(true);\n    }\n  };\n\n  const handleSave = async () => {\n    try {\n      await updateMaterial.mutateAsync({\n        id: materialId,\n        data: editForm,\n      });\n      setIsEditing(false);\n      toast.success(\"Material updated successfully\");\n    } catch (error) {\n      toast.error(\"Failed to update material\");\n    }\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n    if (material) {\n      setEditForm({\n        name: material.name || \"\",\n        description: material.description || \"\",\n        unit: material.unit || \"\",\n        sku: material.sku || \"\",\n        default_price_eur: material.default_price_eur || 0,\n        purchase_price_eur: material.purchase_price_eur || 0,\n        min_stock_level: material.min_stock_level || 0,\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await deleteMaterial.mutateAsync(materialId);\n      toast.success(\"Material deleted successfully\");\n      router.push(\"/dashboard/materials\");\n    } catch (error) {\n      toast.error(\"Failed to delete material\");\n    }\n  };\n\n  const getStockStatus = () => {\n    if (!material) return { status: \"unknown\", color: \"gray\" };\n\n    const currentStock = material.current_stock || 0;\n    const minThreshold = material.min_stock_threshold || 0;\n\n    if (currentStock <= 0) {\n      return { status: \"Out of Stock\", color: \"red\" };\n    } else if (currentStock <= minThreshold) {\n      return { status: \"Low Stock\", color: \"yellow\" };\n    } else {\n      return { status: \"In Stock\", color: \"green\" };\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-4\"></div>\n          <div className=\"h-64 bg-gray-200 rounded mb-4\"></div>\n          <div className=\"h-32 bg-gray-200 rounded\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !material) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center\">\n          <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Material Not Found</h2>\n          <p className=\"text-gray-600 mb-4\">The material you're looking for doesn't exist.</p>\n          <Button onClick={() => router.push(\"/dashboard/materials\")}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back to Materials\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  const stockStatus = getStockStatus();\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => router.push(\"/dashboard/materials\")}\n          >\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              {isEditing ? (\n                <Input\n                  value={editForm.name}\n                  onChange={(e) =>\n                    setEditForm({ ...editForm, name: e.target.value })\n                  }\n                  className=\"text-2xl font-bold\"\n                />\n              ) : (\n                material.name\n              )}\n            </h1>\n            <p className=\"text-gray-600\">Material Details</p>\n          </div>\n        </div>\n\n        <div className=\"flex items-center space-x-2\">\n          {isEditing ? (\n            <>\n              <Button variant=\"outline\" onClick={handleCancel}>\n                <X className=\"h-4 w-4 mr-2\" />\n                Cancel\n              </Button>\n              <Button onClick={handleSave} disabled={updateMaterial.isPending}>\n                <Save className=\"h-4 w-4 mr-2\" />\n                Save Changes\n              </Button>\n            </>\n          ) : (\n            <>\n              <Button variant=\"outline\" onClick={handleEdit}>\n                <Edit className=\"h-4 w-4 mr-2\" />\n                Edit\n              </Button>\n              <Button\n                variant=\"destructive\"\n                onClick={() => setShowDeleteDialog(true)}\n              >\n                <Trash2 className=\"h-4 w-4 mr-2\" />\n                Delete\n              </Button>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Current Stock</CardTitle>\n            <Package className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {material.current_stock || 0} {material.unit}\n            </div>\n            <Badge\n              variant={stockStatus.color === \"green\" ? \"default\" : stockStatus.color === \"yellow\" ? \"secondary\" : \"destructive\"}\n            >\n              {stockStatus.status}\n            </Badge>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Available</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {material.current_stock || 0} {material.unit}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              {material.reserved_qty} reserved\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Unit Price</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              €{(material.default_price_eur || 0).toFixed(2)}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Purchase: €{(material.purchase_price_eur || 0).toFixed(2)}\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Category</CardTitle>\n            <Building2 className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{material.category}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              SKU: {material.sku || \"N/A\"}\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Main Content */}\n      <Tabs defaultValue=\"details\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"details\">Details</TabsTrigger>\n          <TabsTrigger value=\"history\">History</TabsTrigger>\n          <TabsTrigger value=\"allocations\">Allocations</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"details\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Material Information</CardTitle>\n              <CardDescription>\n                Basic information about this material\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\">Name</Label>\n                  {isEditing ? (\n                    <Input\n                      id=\"name\"\n                      value={editForm.name}\n                      onChange={(e) =>\n                        setEditForm({ ...editForm, name: e.target.value })\n                      }\n                    />\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">{material.name}</p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"sku\">SKU</Label>\n                  {isEditing ? (\n                    <Input\n                      id=\"sku\"\n                      value={editForm.sku}\n                      onChange={(e) =>\n                        setEditForm({ ...editForm, sku: e.target.value })\n                      }\n                    />\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">{material.sku || \"N/A\"}</p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"unit\">Unit</Label>\n                  {isEditing ? (\n                    <Select\n                      value={editForm.unit}\n                      onValueChange={(value) =>\n                        setEditForm({ ...editForm, unit: value })\n                      }\n                    >\n                      <SelectTrigger>\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"piece\">Piece</SelectItem>\n                        <SelectItem value=\"meter\">Meter</SelectItem>\n                        <SelectItem value=\"kg\">Kilogram</SelectItem>\n                        <SelectItem value=\"liter\">Liter</SelectItem>\n                        <SelectItem value=\"box\">Box</SelectItem>\n                        <SelectItem value=\"roll\">Roll</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">{material.unit}</p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"category\">Category</Label>\n                  <p className=\"text-sm text-gray-900\">{material.category}</p>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"default_price\">Default Price (EUR)</Label>\n                  {isEditing ? (\n                    <Input\n                      id=\"default_price\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={editForm.default_price_eur}\n                      onChange={(e) =>\n                        setEditForm({\n                          ...editForm,\n                          default_price_eur: parseFloat(e.target.value) || 0,\n                        })\n                      }\n                    />\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">\n                      €{(material.default_price_eur || 0).toFixed(2)}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"purchase_price\">Purchase Price (EUR)</Label>\n                  {isEditing ? (\n                    <Input\n                      id=\"purchase_price\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={editForm.purchase_price_eur}\n                      onChange={(e) =>\n                        setEditForm({\n                          ...editForm,\n                          purchase_price_eur: parseFloat(e.target.value) || 0,\n                        })\n                      }\n                    />\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">\n                      €{(material.purchase_price_eur || 0).toFixed(2)}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"min_stock\">Minimum Stock Level</Label>\n                  {isEditing ? (\n                    <Input\n                      id=\"min_stock\"\n                      type=\"number\"\n                      value={editForm.min_stock_level}\n                      onChange={(e) =>\n                        setEditForm({\n                          ...editForm,\n                          min_stock_level: parseInt(e.target.value) || 0,\n                        })\n                      }\n                    />\n                  ) : (\n                    <p className=\"text-sm text-gray-900\">\n                      {material.min_stock_level} {material.unit}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"storage\">Storage Location</Label>\n                  <p className=\"text-sm text-gray-900\">\n                    {material.storage_location || \"Main Warehouse\"}\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"description\">Description</Label>\n                {isEditing ? (\n                  <Textarea\n                    id=\"description\"\n                    value={editForm.description}\n                    onChange={(e) =>\n                      setEditForm({ ...editForm, description: e.target.value })\n                    }\n                    rows={3}\n                  />\n                ) : (\n                  <p className=\"text-sm text-gray-900\">\n                    {material.description || \"No description available\"}\n                  </p>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"history\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Stock Movement History</CardTitle>\n              <CardDescription>\n                Recent stock movements for this material\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {transactionsLoading ? (\n                <div className=\"text-center py-8\">\n                  <History className=\"h-12 w-12 text-gray-400 mx-auto mb-4 animate-pulse\" />\n                  <p className=\"text-gray-600\">Loading transaction history...</p>\n                </div>\n              ) : transactions?.items?.length > 0 ? (\n                <div className=\"space-y-4\">\n                  {transactions.items.map((transaction: any) => (\n                    <div key={transaction.id} className=\"border rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center space-x-3\">\n                          <div className={`p-2 rounded-full ${\n                            transaction.transaction_type === 'receive'\n                              ? 'bg-green-100 text-green-600'\n                              : transaction.transaction_type === 'issue'\n                              ? 'bg-red-100 text-red-600'\n                              : 'bg-blue-100 text-blue-600'\n                          }`}>\n                            {transaction.transaction_type === 'receive' ? (\n                              <TrendingUp className=\"h-4 w-4\" />\n                            ) : transaction.transaction_type === 'issue' ? (\n                              <TrendingDown className=\"h-4 w-4\" />\n                            ) : (\n                              <History className=\"h-4 w-4\" />\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium\">\n                              {transaction.transaction_type === 'receive' ? 'Received' :\n                               transaction.transaction_type === 'issue' ? 'Issued' :\n                               'Movement'}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                              {new Date(transaction.created_at).toLocaleDateString('ru-RU')} {new Date(transaction.created_at).toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n                            </p>\n                          </div>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className={`font-medium ${\n                            transaction.transaction_type === 'receive'\n                              ? 'text-green-600'\n                              : 'text-red-600'\n                          }`}>\n                            {transaction.transaction_type === 'receive' ? '+' : '-'}{transaction.quantity} {material?.unit || ''}\n                          </p>\n                          <p className=\"text-sm text-gray-500\">\n                            €{(transaction.total_price || 0).toFixed(2)}\n                          </p>\n                        </div>\n                      </div>\n                      {transaction.notes && (\n                        <p className=\"text-sm text-gray-600 mt-2\">{transaction.notes}</p>\n                      )}\n                      {transaction.reference_type && (\n                        <p className=\"text-xs text-gray-400 mt-1\">\n                          Ref: {transaction.reference_type} #{transaction.reference_id}\n                        </p>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8\">\n                  <History className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                  <p className=\"text-gray-600\">\n                    No transaction history found for this material\n                  </p>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    History will appear here when material orders are received\n                  </p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"allocations\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Current Allocations</CardTitle>\n              <CardDescription>\n                Materials currently allocated to projects\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-center py-8\">\n                <Truck className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                <p className=\"text-gray-600\">\n                  Material allocations will be loaded from the database\n                </p>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Delete Material</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to delete \"{material.name}\"? This action cannot be undone.\n              This will also remove all associated warehouse entries.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              className=\"bg-red-600 hover:bg-red-700\"\n              disabled={deleteMaterial.isPending}\n            >\n              {deleteMaterial.isPending ? \"Deleting...\" : \"Delete\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;AAWA;AACA;AACA;;;AArDA;;;;;;;;;;;;;;;;;AAuDe,SAAS;QAycN;;IAxchB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,aAAa,OAAO,EAAE;IAE5B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,MAAM;QACN,aAAa;QACb,MAAM;QACN,KAAK;QACL,mBAAmB;QACnB,oBAAoB;QACpB,iBAAiB;IACnB;IAEA,MAAM,EAAE,MAAM,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,kJAAW,EAAC;IACzD,MAAM,iBAAiB,IAAA,wJAAiB;IACxC,MAAM,iBAAiB,IAAA,wJAAiB;IAExC,8CAA8C;IAC9C,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,mBAAmB,EAAE,GAAG,IAAA,0LAAQ,EAAC;QACtE,UAAU;YAAC;YAAyB;SAAW;QAC/C,OAAO;2CAAE;gBACP,MAAM,WAAW,MAAM,MAAM,AAAC,kBAA4B,OAAX,YAAW;gBAC1D,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBACA,OAAO,SAAS,IAAI;YACtB;;QACA,SAAS,CAAC,CAAC;IACb;IAEA,2CAA2C;IAC3C,wKAAK,CAAC,SAAS;wCAAC;YACd,IAAI,YAAY,CAAC,WAAW;gBAC1B,YAAY;oBACV,MAAM,SAAS,IAAI,IAAI;oBACvB,aAAa,SAAS,WAAW,IAAI;oBACrC,MAAM,SAAS,IAAI,IAAI;oBACvB,KAAK,SAAS,GAAG,IAAI;oBACrB,mBAAmB,SAAS,iBAAiB,IAAI;oBACjD,oBAAoB,SAAS,kBAAkB,IAAI;oBACnD,iBAAiB,SAAS,eAAe,IAAI;gBAC/C;YACF;QACF;uCAAG;QAAC;QAAU;KAAU;IAExB,MAAM,aAAa;QACjB,IAAI,UAAU;YACZ,YAAY;gBACV,MAAM,SAAS,IAAI,IAAI;gBACvB,aAAa,SAAS,WAAW,IAAI;gBACrC,MAAM,SAAS,IAAI,IAAI;gBACvB,KAAK,SAAS,GAAG,IAAI;gBACrB,mBAAmB,SAAS,iBAAiB,IAAI;gBACjD,oBAAoB,SAAS,kBAAkB,IAAI;gBACnD,iBAAiB,SAAS,eAAe,IAAI;YAC/C;YACA,aAAa;QACf;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,eAAe,WAAW,CAAC;gBAC/B,IAAI;gBACJ,MAAM;YACR;YACA,aAAa;YACb,oJAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAO;YACd,oJAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,eAAe;QACnB,aAAa;QACb,IAAI,UAAU;YACZ,YAAY;gBACV,MAAM,SAAS,IAAI,IAAI;gBACvB,aAAa,SAAS,WAAW,IAAI;gBACrC,MAAM,SAAS,IAAI,IAAI;gBACvB,KAAK,SAAS,GAAG,IAAI;gBACrB,mBAAmB,SAAS,iBAAiB,IAAI;gBACjD,oBAAoB,SAAS,kBAAkB,IAAI;gBACnD,iBAAiB,SAAS,eAAe,IAAI;YAC/C;QACF;IACF;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,eAAe,WAAW,CAAC;YACjC,oJAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,oJAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,UAAU,OAAO;YAAE,QAAQ;YAAW,OAAO;QAAO;QAEzD,MAAM,eAAe,SAAS,aAAa,IAAI;QAC/C,MAAM,eAAe,SAAS,mBAAmB,IAAI;QAErD,IAAI,gBAAgB,GAAG;YACrB,OAAO;gBAAE,QAAQ;gBAAgB,OAAO;YAAM;QAChD,OAAO,IAAI,gBAAgB,cAAc;YACvC,OAAO;gBAAE,QAAQ;gBAAa,OAAO;YAAS;QAChD,OAAO;YACL,OAAO;gBAAE,QAAQ;gBAAY,OAAO;YAAQ;QAC9C;IACF;IAEA,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,SAAS,CAAC,UAAU;QACtB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4OAAa;wBAAC,WAAU;;;;;;kCACzB,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAClC,6LAAC,+IAAM;wBAAC,SAAS,IAAM,OAAO,IAAI,CAAC;;0CACjC,6LAAC,gOAAS;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;IAMhD;IAEA,MAAM,cAAc;IAEpB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+IAAM;gCACL,SAAQ;gCACR,SAAS,IAAM,OAAO,IAAI,CAAC;;kDAE3B,6LAAC,gOAAS;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;0CAGxC,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDACX,0BACC,6LAAC,6IAAK;4CACJ,OAAO,SAAS,IAAI;4CACpB,UAAU,CAAC,IACT,YAAY;oDAAE,GAAG,QAAQ;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAElD,WAAU;;;;;mDAGZ,SAAS,IAAI;;;;;;kDAGjB,6LAAC;wCAAE,WAAU;kDAAgB;;;;;;;;;;;;;;;;;;kCAIjC,6LAAC;wBAAI,WAAU;kCACZ,0BACC;;8CACE,6LAAC,+IAAM;oCAAC,SAAQ;oCAAU,SAAS;;sDACjC,6LAAC,oMAAC;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAGhC,6LAAC,+IAAM;oCAAC,SAAS;oCAAY,UAAU,eAAe,SAAS;;sDAC7D,6LAAC,6MAAI;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;yDAKrC;;8CACE,6LAAC,+IAAM;oCAAC,SAAQ;oCAAU,SAAS;;sDACjC,6LAAC,sNAAI;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAGnC,6LAAC,+IAAM;oCACL,SAAQ;oCACR,SAAS,IAAM,oBAAoB;;sDAEnC,6LAAC,uNAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;0BAS7C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,2IAAI;;0CACH,6LAAC,iJAAU;gCAAC,WAAU;;kDACpB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,sNAAO;wCAAC,WAAU;;;;;;;;;;;;0CAErB,6LAAC,kJAAW;;kDACV,6LAAC;wCAAI,WAAU;;4CACZ,SAAS,aAAa,IAAI;4CAAE;4CAAE,SAAS,IAAI;;;;;;;kDAE9C,6LAAC,6IAAK;wCACJ,SAAS,YAAY,KAAK,KAAK,UAAU,YAAY,YAAY,KAAK,KAAK,WAAW,cAAc;kDAEnG,YAAY,MAAM;;;;;;;;;;;;;;;;;;kCAKzB,6LAAC,2IAAI;;0CACH,6LAAC,iJAAU;gCAAC,WAAU;;kDACpB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,mOAAU;wCAAC,WAAU;;;;;;;;;;;;0CAExB,6LAAC,kJAAW;;kDACV,6LAAC;wCAAI,WAAU;;4CACZ,SAAS,aAAa,IAAI;4CAAE;4CAAE,SAAS,IAAI;;;;;;;kDAE9C,6LAAC;wCAAE,WAAU;;4CACV,SAAS,YAAY;4CAAC;;;;;;;;;;;;;;;;;;;kCAK7B,6LAAC,2IAAI;;0CACH,6LAAC,iJAAU;gCAAC,WAAU;;kDACpB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,mOAAU;wCAAC,WAAU;;;;;;;;;;;;0CAExB,6LAAC,kJAAW;;kDACV,6LAAC;wCAAI,WAAU;;4CAAqB;4CAChC,CAAC,SAAS,iBAAiB,IAAI,CAAC,EAAE,OAAO,CAAC;;;;;;;kDAE9C,6LAAC;wCAAE,WAAU;;4CAAgC;4CAC/B,CAAC,SAAS,kBAAkB,IAAI,CAAC,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;kCAK7D,6LAAC,2IAAI;;0CACH,6LAAC,iJAAU;gCAAC,WAAU;;kDACpB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,gOAAS;wCAAC,WAAU;;;;;;;;;;;;0CAEvB,6LAAC,kJAAW;;kDACV,6LAAC;wCAAI,WAAU;kDAAsB,SAAS,QAAQ;;;;;;kDACtD,6LAAC;wCAAE,WAAU;;4CAAgC;4CACrC,SAAS,GAAG,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;0BAO9B,6LAAC,2IAAI;gBAAC,cAAa;gBAAU,WAAU;;kCACrC,6LAAC,+IAAQ;;0CACP,6LAAC,kJAAW;gCAAC,OAAM;0CAAU;;;;;;0CAC7B,6LAAC,kJAAW;gCAAC,OAAM;0CAAU;;;;;;0CAC7B,6LAAC,kJAAW;gCAAC,OAAM;0CAAc;;;;;;;;;;;;kCAGnC,6LAAC,kJAAW;wBAAC,OAAM;wBAAU,WAAU;kCACrC,cAAA,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;;sDACT,6LAAC,gJAAS;sDAAC;;;;;;sDACX,6LAAC,sJAAe;sDAAC;;;;;;;;;;;;8CAInB,6LAAC,kJAAW;oCAAC,WAAU;;sDACrB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAO;;;;;;wDACrB,0BACC,6LAAC,6IAAK;4DACJ,IAAG;4DACH,OAAO,SAAS,IAAI;4DACpB,UAAU,CAAC,IACT,YAAY;oEAAE,GAAG,QAAQ;oEAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gEAAC;;;;;iFAIpD,6LAAC;4DAAE,WAAU;sEAAyB,SAAS,IAAI;;;;;;;;;;;;8DAIvD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAM;;;;;;wDACpB,0BACC,6LAAC,6IAAK;4DACJ,IAAG;4DACH,OAAO,SAAS,GAAG;4DACnB,UAAU,CAAC,IACT,YAAY;oEAAE,GAAG,QAAQ;oEAAE,KAAK,EAAE,MAAM,CAAC,KAAK;gEAAC;;;;;iFAInD,6LAAC;4DAAE,WAAU;sEAAyB,SAAS,GAAG,IAAI;;;;;;;;;;;;8DAI1D,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAO;;;;;;wDACrB,0BACC,6LAAC,+IAAM;4DACL,OAAO,SAAS,IAAI;4DACpB,eAAe,CAAC,QACd,YAAY;oEAAE,GAAG,QAAQ;oEAAE,MAAM;gEAAM;;8EAGzC,6LAAC,sJAAa;8EACZ,cAAA,6LAAC,oJAAW;;;;;;;;;;8EAEd,6LAAC,sJAAa;;sFACZ,6LAAC,mJAAU;4EAAC,OAAM;sFAAQ;;;;;;sFAC1B,6LAAC,mJAAU;4EAAC,OAAM;sFAAQ;;;;;;sFAC1B,6LAAC,mJAAU;4EAAC,OAAM;sFAAK;;;;;;sFACvB,6LAAC,mJAAU;4EAAC,OAAM;sFAAQ;;;;;;sFAC1B,6LAAC,mJAAU;4EAAC,OAAM;sFAAM;;;;;;sFACxB,6LAAC,mJAAU;4EAAC,OAAM;sFAAO;;;;;;;;;;;;;;;;;iFAI7B,6LAAC;4DAAE,WAAU;sEAAyB,SAAS,IAAI;;;;;;;;;;;;8DAIvD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAW;;;;;;sEAC1B,6LAAC;4DAAE,WAAU;sEAAyB,SAAS,QAAQ;;;;;;;;;;;;8DAGzD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAgB;;;;;;wDAC9B,0BACC,6LAAC,6IAAK;4DACJ,IAAG;4DACH,MAAK;4DACL,MAAK;4DACL,OAAO,SAAS,iBAAiB;4DACjC,UAAU,CAAC,IACT,YAAY;oEACV,GAAG,QAAQ;oEACX,mBAAmB,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;gEACnD;;;;;iFAIJ,6LAAC;4DAAE,WAAU;;gEAAwB;gEACjC,CAAC,SAAS,iBAAiB,IAAI,CAAC,EAAE,OAAO,CAAC;;;;;;;;;;;;;8DAKlD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAiB;;;;;;wDAC/B,0BACC,6LAAC,6IAAK;4DACJ,IAAG;4DACH,MAAK;4DACL,MAAK;4DACL,OAAO,SAAS,kBAAkB;4DAClC,UAAU,CAAC,IACT,YAAY;oEACV,GAAG,QAAQ;oEACX,oBAAoB,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;gEACpD;;;;;iFAIJ,6LAAC;4DAAE,WAAU;;gEAAwB;gEACjC,CAAC,SAAS,kBAAkB,IAAI,CAAC,EAAE,OAAO,CAAC;;;;;;;;;;;;;8DAKnD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAY;;;;;;wDAC1B,0BACC,6LAAC,6IAAK;4DACJ,IAAG;4DACH,MAAK;4DACL,OAAO,SAAS,eAAe;4DAC/B,UAAU,CAAC,IACT,YAAY;oEACV,GAAG,QAAQ;oEACX,iBAAiB,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;gEAC/C;;;;;iFAIJ,6LAAC;4DAAE,WAAU;;gEACV,SAAS,eAAe;gEAAC;gEAAE,SAAS,IAAI;;;;;;;;;;;;;8DAK/C,6LAAC;oDAAI,WAAU;;sEACb,6LAAC,6IAAK;4DAAC,SAAQ;sEAAU;;;;;;sEACzB,6LAAC;4DAAE,WAAU;sEACV,SAAS,gBAAgB,IAAI;;;;;;;;;;;;;;;;;;sDAKpC,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,6IAAK;oDAAC,SAAQ;8DAAc;;;;;;gDAC5B,0BACC,6LAAC,mJAAQ;oDACP,IAAG;oDACH,OAAO,SAAS,WAAW;oDAC3B,UAAU,CAAC,IACT,YAAY;4DAAE,GAAG,QAAQ;4DAAE,aAAa,EAAE,MAAM,CAAC,KAAK;wDAAC;oDAEzD,MAAM;;;;;yEAGR,6LAAC;oDAAE,WAAU;8DACV,SAAS,WAAW,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQrC,6LAAC,kJAAW;wBAAC,OAAM;wBAAU,WAAU;kCACrC,cAAA,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;;sDACT,6LAAC,gJAAS;sDAAC;;;;;;sDACX,6LAAC,sJAAe;sDAAC;;;;;;;;;;;;8CAInB,6LAAC,kJAAW;8CACT,oCACC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sNAAO;gDAAC,WAAU;;;;;;0DACnB,6LAAC;gDAAE,WAAU;0DAAgB;;;;;;;;;;;+CAE7B,CAAA,yBAAA,oCAAA,sBAAA,aAAc,KAAK,cAAnB,0CAAA,oBAAqB,MAAM,IAAG,kBAChC,6LAAC;wCAAI,WAAU;kDACZ,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC,4BACvB,6LAAC;gDAAyB,WAAU;;kEAClC,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAI,WAAW,AAAC,oBAMhB,OALC,YAAY,gBAAgB,KAAK,YAC7B,gCACA,YAAY,gBAAgB,KAAK,UACjC,4BACA;kFAEH,YAAY,gBAAgB,KAAK,0BAChC,6LAAC,mOAAU;4EAAC,WAAU;;;;;mFACpB,YAAY,gBAAgB,KAAK,wBACnC,6LAAC,yOAAY;4EAAC,WAAU;;;;;iGAExB,6LAAC,sNAAO;4EAAC,WAAU;;;;;;;;;;;kFAGvB,6LAAC;;0FACC,6LAAC;gFAAE,WAAU;0FACV,YAAY,gBAAgB,KAAK,YAAY,aAC7C,YAAY,gBAAgB,KAAK,UAAU,WAC3C;;;;;;0FAEH,6LAAC;gFAAE,WAAU;;oFACV,IAAI,KAAK,YAAY,UAAU,EAAE,kBAAkB,CAAC;oFAAS;oFAAE,IAAI,KAAK,YAAY,UAAU,EAAE,kBAAkB,CAAC,SAAS;wFAAE,MAAM;wFAAW,QAAQ;oFAAU;;;;;;;;;;;;;;;;;;;0EAIxK,6LAAC;gEAAI,WAAU;;kFACb,6LAAC;wEAAE,WAAW,AAAC,eAId,OAHC,YAAY,gBAAgB,KAAK,YAC7B,mBACA;;4EAEH,YAAY,gBAAgB,KAAK,YAAY,MAAM;4EAAK,YAAY,QAAQ;4EAAC;4EAAE,CAAA,qBAAA,+BAAA,SAAU,IAAI,KAAI;;;;;;;kFAEpG,6LAAC;wEAAE,WAAU;;4EAAwB;4EACjC,CAAC,YAAY,WAAW,IAAI,CAAC,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;oDAI9C,YAAY,KAAK,kBAChB,6LAAC;wDAAE,WAAU;kEAA8B,YAAY,KAAK;;;;;;oDAE7D,YAAY,cAAc,kBACzB,6LAAC;wDAAE,WAAU;;4DAA6B;4DAClC,YAAY,cAAc;4DAAC;4DAAG,YAAY,YAAY;;;;;;;;+CA/CxD,YAAY,EAAE;;;;;;;;;6DAsD5B,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,sNAAO;gDAAC,WAAU;;;;;;0DACnB,6LAAC;gDAAE,WAAU;0DAAgB;;;;;;0DAG7B,6LAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCASpD,6LAAC,kJAAW;wBAAC,OAAM;wBAAc,WAAU;kCACzC,cAAA,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;;sDACT,6LAAC,gJAAS;sDAAC;;;;;;sDACX,6LAAC,sJAAe;sDAAC;;;;;;;;;;;;8CAInB,6LAAC,kJAAW;8CACV,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC,gNAAK;gDAAC,WAAU;;;;;;0DACjB,6LAAC;gDAAE,WAAU;0DAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUvC,6LAAC,6JAAW;gBAAC,MAAM;gBAAkB,cAAc;0BACjD,cAAA,6LAAC,oKAAkB;;sCACjB,6LAAC,mKAAiB;;8CAChB,6LAAC,kKAAgB;8CAAC;;;;;;8CAClB,6LAAC,wKAAsB;;wCAAC;wCACY,SAAS,IAAI;wCAAC;;;;;;;;;;;;;sCAIpD,6LAAC,mKAAiB;;8CAChB,6LAAC,mKAAiB;8CAAC;;;;;;8CACnB,6LAAC,mKAAiB;oCAChB,SAAS;oCACT,WAAU;oCACV,UAAU,eAAe,SAAS;8CAEjC,eAAe,SAAS,GAAG,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1D;GA5jBwB;;QACP,kJAAS;QACT,kJAAS;QAeqB,kJAAW;QACjC,wJAAiB;QACjB,wJAAiB;QAGuB,0LAAQ;;;KAtBjD","debugId":null}}]
}