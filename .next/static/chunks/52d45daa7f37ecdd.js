(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,46897,e=>{"use strict";e.s(["MapPin",()=>r],46897);let r=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},32661,e=>{"use strict";e.s(["useCreateProject",()=>c,"useDeleteProject",()=>u,"useProject",()=>l,"useProjectStats",()=>m,"useProjects",()=>o,"useUpdateProject",()=>d]);var r=e.i(66027),t=e.i(54616),s=e.i(12598),a=e.i(46696),n=e.i(41931);let i={all:["projects"],lists:()=>[...i.all,"list"],list:e=>[...i.lists(),e],details:()=>[...i.all,"detail"],detail:e=>[...i.details(),e]};function o(e){return(0,r.useQuery)({queryKey:i.list(e||{}),queryFn:()=>n.projectsApi.getProjects(e),staleTime:3e5})}function l(e){return(0,r.useQuery)({queryKey:i.detail(e),queryFn:()=>n.projectsApi.getProject(e),enabled:!!e,staleTime:3e5})}function c(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n.projectsApi.createProject(e),onSuccess:r=>{e.invalidateQueries({queryKey:i.lists()}),e.setQueryData(i.detail(r.id),r),a.toast.success("Project created successfully")},onError:e=>{a.toast.error("Failed to create project: ".concat(e.message))}})}function d(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>{let{id:r,data:t}=e;return n.projectsApi.updateProject(r,t)},onMutate:async r=>{let{id:t,data:s}=r;await e.cancelQueries({queryKey:i.detail(t)});let a=e.getQueryData(i.detail(t));return e.setQueryData(i.detail(t),e=>e?{...e,...s}:e),{previousProject:a}},onError:(r,t,s)=>{let{id:n}=t;(null==s?void 0:s.previousProject)&&e.setQueryData(i.detail(n),s.previousProject),a.toast.error("Failed to update project: ".concat(r.message))},onSuccess:r=>{e.invalidateQueries({queryKey:i.lists()}),a.toast.success("Project updated successfully")},onSettled:(r,t,s)=>{let{id:a}=s;e.invalidateQueries({queryKey:i.detail(a)})}})}function u(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n.projectsApi.deleteProject(e),onSuccess:(r,t)=>{e.removeQueries({queryKey:i.detail(t)}),e.invalidateQueries({queryKey:i.lists()}),a.toast.success("Project deleted successfully")},onError:e=>{a.toast.error("Failed to delete project: ".concat(e.message))}})}function m(e){return(0,r.useQuery)({queryKey:[...i.detail(e),"stats"],queryFn:async()=>{let r=await fetch("/api/projects/".concat(e,"/stats"));if(!r.ok)throw Error("Failed to fetch project statistics");return r.json()},staleTime:12e4,enabled:!!e})}},71689,e=>{"use strict";e.s(["ArrowLeft",()=>r],71689);let r=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},56909,e=>{"use strict";e.s(["Save",()=>r],56909);let r=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},57428,e=>{"use strict";e.s(["Checkbox",()=>S],57428);var r=e.i(43476),t=e.i(71645),s=e.i(20783),a=e.i(30030),n=e.i(81140),i=e.i(69340),o=e.i(99682),l=e.i(35804),c=e.i(96626),d=e.i(48425),u="Checkbox",[m,h]=(0,a.createContextScope)(u),[p,x]=m(u);function j(e){let{__scopeCheckbox:s,checked:a,children:n,defaultChecked:o,disabled:l,form:c,name:d,onCheckedChange:m,required:h,value:x="on",internal_do_not_use_render:j}=e,[g,f]=(0,i.useControllableState)({prop:a,defaultProp:null!=o&&o,onChange:m,caller:u}),[y,b]=t.useState(null),[v,F]=t.useState(null),_=t.useRef(!1),C=!y||!!c||!!y.closest("form"),w={checked:g,disabled:l,setChecked:f,control:y,setControl:b,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:_,required:h,defaultChecked:!k(o)&&o,isFormControl:C,bubbleInput:v,setBubbleInput:F};return(0,r.jsx)(p,{scope:s,...w,children:"function"==typeof j?j(w):n})}var g="CheckboxTrigger",f=t.forwardRef((e,a)=>{let{__scopeCheckbox:i,onKeyDown:o,onClick:l,...c}=e,{control:u,value:m,disabled:h,checked:p,required:j,setControl:f,setChecked:y,hasConsumerStoppedPropagationRef:b,isFormControl:v,bubbleInput:F}=x(g,i),_=(0,s.useComposedRefs)(a,f),w=t.useRef(p);return t.useEffect(()=>{let e=null==u?void 0:u.form;if(e){let r=()=>y(w.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,y]),(0,r.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":k(p)?"mixed":p,"aria-required":j,"data-state":C(p),"data-disabled":h?"":void 0,disabled:h,value:m,...c,ref:_,onKeyDown:(0,n.composeEventHandlers)(o,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(l,e=>{y(e=>!!k(e)||!e),F&&v&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});f.displayName=g;var y=t.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return(0,r.jsx)(j,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:e=>{let{isFormControl:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{...m,ref:t,__scopeCheckbox:s}),a&&(0,r.jsx)(_,{__scopeCheckbox:s})]})}})});y.displayName=u;var b="CheckboxIndicator",v=t.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,i=x(b,s);return(0,r.jsx)(c.Presence,{present:a||k(i.checked)||!0===i.checked,children:(0,r.jsx)(d.Primitive.span,{"data-state":C(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=b;var F="CheckboxBubbleInput",_=t.forwardRef((e,a)=>{let{__scopeCheckbox:n,...i}=e,{control:c,hasConsumerStoppedPropagationRef:u,checked:m,defaultChecked:h,required:p,disabled:j,name:g,value:f,form:y,bubbleInput:b,setBubbleInput:v}=x(F,n),_=(0,s.useComposedRefs)(a,v),C=(0,o.usePrevious)(m),w=(0,l.useSize)(c);t.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,r=!u.current;if(C!==m&&e){let t=new Event("click",{bubbles:r});b.indeterminate=k(m),e.call(b,!k(m)&&m),b.dispatchEvent(t)}},[b,C,m,u]);let N=t.useRef(!k(m)&&m);return(0,r.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=h?h:N.current,required:p,disabled:j,name:g,value:f,form:y,...i,tabIndex:-1,ref:_,style:{...i.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function C(e){return k(e)?"indeterminate":e?"checked":"unchecked"}_.displayName=F;var w=e.i(43531),N=e.i(75157);let S=t.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(y,{ref:t,className:(0,N.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(v,{className:(0,N.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(w.Check,{className:"h-4 w-4"})})})});S.displayName=y.displayName},88980,e=>{"use strict";e.s(["useApproveWorkEntry",()=>d,"useCreateWorkEntry",()=>l,"useDeleteWorkEntry",()=>c,"usePendingApprovals",()=>u,"useWorkEntries",()=>i,"useWorkEntry",()=>o,"useWorkStages",()=>m]);var r=e.i(66027),t=e.i(54616),s=e.i(12598),a=e.i(46696);let n={all:["work-entries"],lists:()=>[...n.all,"list"],list:e=>[...n.lists(),e],details:()=>[...n.all,"detail"],detail:e=>[...n.details(),e],stages:()=>[...n.all,"stages"]};function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,s]=e;null!=s&&""!==s&&t.append(r,s.toString())}),(0,r.useQuery)({queryKey:n.list(e),queryFn:async()=>{let e=await fetch("/api/work-entries?".concat(t.toString()));if(!e.ok)throw Error("Failed to fetch work entries");return e.json()}})}function o(e){return(0,r.useQuery)({queryKey:n.detail(e),queryFn:async()=>{let r=await fetch("/api/work-entries/".concat(e));if(!r.ok)throw Error("Failed to fetch work entry");return r.json()},enabled:!!e})}function l(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let r=await fetch("/api/work-entries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error((await r.json()).error||"Failed to create work entry");return r.json()},onSuccess:()=>{e.invalidateQueries({queryKey:n.lists()}),a.toast.success("Work entry created successfully")},onError:e=>{a.toast.error(e.message)}})}function c(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let r=await fetch("/api/work-entries/".concat(e),{method:"DELETE"});if(!r.ok)throw Error((await r.json()).error||"Failed to delete work entry");return r.json()},onSuccess:()=>{e.invalidateQueries({queryKey:n.lists()}),a.toast.success("Work entry deleted successfully")},onError:e=>{a.toast.error(e.message)}})}function d(){let e=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:async e=>{let r=await fetch("/api/work-entries/".concat(e,"/approve"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error((await r.json()).error||"Failed to approve work entry");return r.json()},onSuccess:()=>{e.invalidateQueries({queryKey:n.lists()}),a.toast.success("Work entry approved successfully")},onError:e=>{a.toast.error(e.message)}})}function u(){return i({approved:"false",page:1,per_page:50})}function m(){return(0,r.useQuery)({queryKey:n.stages(),queryFn:async()=>{let e=await fetch("/api/work-stages");if(!e.ok)throw Error("Failed to fetch work stages");return e.json()},staleTime:6e5})}},59386,e=>{"use strict";e.s(["Ruler",()=>r],59386);let r=(0,e.i(75254).default)("ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]])},68553,e=>{"use strict";e.s(["Camera",()=>r],68553);let r=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},80704,e=>{"use strict";e.s(["default",()=>k]);var r=e.i(43476),t=e.i(18566),s=e.i(53145),a=e.i(94814),n=e.i(81307),i=e.i(71689),o=e.i(56909),l=e.i(46897),c=e.i(59386),d=e.i(68553),u=e.i(78583),m=e.i(7486),h=e.i(19455),p=e.i(15288),x=e.i(3133),j=e.i(93479),g=e.i(67489),f=e.i(57428),y=e.i(77572),b=e.i(88980),v=e.i(32661),F=e.i(71436);let _=n.z.object({project_id:n.z.string().min(1,"Project is required"),stage_code:n.z.enum(["stage_1_marking","stage_2_excavation","stage_3_conduit","stage_4_cable_pulling","stage_5_closure","stage_6_testing","stage_7_backfill","stage_8_restoration","stage_9_documentation","stage_10_quality_check"]),meters_done_m:n.z.coerce.number().min(0,"Meters must be positive"),method:n.z.enum(["manual","machine","mixed"]).optional(),width_m:n.z.coerce.number().min(0).optional(),depth_m:n.z.coerce.number().min(0).optional(),cables_count:n.z.coerce.number().min(0).optional(),has_protection_pipe:n.z.boolean().optional(),soil_type:n.z.string().optional(),notes:n.z.string().optional(),cabinet_id:n.z.string().optional(),segment_id:n.z.string().optional(),cut_id:n.z.string().optional(),house_id:n.z.string().optional(),crew_id:n.z.string().optional()});function k(){let e=(0,t.useRouter)(),{user:n}=(0,F.useAuth)(),k=(0,b.useCreateWorkEntry)(),{data:C}=(0,v.useProjects)({page:1,per_page:100}),{data:w}=(0,b.useWorkStages)(),N=(null==C?void 0:C.items)||[],S=(0,s.useForm)({resolver:(0,a.zodResolver)(_),defaultValues:{project_id:"",stage_code:"stage_1_marking",meters_done_m:0,method:"manual",width_m:void 0,depth_m:void 0,cables_count:void 0,has_protection_pipe:!1,soil_type:"",notes:"",cabinet_id:"",segment_id:"",cut_id:"",house_id:"",crew_id:""}}),P=S.watch("stage_code"),I=async r=>{try{let t={...r,cabinet_id:r.cabinet_id||void 0,segment_id:r.segment_id||void 0,cut_id:r.cut_id||void 0,house_id:r.house_id||void 0,crew_id:r.crew_id||void 0,width_m:r.width_m||void 0,depth_m:r.depth_m||void 0,cables_count:r.cables_count||void 0,soil_type:r.soil_type||void 0,notes:r.notes||void 0,method:r.method||void 0},s=await k.mutateAsync(t);e.push("/dashboard/work-entries/".concat(s.id))}catch(e){console.error("Failed to create work entry:",e)}},T=[{value:"stage_1_marking",label:"1. Marking"},{value:"stage_2_excavation",label:"2. Excavation"},{value:"stage_3_conduit",label:"3. Conduit Installation"},{value:"stage_4_cable_pulling",label:"4. Cable Pulling"},{value:"stage_5_closure",label:"5. Closure"},{value:"stage_6_testing",label:"6. Testing"},{value:"stage_7_backfill",label:"7. Backfilling"},{value:"stage_8_restoration",label:"8. Surface Restoration"},{value:"stage_9_documentation",label:"9. Documentation"},{value:"stage_10_quality_check",label:"10. Quality Check"}],E=[{value:"manual",label:"Manual"},{value:"machine",label:"Machine"},{value:"mixed",label:"Mixed"}],M=["stage_2_excavation","stage_3_conduit"].includes(P),D=["stage_3_conduit","stage_4_cable_pulling"].includes(P),L="stage_2_excavation"===P;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>e.back(),className:"flex items-center space-x-2",children:[(0,r.jsx)(i.ArrowLeft,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Back"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Work Entry"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Record field work progress and measurements"})]})]})}),(0,r.jsx)("div",{className:"max-w-4xl",children:(0,r.jsx)(x.Form,{...S,children:(0,r.jsxs)("form",{onSubmit:S.handleSubmit(I),className:"space-y-6",children:[(0,r.jsxs)(y.Tabs,{defaultValue:"basic",className:"space-y-6",children:[(0,r.jsxs)(y.TabsList,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(y.TabsTrigger,{value:"basic",children:"Basic Info"}),(0,r.jsx)(y.TabsTrigger,{value:"measurements",children:"Measurements"}),(0,r.jsx)(y.TabsTrigger,{value:"location",children:"Location"}),(0,r.jsx)(y.TabsTrigger,{value:"notes",children:"Notes & Photos"})]}),(0,r.jsx)(y.TabsContent,{value:"basic",className:"space-y-6",children:(0,r.jsxs)(p.Card,{children:[(0,r.jsxs)(p.CardHeader,{children:[(0,r.jsxs)(p.CardTitle,{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.Building2,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Basic Information"})]}),(0,r.jsx)(p.CardDescription,{children:"Essential details about the work performed"})]}),(0,r.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"project_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Project *"}),(0,r.jsxs)(g.Select,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(g.SelectTrigger,{children:(0,r.jsx)(g.SelectValue,{placeholder:"Select project"})})}),(0,r.jsx)(g.SelectContent,{children:N.map(e=>(0,r.jsxs)(g.SelectItem,{value:e.id,children:[e.name," - ",e.city]},e.id))})]}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"stage_code",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Work Stage *"}),(0,r.jsxs)(g.Select,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(g.SelectTrigger,{children:(0,r.jsx)(g.SelectValue,{placeholder:"Select work stage"})})}),(0,r.jsx)(g.SelectContent,{children:T.map(e=>(0,r.jsx)(g.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,r.jsx)(x.FormDescription,{children:"Select the type of work performed"}),(0,r.jsx)(x.FormMessage,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"meters_done_m",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Meters Completed *"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{type:"number",step:"0.1",min:"0",placeholder:"e.g., 25.5",...t})}),(0,r.jsx)(x.FormDescription,{children:"Length of work completed in meters"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"method",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Work Method"}),(0,r.jsxs)(g.Select,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(g.SelectTrigger,{children:(0,r.jsx)(g.SelectValue,{placeholder:"Select method"})})}),(0,r.jsx)(g.SelectContent,{children:E.map(e=>(0,r.jsx)(g.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,r.jsx)(x.FormDescription,{children:"How the work was performed"}),(0,r.jsx)(x.FormMessage,{})]})}})]})]})]})}),(0,r.jsx)(y.TabsContent,{value:"measurements",className:"space-y-6",children:(0,r.jsxs)(p.Card,{children:[(0,r.jsxs)(p.CardHeader,{children:[(0,r.jsxs)(p.CardTitle,{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Ruler,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Measurements & Technical Details"})]}),(0,r.jsx)(p.CardDescription,{children:"Technical specifications and measurements"})]}),(0,r.jsxs)(p.CardContent,{className:"space-y-6",children:[M&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"width_m",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Width (meters)"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{type:"number",step:"0.01",min:"0",placeholder:"e.g., 0.30",...t})}),(0,r.jsx)(x.FormDescription,{children:"Width of excavation or installation"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"depth_m",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Depth (meters)"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{type:"number",step:"0.01",min:"0",placeholder:"e.g., 0.80",...t})}),(0,r.jsx)(x.FormDescription,{children:"Depth of excavation or installation"}),(0,r.jsx)(x.FormMessage,{})]})}})]}),D&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"cables_count",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Number of Cables"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{type:"number",min:"0",placeholder:"e.g., 4",...t})}),(0,r.jsx)(x.FormDescription,{children:"Number of cables installed or pulled"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"has_protection_pipe",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(f.Checkbox,{checked:t.value,onCheckedChange:t.onChange})}),(0,r.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,r.jsx)(x.FormLabel,{children:"Protection Pipe Installed"}),(0,r.jsx)(x.FormDescription,{children:"Check if protection pipe was used"})]})]})}})]}),L&&(0,r.jsx)(x.FormField,{control:S.control,name:"soil_type",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Soil Type"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"e.g., Clay, Sand, Rock",...t})}),(0,r.jsx)(x.FormDescription,{children:"Description of soil conditions encountered"}),(0,r.jsx)(x.FormMessage,{})]})}})]})]})}),(0,r.jsx)(y.TabsContent,{value:"location",className:"space-y-6",children:(0,r.jsxs)(p.Card,{children:[(0,r.jsxs)(p.CardHeader,{children:[(0,r.jsxs)(p.CardTitle,{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.MapPin,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Location & Assignment"})]}),(0,r.jsx)(p.CardDescription,{children:"Specific location and team assignment details"})]}),(0,r.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"cabinet_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Cabinet ID"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"e.g., CAB-001",...t})}),(0,r.jsx)(x.FormDescription,{children:"Network cabinet identifier (if applicable)"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"segment_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Segment ID"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"e.g., SEG-A1",...t})}),(0,r.jsx)(x.FormDescription,{children:"Cable segment identifier (if applicable)"}),(0,r.jsx)(x.FormMessage,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"cut_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Cut ID"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"e.g., CUT-001",...t})}),(0,r.jsx)(x.FormDescription,{children:"Excavation cut identifier (if applicable)"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)(x.FormField,{control:S.control,name:"house_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"House ID"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"e.g., H-123",...t})}),(0,r.jsx)(x.FormDescription,{children:"House connection identifier (if applicable)"}),(0,r.jsx)(x.FormMessage,{})]})}})]}),(0,r.jsx)(x.FormField,{control:S.control,name:"crew_id",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Crew Assignment"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)(j.Input,{placeholder:"Crew ID (if different from current)",...t})}),(0,r.jsx)(x.FormDescription,{children:"Leave empty to use your current crew assignment"}),(0,r.jsx)(x.FormMessage,{})]})}})]})]})}),(0,r.jsx)(y.TabsContent,{value:"notes",className:"space-y-6",children:(0,r.jsxs)(p.Card,{children:[(0,r.jsxs)(p.CardHeader,{children:[(0,r.jsxs)(p.CardTitle,{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.FileText,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:"Additional Information"})]}),(0,r.jsx)(p.CardDescription,{children:"Notes, observations, and documentation"})]}),(0,r.jsxs)(p.CardContent,{className:"space-y-6",children:[(0,r.jsx)(x.FormField,{control:S.control,name:"notes",render:e=>{let{field:t}=e;return(0,r.jsxs)(x.FormItem,{children:[(0,r.jsx)(x.FormLabel,{children:"Notes & Observations"}),(0,r.jsx)(x.FormControl,{children:(0,r.jsx)("textarea",{className:"min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Any additional notes, observations, or issues encountered...",...t})}),(0,r.jsx)(x.FormDescription,{children:"Optional notes about the work performed, conditions, or issues"}),(0,r.jsx)(x.FormMessage,{})]})}}),(0,r.jsx)("div",{className:"rounded-md border border-dashed border-gray-300 p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(d.Camera,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold",children:"Photo Upload"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Photos can be uploaded after creating the work entry"})]})]})})]})]})})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>e.back(),children:"Cancel"}),(0,r.jsxs)(h.Button,{type:"submit",disabled:k.isPending,className:"flex items-center space-x-2",children:[k.isPending?(0,r.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}):(0,r.jsx)(o.Save,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Create Work Entry"})]})]})]})})})]})}}]);