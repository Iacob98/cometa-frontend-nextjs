{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/shared/lib/i18n/detect-domain-locale.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/remove-trailing-slash.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/parse-path.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/add-path-prefix.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/add-path-suffix.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/path-has-prefix.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/add-locale.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/format-next-pathname-info.ts","turbopack:///[project]/node_modules/next/src/shared/lib/get-hostname.ts","turbopack:///[project]/node_modules/next/src/shared/lib/i18n/normalize-locale-path.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/remove-path-prefix.ts","turbopack:///[project]/node_modules/next/src/shared/lib/router/utils/get-next-pathname-info.ts","turbopack:///[project]/node_modules/next/src/server/web/next-url.ts","turbopack:///[project]/node_modules/next/src/lib/constants.ts","turbopack:///[project]/node_modules/next/src/server/web/utils.ts","turbopack:///[project]/node_modules/next/src/server/web/error.ts","turbopack:///[project]/node_modules/next/src/server/web/spec-extension/cookies.ts","turbopack:///[project]/node_modules/next/src/server/web/spec-extension/request.ts","turbopack:///[project]/node_modules/next/src/client/components/hooks-server-context.ts","turbopack:///[project]/node_modules/next/src/client/components/static-generation-bailout.ts","turbopack:///[project]/node_modules/next/src/server/dynamic-rendering-utils.ts","turbopack:///[project]/node_modules/next/src/lib/framework/boundary-constants.tsx","turbopack:///[project]/node_modules/next/src/lib/scheduler.ts","turbopack:///[project]/node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","turbopack:///[project]/node_modules/next/src/shared/lib/invariant-error.ts","turbopack:///[project]/node_modules/next/src/server/app-render/dynamic-rendering.ts"],"sourcesContent":["import type { DomainLocale } from '../../../server/config-shared'\n\nexport function detectDomainLocale(\n  domainItems?: readonly DomainLocale[],\n  hostname?: string,\n  detectedLocale?: string\n) {\n  if (!domainItems) return\n\n  if (detectedLocale) {\n    detectedLocale = detectedLocale.toLowerCase()\n  }\n\n  for (const item of domainItems) {\n    // remove port if present\n    const domainHostname = item.domain?.split(':', 1)[0].toLowerCase()\n    if (\n      hostname === domainHostname ||\n      detectedLocale === item.defaultLocale.toLowerCase() ||\n      item.locales?.some((locale) => locale.toLowerCase() === detectedLocale)\n    ) {\n      return item\n    }\n  }\n}\n","/**\n * Removes the trailing slash for a given route or page path. Preserves the\n * root page. Examples:\n *   - `/foo/bar/` -> `/foo/bar`\n *   - `/foo/bar` -> `/foo/bar`\n *   - `/` -> `/`\n */\nexport function removeTrailingSlash(route: string) {\n  return route.replace(/\\/$/, '') || '/'\n}\n","/**\n * Given a path this function will find the pathname, query and hash and return\n * them. This is useful to parse full paths on the client side.\n * @param path A path to parse e.g. /foo/bar?id=1#hash\n */\nexport function parsePath(path: string) {\n  const hashIndex = path.indexOf('#')\n  const queryIndex = path.indexOf('?')\n  const hasQuery = queryIndex > -1 && (hashIndex < 0 || queryIndex < hashIndex)\n\n  if (hasQuery || hashIndex > -1) {\n    return {\n      pathname: path.substring(0, hasQuery ? queryIndex : hashIndex),\n      query: hasQuery\n        ? path.substring(queryIndex, hashIndex > -1 ? hashIndex : undefined)\n        : '',\n      hash: hashIndex > -1 ? path.slice(hashIndex) : '',\n    }\n  }\n\n  return { pathname: path, query: '', hash: '' }\n}\n","import { parsePath } from './parse-path'\n\n/**\n * Adds the provided prefix to the given path. It first ensures that the path\n * is indeed starting with a slash.\n */\nexport function addPathPrefix(path: string, prefix?: string) {\n  if (!path.startsWith('/') || !prefix) {\n    return path\n  }\n\n  const { pathname, query, hash } = parsePath(path)\n  return `${prefix}${pathname}${query}${hash}`\n}\n","import { parsePath } from './parse-path'\n\n/**\n * Similarly to `addPathPrefix`, this function adds a suffix at the end on the\n * provided path. It also works only for paths ensuring the argument starts\n * with a slash.\n */\nexport function addPathSuffix(path: string, suffix?: string) {\n  if (!path.startsWith('/') || !suffix) {\n    return path\n  }\n\n  const { pathname, query, hash } = parsePath(path)\n  return `${pathname}${suffix}${query}${hash}`\n}\n","import { parsePath } from './parse-path'\n\n/**\n * Checks if a given path starts with a given prefix. It ensures it matches\n * exactly without containing extra chars. e.g. prefix /docs should replace\n * for /docs, /docs/, /docs/a but not /docsss\n * @param path The path to check.\n * @param prefix The prefix to check against.\n */\nexport function pathHasPrefix(path: string, prefix: string) {\n  if (typeof path !== 'string') {\n    return false\n  }\n\n  const { pathname } = parsePath(path)\n  return pathname === prefix || pathname.startsWith(prefix + '/')\n}\n","import { addPathPrefix } from './add-path-prefix'\nimport { pathHasPrefix } from './path-has-prefix'\n\n/**\n * For a given path and a locale, if the locale is given, it will prefix the\n * locale. The path shouldn't be an API path. If a default locale is given the\n * prefix will be omitted if the locale is already the default locale.\n */\nexport function addLocale(\n  path: string,\n  locale?: string | false,\n  defaultLocale?: string,\n  ignorePrefix?: boolean\n) {\n  // If no locale was given or the locale is the default locale, we don't need\n  // to prefix the path.\n  if (!locale || locale === defaultLocale) return path\n\n  const lower = path.toLowerCase()\n\n  // If the path is an API path or the path already has the locale prefix, we\n  // don't need to prefix the path.\n  if (!ignorePrefix) {\n    if (pathHasPrefix(lower, '/api')) return path\n    if (pathHasPrefix(lower, `/${locale.toLowerCase()}`)) return path\n  }\n\n  // Add the locale prefix to the path.\n  return addPathPrefix(path, `/${locale}`)\n}\n","import type { NextPathnameInfo } from './get-next-pathname-info'\nimport { removeTrailingSlash } from './remove-trailing-slash'\nimport { addPathPrefix } from './add-path-prefix'\nimport { addPathSuffix } from './add-path-suffix'\nimport { addLocale } from './add-locale'\n\ninterface ExtendedInfo extends NextPathnameInfo {\n  defaultLocale?: string\n  ignorePrefix?: boolean\n}\n\nexport function formatNextPathnameInfo(info: ExtendedInfo) {\n  let pathname = addLocale(\n    info.pathname,\n    info.locale,\n    info.buildId ? undefined : info.defaultLocale,\n    info.ignorePrefix\n  )\n\n  if (info.buildId || !info.trailingSlash) {\n    pathname = removeTrailingSlash(pathname)\n  }\n\n  if (info.buildId) {\n    pathname = addPathSuffix(\n      addPathPrefix(pathname, `/_next/data/${info.buildId}`),\n      info.pathname === '/' ? 'index.json' : '.json'\n    )\n  }\n\n  pathname = addPathPrefix(pathname, info.basePath)\n  return !info.buildId && info.trailingSlash\n    ? !pathname.endsWith('/')\n      ? addPathSuffix(pathname, '/')\n      : pathname\n    : removeTrailingSlash(pathname)\n}\n","import type { OutgoingHttpHeaders } from 'http'\n\n/**\n * Takes an object with a hostname property (like a parsed URL) and some\n * headers that may contain Host and returns the preferred hostname.\n * @param parsed An object containing a hostname property.\n * @param headers A dictionary with headers containing a `host`.\n */\nexport function getHostname(\n  parsed: { hostname?: string | null },\n  headers?: OutgoingHttpHeaders\n): string | undefined {\n  // Get the hostname from the headers if it exists, otherwise use the parsed\n  // hostname.\n  let hostname: string\n  if (headers?.host && !Array.isArray(headers.host)) {\n    hostname = headers.host.toString().split(':', 1)[0]\n  } else if (parsed.hostname) {\n    hostname = parsed.hostname\n  } else return\n\n  return hostname.toLowerCase()\n}\n","export interface PathLocale {\n  detectedLocale?: string\n  pathname: string\n}\n\n/**\n * A cache of lowercased locales for each list of locales. This is stored as a\n * WeakMap so if the locales are garbage collected, the cache entry will be\n * removed as well.\n */\nconst cache = new WeakMap<readonly string[], readonly string[]>()\n\n/**\n * For a pathname that may include a locale from a list of locales, it\n * removes the locale from the pathname returning it alongside with the\n * detected locale.\n *\n * @param pathname A pathname that may include a locale.\n * @param locales A list of locales.\n * @returns The detected locale and pathname without locale\n */\nexport function normalizeLocalePath(\n  pathname: string,\n  locales?: readonly string[]\n): PathLocale {\n  // If locales is undefined, return the pathname as is.\n  if (!locales) return { pathname }\n\n  // Get the cached lowercased locales or create a new cache entry.\n  let lowercasedLocales = cache.get(locales)\n  if (!lowercasedLocales) {\n    lowercasedLocales = locales.map((locale) => locale.toLowerCase())\n    cache.set(locales, lowercasedLocales)\n  }\n\n  let detectedLocale: string | undefined\n\n  // The first segment will be empty, because it has a leading `/`. If\n  // there is no further segment, there is no locale (or it's the default).\n  const segments = pathname.split('/', 2)\n\n  // If there's no second segment (ie, the pathname is just `/`), there's no\n  // locale.\n  if (!segments[1]) return { pathname }\n\n  // The second segment will contain the locale part if any.\n  const segment = segments[1].toLowerCase()\n\n  // See if the segment matches one of the locales. If it doesn't, there is\n  // no locale (or it's the default).\n  const index = lowercasedLocales.indexOf(segment)\n  if (index < 0) return { pathname }\n\n  // Return the case-sensitive locale.\n  detectedLocale = locales[index]\n\n  // Remove the `/${locale}` part of the pathname.\n  pathname = pathname.slice(detectedLocale.length + 1) || '/'\n\n  return { pathname, detectedLocale }\n}\n","import { pathHasPrefix } from './path-has-prefix'\n\n/**\n * Given a path and a prefix it will remove the prefix when it exists in the\n * given path. It ensures it matches exactly without containing extra chars\n * and if the prefix is not there it will be noop.\n *\n * @param path The path to remove the prefix from.\n * @param prefix The prefix to be removed.\n */\nexport function removePathPrefix(path: string, prefix: string): string {\n  // If the path doesn't start with the prefix we can return it as is. This\n  // protects us from situations where the prefix is a substring of the path\n  // prefix such as:\n  //\n  // For prefix: /blog\n  //\n  //   /blog -> true\n  //   /blog/ -> true\n  //   /blog/1 -> true\n  //   /blogging -> false\n  //   /blogging/ -> false\n  //   /blogging/1 -> false\n  if (!pathHasPrefix(path, prefix)) {\n    return path\n  }\n\n  // Remove the prefix from the path via slicing.\n  const withoutPrefix = path.slice(prefix.length)\n\n  // If the path without the prefix starts with a `/` we can return it as is.\n  if (withoutPrefix.startsWith('/')) {\n    return withoutPrefix\n  }\n\n  // If the path without the prefix doesn't start with a `/` we need to add it\n  // back to the path to make sure it's a valid path.\n  return `/${withoutPrefix}`\n}\n","import { normalizeLocalePath } from '../../i18n/normalize-locale-path'\nimport { removePathPrefix } from './remove-path-prefix'\nimport { pathHasPrefix } from './path-has-prefix'\nimport type { I18NProvider } from '../../../../server/lib/i18n-provider'\n\nexport interface NextPathnameInfo {\n  /**\n   * The base path in case the pathname included it.\n   */\n  basePath?: string\n  /**\n   * The buildId for when the parsed URL is a data URL. Parsing it can be\n   * disabled with the `parseData` option.\n   */\n  buildId?: string\n  /**\n   * If there was a locale in the pathname, this will hold its value.\n   */\n  locale?: string\n  /**\n   * The processed pathname without a base path, locale, or data URL elements\n   * when parsing it is enabled.\n   */\n  pathname: string\n  /**\n   * A boolean telling if the pathname had a trailingSlash. This can be only\n   * true if trailingSlash is enabled.\n   */\n  trailingSlash?: boolean\n}\n\ninterface Options {\n  /**\n   * When passed to true, this function will also parse Nextjs data URLs.\n   */\n  parseData?: boolean\n  /**\n   * A partial of the Next.js configuration to parse the URL.\n   */\n  nextConfig?: {\n    basePath?: string\n    i18n?: { locales?: readonly string[] } | null\n    trailingSlash?: boolean\n  }\n\n  /**\n   * If provided, this normalizer will be used to detect the locale instead of\n   * the default locale detection.\n   */\n  i18nProvider?: I18NProvider\n}\n\nexport function getNextPathnameInfo(\n  pathname: string,\n  options: Options\n): NextPathnameInfo {\n  const { basePath, i18n, trailingSlash } = options.nextConfig ?? {}\n  const info: NextPathnameInfo = {\n    pathname,\n    trailingSlash: pathname !== '/' ? pathname.endsWith('/') : trailingSlash,\n  }\n\n  if (basePath && pathHasPrefix(info.pathname, basePath)) {\n    info.pathname = removePathPrefix(info.pathname, basePath)\n    info.basePath = basePath\n  }\n  let pathnameNoDataPrefix = info.pathname\n\n  if (\n    info.pathname.startsWith('/_next/data/') &&\n    info.pathname.endsWith('.json')\n  ) {\n    const paths = info.pathname\n      .replace(/^\\/_next\\/data\\//, '')\n      .replace(/\\.json$/, '')\n      .split('/')\n\n    const buildId = paths[0]\n    info.buildId = buildId\n    pathnameNoDataPrefix =\n      paths[1] !== 'index' ? `/${paths.slice(1).join('/')}` : '/'\n\n    // update pathname with normalized if enabled although\n    // we use normalized to populate locale info still\n    if (options.parseData === true) {\n      info.pathname = pathnameNoDataPrefix\n    }\n  }\n\n  // If provided, use the locale route normalizer to detect the locale instead\n  // of the function below.\n  if (i18n) {\n    let result = options.i18nProvider\n      ? options.i18nProvider.analyze(info.pathname)\n      : normalizeLocalePath(info.pathname, i18n.locales)\n\n    info.locale = result.detectedLocale\n    info.pathname = result.pathname ?? info.pathname\n\n    if (!result.detectedLocale && info.buildId) {\n      result = options.i18nProvider\n        ? options.i18nProvider.analyze(pathnameNoDataPrefix)\n        : normalizeLocalePath(pathnameNoDataPrefix, i18n.locales)\n\n      if (result.detectedLocale) {\n        info.locale = result.detectedLocale\n      }\n    }\n  }\n  return info\n}\n","import type { OutgoingHttpHeaders } from 'http'\nimport type { DomainLocale, I18NConfig } from '../config-shared'\nimport type { I18NProvider } from '../lib/i18n-provider'\n\nimport { detectDomainLocale } from '../../shared/lib/i18n/detect-domain-locale'\nimport { formatNextPathnameInfo } from '../../shared/lib/router/utils/format-next-pathname-info'\nimport { getHostname } from '../../shared/lib/get-hostname'\nimport { getNextPathnameInfo } from '../../shared/lib/router/utils/get-next-pathname-info'\n\ninterface Options {\n  base?: string | URL\n  headers?: OutgoingHttpHeaders\n  forceLocale?: boolean\n  nextConfig?: {\n    basePath?: string\n    i18n?: I18NConfig | null\n    trailingSlash?: boolean\n  }\n  i18nProvider?: I18NProvider\n}\n\nconst REGEX_LOCALHOST_HOSTNAME =\n  /(?!^https?:\\/\\/)(127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\\[::1\\]|localhost)/\n\nfunction parseURL(url: string | URL, base?: string | URL) {\n  return new URL(\n    String(url).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost'),\n    base && String(base).replace(REGEX_LOCALHOST_HOSTNAME, 'localhost')\n  )\n}\n\nconst Internal = Symbol('NextURLInternal')\n\nexport class NextURL {\n  private [Internal]: {\n    basePath: string\n    buildId?: string\n    flightSearchParameters?: Record<string, string>\n    defaultLocale?: string\n    domainLocale?: DomainLocale\n    locale?: string\n    options: Options\n    trailingSlash?: boolean\n    url: URL\n  }\n\n  constructor(input: string | URL, base?: string | URL, opts?: Options)\n  constructor(input: string | URL, opts?: Options)\n  constructor(\n    input: string | URL,\n    baseOrOpts?: string | URL | Options,\n    opts?: Options\n  ) {\n    let base: undefined | string | URL\n    let options: Options\n\n    if (\n      (typeof baseOrOpts === 'object' && 'pathname' in baseOrOpts) ||\n      typeof baseOrOpts === 'string'\n    ) {\n      base = baseOrOpts\n      options = opts || {}\n    } else {\n      options = opts || baseOrOpts || {}\n    }\n\n    this[Internal] = {\n      url: parseURL(input, base ?? options.base),\n      options: options,\n      basePath: '',\n    }\n\n    this.analyze()\n  }\n\n  private analyze() {\n    const info = getNextPathnameInfo(this[Internal].url.pathname, {\n      nextConfig: this[Internal].options.nextConfig,\n      parseData: !process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE,\n      i18nProvider: this[Internal].options.i18nProvider,\n    })\n\n    const hostname = getHostname(\n      this[Internal].url,\n      this[Internal].options.headers\n    )\n    this[Internal].domainLocale = this[Internal].options.i18nProvider\n      ? this[Internal].options.i18nProvider.detectDomainLocale(hostname)\n      : detectDomainLocale(\n          this[Internal].options.nextConfig?.i18n?.domains,\n          hostname\n        )\n\n    const defaultLocale =\n      this[Internal].domainLocale?.defaultLocale ||\n      this[Internal].options.nextConfig?.i18n?.defaultLocale\n\n    this[Internal].url.pathname = info.pathname\n    this[Internal].defaultLocale = defaultLocale\n    this[Internal].basePath = info.basePath ?? ''\n    this[Internal].buildId = info.buildId\n    this[Internal].locale = info.locale ?? defaultLocale\n    this[Internal].trailingSlash = info.trailingSlash\n  }\n\n  private formatPathname() {\n    return formatNextPathnameInfo({\n      basePath: this[Internal].basePath,\n      buildId: this[Internal].buildId,\n      defaultLocale: !this[Internal].options.forceLocale\n        ? this[Internal].defaultLocale\n        : undefined,\n      locale: this[Internal].locale,\n      pathname: this[Internal].url.pathname,\n      trailingSlash: this[Internal].trailingSlash,\n    })\n  }\n\n  private formatSearch() {\n    return this[Internal].url.search\n  }\n\n  public get buildId() {\n    return this[Internal].buildId\n  }\n\n  public set buildId(buildId: string | undefined) {\n    this[Internal].buildId = buildId\n  }\n\n  public get locale() {\n    return this[Internal].locale ?? ''\n  }\n\n  public set locale(locale: string) {\n    if (\n      !this[Internal].locale ||\n      !this[Internal].options.nextConfig?.i18n?.locales.includes(locale)\n    ) {\n      throw new TypeError(\n        `The NextURL configuration includes no locale \"${locale}\"`\n      )\n    }\n\n    this[Internal].locale = locale\n  }\n\n  get defaultLocale() {\n    return this[Internal].defaultLocale\n  }\n\n  get domainLocale() {\n    return this[Internal].domainLocale\n  }\n\n  get searchParams() {\n    return this[Internal].url.searchParams\n  }\n\n  get host() {\n    return this[Internal].url.host\n  }\n\n  set host(value: string) {\n    this[Internal].url.host = value\n  }\n\n  get hostname() {\n    return this[Internal].url.hostname\n  }\n\n  set hostname(value: string) {\n    this[Internal].url.hostname = value\n  }\n\n  get port() {\n    return this[Internal].url.port\n  }\n\n  set port(value: string) {\n    this[Internal].url.port = value\n  }\n\n  get protocol() {\n    return this[Internal].url.protocol\n  }\n\n  set protocol(value: string) {\n    this[Internal].url.protocol = value\n  }\n\n  get href() {\n    const pathname = this.formatPathname()\n    const search = this.formatSearch()\n    return `${this.protocol}//${this.host}${pathname}${search}${this.hash}`\n  }\n\n  set href(url: string) {\n    this[Internal].url = parseURL(url)\n    this.analyze()\n  }\n\n  get origin() {\n    return this[Internal].url.origin\n  }\n\n  get pathname() {\n    return this[Internal].url.pathname\n  }\n\n  set pathname(value: string) {\n    this[Internal].url.pathname = value\n  }\n\n  get hash() {\n    return this[Internal].url.hash\n  }\n\n  set hash(value: string) {\n    this[Internal].url.hash = value\n  }\n\n  get search() {\n    return this[Internal].url.search\n  }\n\n  set search(value: string) {\n    this[Internal].url.search = value\n  }\n\n  get password() {\n    return this[Internal].url.password\n  }\n\n  set password(value: string) {\n    this[Internal].url.password = value\n  }\n\n  get username() {\n    return this[Internal].url.username\n  }\n\n  set username(value: string) {\n    this[Internal].url.username = value\n  }\n\n  get basePath() {\n    return this[Internal].basePath\n  }\n\n  set basePath(value: string) {\n    this[Internal].basePath = value.startsWith('/') ? value : `/${value}`\n  }\n\n  toString() {\n    return this.href\n  }\n\n  toJSON() {\n    return this.href\n  }\n\n  [Symbol.for('edge-runtime.inspect.custom')]() {\n    return {\n      href: this.href,\n      origin: this.origin,\n      protocol: this.protocol,\n      username: this.username,\n      password: this.password,\n      host: this.host,\n      hostname: this.hostname,\n      port: this.port,\n      pathname: this.pathname,\n      search: this.search,\n      searchParams: this.searchParams,\n      hash: this.hash,\n    }\n  }\n\n  clone() {\n    return new NextURL(String(this), this[Internal].options)\n  }\n}\n","import type { ServerRuntime } from '../types'\n\nexport const TEXT_PLAIN_CONTENT_TYPE_HEADER = 'text/plain'\nexport const HTML_CONTENT_TYPE_HEADER = 'text/html; charset=utf-8'\nexport const JSON_CONTENT_TYPE_HEADER = 'application/json; charset=utf-8'\nexport const NEXT_QUERY_PARAM_PREFIX = 'nxtP'\nexport const NEXT_INTERCEPTION_MARKER_PREFIX = 'nxtI'\n\nexport const MATCHED_PATH_HEADER = 'x-matched-path'\nexport const PRERENDER_REVALIDATE_HEADER = 'x-prerender-revalidate'\nexport const PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER =\n  'x-prerender-revalidate-if-generated'\n\nexport const RSC_PREFETCH_SUFFIX = '.prefetch.rsc'\nexport const RSC_SEGMENTS_DIR_SUFFIX = '.segments'\nexport const RSC_SEGMENT_SUFFIX = '.segment.rsc'\nexport const RSC_SUFFIX = '.rsc'\nexport const ACTION_SUFFIX = '.action'\nexport const NEXT_DATA_SUFFIX = '.json'\nexport const NEXT_META_SUFFIX = '.meta'\nexport const NEXT_BODY_SUFFIX = '.body'\n\nexport const NEXT_CACHE_TAGS_HEADER = 'x-next-cache-tags'\nexport const NEXT_CACHE_REVALIDATED_TAGS_HEADER = 'x-next-revalidated-tags'\nexport const NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER =\n  'x-next-revalidate-tag-token'\n\nexport const NEXT_RESUME_HEADER = 'next-resume'\n\n// if these change make sure we update the related\n// documentation as well\nexport const NEXT_CACHE_TAG_MAX_ITEMS = 128\nexport const NEXT_CACHE_TAG_MAX_LENGTH = 256\nexport const NEXT_CACHE_SOFT_TAG_MAX_LENGTH = 1024\nexport const NEXT_CACHE_IMPLICIT_TAG_ID = '_N_T_'\n\n// in seconds\nexport const CACHE_ONE_YEAR = 31536000\n\n// in seconds, represents revalidate=false. I.e. never revaliate.\n// We use this value since it can be represented as a V8 SMI for optimal performance.\n// It can also be serialized as JSON if it ever leaks accidentally as an actual value.\nexport const INFINITE_CACHE = 0xfffffffe\n\n// Patterns to detect middleware files\nexport const MIDDLEWARE_FILENAME = 'middleware'\nexport const MIDDLEWARE_LOCATION_REGEXP = `(?:src/)?${MIDDLEWARE_FILENAME}`\n\n// Pattern to detect instrumentation hooks file\nexport const INSTRUMENTATION_HOOK_FILENAME = 'instrumentation'\n\n// Because on Windows absolute paths in the generated code can break because of numbers, eg 1 in the path,\n// we have to use a private alias\nexport const PAGES_DIR_ALIAS = 'private-next-pages'\nexport const DOT_NEXT_ALIAS = 'private-dot-next'\nexport const ROOT_DIR_ALIAS = 'private-next-root-dir'\nexport const APP_DIR_ALIAS = 'private-next-app-dir'\nexport const RSC_MOD_REF_PROXY_ALIAS = 'private-next-rsc-mod-ref-proxy'\nexport const RSC_ACTION_VALIDATE_ALIAS = 'private-next-rsc-action-validate'\nexport const RSC_ACTION_PROXY_ALIAS = 'private-next-rsc-server-reference'\nexport const RSC_CACHE_WRAPPER_ALIAS = 'private-next-rsc-cache-wrapper'\nexport const RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS =\n  'private-next-rsc-track-dynamic-import'\nexport const RSC_ACTION_ENCRYPTION_ALIAS = 'private-next-rsc-action-encryption'\nexport const RSC_ACTION_CLIENT_WRAPPER_ALIAS =\n  'private-next-rsc-action-client-wrapper'\n\nexport const PUBLIC_DIR_MIDDLEWARE_CONFLICT = `You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict`\n\nexport const SSG_GET_INITIAL_PROPS_CONFLICT = `You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps`\n\nexport const SERVER_PROPS_GET_INIT_PROPS_CONFLICT = `You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.`\n\nexport const SERVER_PROPS_SSG_CONFLICT = `You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps`\n\nexport const STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR = `can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props`\n\nexport const SERVER_PROPS_EXPORT_ERROR = `pages with \\`getServerSideProps\\` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export`\n\nexport const GSP_NO_RETURNED_VALUE =\n  'Your `getStaticProps` function did not return an object. Did you forget to add a `return`?'\nexport const GSSP_NO_RETURNED_VALUE =\n  'Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?'\n\nexport const UNSTABLE_REVALIDATE_RENAME_ERROR =\n  'The `unstable_revalidate` property is available for general use.\\n' +\n  'Please use `revalidate` instead.'\n\nexport const GSSP_COMPONENT_MEMBER_ERROR = `can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member`\n\nexport const NON_STANDARD_NODE_ENV = `You are using a non-standard \"NODE_ENV\" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env`\n\nexport const SSG_FALLBACK_EXPORT_ERROR = `Pages with \\`fallback\\` enabled in \\`getStaticPaths\\` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export`\n\nexport const ESLINT_DEFAULT_DIRS = ['app', 'pages', 'components', 'lib', 'src']\n\nexport const SERVER_RUNTIME: Record<string, ServerRuntime> = {\n  edge: 'edge',\n  experimentalEdge: 'experimental-edge',\n  nodejs: 'nodejs',\n}\n\n/**\n * The names of the webpack layers. These layers are the primitives for the\n * webpack chunks.\n */\nconst WEBPACK_LAYERS_NAMES = {\n  /**\n   * The layer for the shared code between the client and server bundles.\n   */\n  shared: 'shared',\n  /**\n   * The layer for server-only runtime and picking up `react-server` export conditions.\n   * Including app router RSC pages and app router custom routes and metadata routes.\n   */\n  reactServerComponents: 'rsc',\n  /**\n   * Server Side Rendering layer for app (ssr).\n   */\n  serverSideRendering: 'ssr',\n  /**\n   * The browser client bundle layer for actions.\n   */\n  actionBrowser: 'action-browser',\n  /**\n   * The Node.js bundle layer for the API routes.\n   */\n  apiNode: 'api-node',\n  /**\n   * The Edge Lite bundle layer for the API routes.\n   */\n  apiEdge: 'api-edge',\n  /**\n   * The layer for the middleware code.\n   */\n  middleware: 'middleware',\n  /**\n   * The layer for the instrumentation hooks.\n   */\n  instrument: 'instrument',\n  /**\n   * The layer for assets on the edge.\n   */\n  edgeAsset: 'edge-asset',\n  /**\n   * The browser client bundle layer for App directory.\n   */\n  appPagesBrowser: 'app-pages-browser',\n  /**\n   * The browser client bundle layer for Pages directory.\n   */\n  pagesDirBrowser: 'pages-dir-browser',\n  /**\n   * The Edge Lite bundle layer for Pages directory.\n   */\n  pagesDirEdge: 'pages-dir-edge',\n  /**\n   * The Node.js bundle layer for Pages directory.\n   */\n  pagesDirNode: 'pages-dir-node',\n} as const\n\nexport type WebpackLayerName =\n  (typeof WEBPACK_LAYERS_NAMES)[keyof typeof WEBPACK_LAYERS_NAMES]\n\nconst WEBPACK_LAYERS = {\n  ...WEBPACK_LAYERS_NAMES,\n  GROUP: {\n    builtinReact: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n    ],\n    serverOnly: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n      WEBPACK_LAYERS_NAMES.instrument,\n      WEBPACK_LAYERS_NAMES.middleware,\n    ],\n    neutralTarget: [\n      // pages api\n      WEBPACK_LAYERS_NAMES.apiNode,\n      WEBPACK_LAYERS_NAMES.apiEdge,\n    ],\n    clientOnly: [\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n    ],\n    bundled: [\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n      WEBPACK_LAYERS_NAMES.shared,\n      WEBPACK_LAYERS_NAMES.instrument,\n      WEBPACK_LAYERS_NAMES.middleware,\n    ],\n    appPages: [\n      // app router pages and layouts\n      WEBPACK_LAYERS_NAMES.reactServerComponents,\n      WEBPACK_LAYERS_NAMES.serverSideRendering,\n      WEBPACK_LAYERS_NAMES.appPagesBrowser,\n      WEBPACK_LAYERS_NAMES.actionBrowser,\n    ],\n  },\n}\n\nconst WEBPACK_RESOURCE_QUERIES = {\n  edgeSSREntry: '__next_edge_ssr_entry__',\n  metadata: '__next_metadata__',\n  metadataRoute: '__next_metadata_route__',\n  metadataImageMeta: '__next_metadata_image_meta__',\n}\n\nexport { WEBPACK_LAYERS, WEBPACK_RESOURCE_QUERIES }\n","import type { OutgoingHttpHeaders } from 'http'\nimport {\n  NEXT_INTERCEPTION_MARKER_PREFIX,\n  NEXT_QUERY_PARAM_PREFIX,\n} from '../../lib/constants'\n\n/**\n * Converts a Node.js IncomingHttpHeaders object to a Headers object. Any\n * headers with multiple values will be joined with a comma and space. Any\n * headers that have an undefined value will be ignored and others will be\n * coerced to strings.\n *\n * @param nodeHeaders the headers object to convert\n * @returns the converted headers object\n */\nexport function fromNodeOutgoingHttpHeaders(\n  nodeHeaders: OutgoingHttpHeaders\n): Headers {\n  const headers = new Headers()\n  for (let [key, value] of Object.entries(nodeHeaders)) {\n    const values = Array.isArray(value) ? value : [value]\n    for (let v of values) {\n      if (typeof v === 'undefined') continue\n      if (typeof v === 'number') {\n        v = v.toString()\n      }\n\n      headers.append(key, v)\n    }\n  }\n  return headers\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n  \n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nexport function splitCookiesString(cookiesString: string) {\n  var cookiesStrings = []\n  var pos = 0\n  var start\n  var ch\n  var lastComma\n  var nextStart\n  var cookiesSeparatorFound\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1\n    }\n    return pos < cookiesString.length\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos)\n\n    return ch !== '=' && ch !== ';' && ch !== ','\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos\n    cookiesSeparatorFound = false\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos)\n      if (ch === ',') {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos\n        pos += 1\n\n        skipWhitespace()\n        nextStart = pos\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === '=') {\n          // we found cookies separator\n          cookiesSeparatorFound = true\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart\n          cookiesStrings.push(cookiesString.substring(start, lastComma))\n          start = pos\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1\n        }\n      } else {\n        pos += 1\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length))\n    }\n  }\n\n  return cookiesStrings\n}\n\n/**\n * Converts a Headers object to a Node.js OutgoingHttpHeaders object. This is\n * required to support the set-cookie header, which may have multiple values.\n *\n * @param headers the headers object to convert\n * @returns the converted headers object\n */\nexport function toNodeOutgoingHttpHeaders(\n  headers: Headers\n): OutgoingHttpHeaders {\n  const nodeHeaders: OutgoingHttpHeaders = {}\n  const cookies: string[] = []\n  if (headers) {\n    for (const [key, value] of headers.entries()) {\n      if (key.toLowerCase() === 'set-cookie') {\n        // We may have gotten a comma joined string of cookies, or multiple\n        // set-cookie headers. We need to merge them into one header array\n        // to represent all the cookies.\n        cookies.push(...splitCookiesString(value))\n        nodeHeaders[key] = cookies.length === 1 ? cookies[0] : cookies\n      } else {\n        nodeHeaders[key] = value\n      }\n    }\n  }\n  return nodeHeaders\n}\n\n/**\n * Validate the correctness of a user-provided URL.\n */\nexport function validateURL(url: string | URL): string {\n  try {\n    return String(new URL(String(url)))\n  } catch (error: any) {\n    throw new Error(\n      `URL is malformed \"${String(\n        url\n      )}\". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,\n      { cause: error }\n    )\n  }\n}\n\n/**\n * Normalizes `nxtP` and `nxtI` query param values to remove the prefix.\n * This function does not mutate the input key.\n */\nexport function normalizeNextQueryParam(key: string): null | string {\n  const prefixes = [NEXT_QUERY_PARAM_PREFIX, NEXT_INTERCEPTION_MARKER_PREFIX]\n  for (const prefix of prefixes) {\n    if (key !== prefix && key.startsWith(prefix)) {\n      return key.substring(prefix.length)\n    }\n  }\n  return null\n}\n","export class PageSignatureError extends Error {\n  constructor({ page }: { page: string }) {\n    super(`The middleware \"${page}\" accepts an async API directly with the form:\n  \n  export function middleware(request, event) {\n    return NextResponse.redirect('/new-location')\n  }\n  \n  Read more: https://nextjs.org/docs/messages/middleware-new-signature\n  `)\n  }\n}\n\nexport class RemovedPageError extends Error {\n  constructor() {\n    super(`The request.page has been deprecated in favour of \\`URLPattern\\`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  `)\n  }\n}\n\nexport class RemovedUAError extends Error {\n  constructor() {\n    super(`The request.ua has been removed in favour of \\`userAgent\\` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  `)\n  }\n}\n","export {\n  RequestCookies,\n  ResponseCookies,\n  stringifyCookie,\n} from 'next/dist/compiled/@edge-runtime/cookies'\n","import type { I18NConfig } from '../../config-shared'\nimport { NextURL } from '../next-url'\nimport { toNodeOutgoingHttpHeaders, validateURL } from '../utils'\nimport { RemovedUAError, RemovedPageError } from '../error'\nimport { RequestCookies } from './cookies'\n\nexport const INTERNALS = Symbol('internal request')\n\n/**\n * This class extends the [Web `Request` API](https://developer.mozilla.org/docs/Web/API/Request) with additional convenience methods.\n *\n * Read more: [Next.js Docs: `NextRequest`](https://nextjs.org/docs/app/api-reference/functions/next-request)\n */\nexport class NextRequest extends Request {\n  /** @internal */\n  [INTERNALS]: {\n    cookies: RequestCookies\n    url: string\n    nextUrl: NextURL\n  }\n\n  constructor(input: URL | RequestInfo, init: RequestInit = {}) {\n    const url =\n      typeof input !== 'string' && 'url' in input ? input.url : String(input)\n\n    validateURL(url)\n\n    // node Request instance requires duplex option when a body\n    // is present or it errors, we don't handle this for\n    // Request being passed in since it would have already\n    // errored if this wasn't configured\n    if (process.env.NEXT_RUNTIME !== 'edge') {\n      if (init.body && init.duplex !== 'half') {\n        init.duplex = 'half'\n      }\n    }\n\n    if (input instanceof Request) super(input, init)\n    else super(url, init)\n\n    const nextUrl = new NextURL(url, {\n      headers: toNodeOutgoingHttpHeaders(this.headers),\n      nextConfig: init.nextConfig,\n    })\n    this[INTERNALS] = {\n      cookies: new RequestCookies(this.headers),\n      nextUrl,\n      url: process.env.__NEXT_NO_MIDDLEWARE_URL_NORMALIZE\n        ? url\n        : nextUrl.toString(),\n    }\n  }\n\n  [Symbol.for('edge-runtime.inspect.custom')]() {\n    return {\n      cookies: this.cookies,\n      nextUrl: this.nextUrl,\n      url: this.url,\n      // rest of props come from Request\n      bodyUsed: this.bodyUsed,\n      cache: this.cache,\n      credentials: this.credentials,\n      destination: this.destination,\n      headers: Object.fromEntries(this.headers),\n      integrity: this.integrity,\n      keepalive: this.keepalive,\n      method: this.method,\n      mode: this.mode,\n      redirect: this.redirect,\n      referrer: this.referrer,\n      referrerPolicy: this.referrerPolicy,\n      signal: this.signal,\n    }\n  }\n\n  public get cookies() {\n    return this[INTERNALS].cookies\n  }\n\n  public get nextUrl() {\n    return this[INTERNALS].nextUrl\n  }\n\n  /**\n   * @deprecated\n   * `page` has been deprecated in favour of `URLPattern`.\n   * Read more: https://nextjs.org/docs/messages/middleware-request-page\n   */\n  public get page() {\n    throw new RemovedPageError()\n  }\n\n  /**\n   * @deprecated\n   * `ua` has been removed in favour of \\`userAgent\\` function.\n   * Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n   */\n  public get ua() {\n    throw new RemovedUAError()\n  }\n\n  public get url() {\n    return this[INTERNALS].url\n  }\n}\n\nexport interface RequestInit extends globalThis.RequestInit {\n  nextConfig?: {\n    basePath?: string\n    i18n?: I18NConfig | null\n    trailingSlash?: boolean\n  }\n  signal?: AbortSignal\n  // see https://github.com/whatwg/fetch/pull/1457\n  duplex?: 'half'\n}\n","const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n","const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n","export function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(underlying: T): Promise<T> {\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n","export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n","export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n","/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of prerender mode\n  requestStore.prerenderPhase = false\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * Use this function when dynamically prerendering with dynamicIO.\n * We don't want to error, because it's better to return something\n * (and we've already aborted the render at the point where the sync dynamic error occured),\n * but we should log an error server-side.\n * @internal\n */\nexport function warnOnSyncDynamicError(dynamicTracking: DynamicTrackingState) {\n  if (dynamicTracking.syncDynamicErrorWithStack) {\n    // the server did something sync dynamic, likely\n    // leading to an early termination of the prerender.\n    console.error(dynamicTracking.syncDynamicErrorWithStack)\n  }\n}\n\n// For now these implementations are the same so we just reexport\nexport const trackSynchronousRequestDataAccessInDev =\n  trackSynchronousPlatformIOAccessInDev\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message = `Route \"${workStore.route}\": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a \"use cache\" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    if (serverDynamic.syncDynamicErrorWithStack) {\n      // There is no shell and the server did something sync dynamic likely\n      // leading to an early termination of the prerender before the shell\n      // could be completed. We terminate the build/validating render.\n      logDisallowedDynamicError(\n        workStore,\n        serverDynamic.syncDynamicErrorWithStack\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n"],"names":["detectDomainLocale","domainItems","hostname","detectedLocale","toLowerCase","item","domainHostname","domain","split","defaultLocale","locales","some","locale","removeTrailingSlash","route","replace","parsePath","path","hashIndex","indexOf","queryIndex","hasQuery","pathname","substring","query","undefined","hash","slice","addPathPrefix","prefix","startsWith","addPathSuffix","suffix","pathHasPrefix","addLocale","ignorePrefix","lower","formatNextPathnameInfo","info","buildId","trailingSlash","basePath","endsWith","getHostname","parsed","headers","host","Array","isArray","toString","normalizeLocalePath","cache","WeakMap","lowercasedLocales","get","map","set","segments","segment","index","length","removePathPrefix","withoutPrefix","getNextPathnameInfo","options","i18n","nextConfig","pathnameNoDataPrefix","paths","join","parseData","result","i18nProvider","analyze","NextURL","REGEX_LOCALHOST_HOSTNAME","parseURL","url","base","URL","String","Internal","Symbol","constructor","input","baseOrOpts","opts","process","env","__NEXT_NO_MIDDLEWARE_URL_NORMALIZE","domainLocale","domains","formatPathname","forceLocale","formatSearch","search","includes","TypeError","searchParams","value","port","protocol","href","origin","password","username","toJSON","for","clone","ACTION_SUFFIX","APP_DIR_ALIAS","CACHE_ONE_YEAR","DOT_NEXT_ALIAS","ESLINT_DEFAULT_DIRS","GSP_NO_RETURNED_VALUE","GSSP_COMPONENT_MEMBER_ERROR","GSSP_NO_RETURNED_VALUE","HTML_CONTENT_TYPE_HEADER","INFINITE_CACHE","INSTRUMENTATION_HOOK_FILENAME","JSON_CONTENT_TYPE_HEADER","MATCHED_PATH_HEADER","MIDDLEWARE_FILENAME","MIDDLEWARE_LOCATION_REGEXP","NEXT_BODY_SUFFIX","NEXT_CACHE_IMPLICIT_TAG_ID","NEXT_CACHE_REVALIDATED_TAGS_HEADER","NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER","NEXT_CACHE_SOFT_TAG_MAX_LENGTH","NEXT_CACHE_TAGS_HEADER","NEXT_CACHE_TAG_MAX_ITEMS","NEXT_CACHE_TAG_MAX_LENGTH","NEXT_DATA_SUFFIX","NEXT_INTERCEPTION_MARKER_PREFIX","NEXT_META_SUFFIX","NEXT_QUERY_PARAM_PREFIX","NEXT_RESUME_HEADER","NON_STANDARD_NODE_ENV","PAGES_DIR_ALIAS","PRERENDER_REVALIDATE_HEADER","PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER","PUBLIC_DIR_MIDDLEWARE_CONFLICT","ROOT_DIR_ALIAS","RSC_ACTION_CLIENT_WRAPPER_ALIAS","RSC_ACTION_ENCRYPTION_ALIAS","RSC_ACTION_PROXY_ALIAS","RSC_ACTION_VALIDATE_ALIAS","RSC_CACHE_WRAPPER_ALIAS","RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS","RSC_MOD_REF_PROXY_ALIAS","RSC_PREFETCH_SUFFIX","RSC_SEGMENTS_DIR_SUFFIX","RSC_SEGMENT_SUFFIX","RSC_SUFFIX","SERVER_PROPS_EXPORT_ERROR","SERVER_PROPS_GET_INIT_PROPS_CONFLICT","SERVER_PROPS_SSG_CONFLICT","SERVER_RUNTIME","SSG_FALLBACK_EXPORT_ERROR","SSG_GET_INITIAL_PROPS_CONFLICT","STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR","TEXT_PLAIN_CONTENT_TYPE_HEADER","UNSTABLE_REVALIDATE_RENAME_ERROR","WEBPACK_LAYERS","WEBPACK_RESOURCE_QUERIES","edge","experimentalEdge","nodejs","WEBPACK_LAYERS_NAMES","shared","reactServerComponents","serverSideRendering","actionBrowser","apiNode","apiEdge","middleware","instrument","edgeAsset","appPagesBrowser","pagesDirBrowser","pagesDirEdge","pagesDirNode","GROUP","builtinReact","serverOnly","neutralTarget","clientOnly","bundled","appPages","edgeSSREntry","metadata","metadataRoute","metadataImageMeta","fromNodeOutgoingHttpHeaders","normalizeNextQueryParam","splitCookiesString","toNodeOutgoingHttpHeaders","validateURL","nodeHeaders","Headers","key","Object","entries","values","v","append","cookiesString","cookiesStrings","pos","start","ch","lastComma","nextStart","cookiesSeparatorFound","skipWhitespace","test","charAt","notSpecialChar","push","cookies","error","Error","cause","prefixes","PageSignatureError","RemovedPageError","RemovedUAError","page","RequestCookies","ResponseCookies","stringifyCookie","INTERNALS","NextRequest","Request","init","NEXT_RUNTIME","body","duplex","nextUrl","bodyUsed","credentials","destination","fromEntries","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","ua","DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","description","digest","err","StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","code","isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","expression","abortListenersBySignal","aborted","Promise","reject","hangingPromise","_","boundRejection","bind","currentListeners","listeners","addEventListener","i","once","catch","ignoreReject","underlying","resolve","setTimeout","METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME","atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","then","nextTick","setImmediate","r","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","reason","InvariantError","message","name","Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","trackSynchronousRequestDataAccessInDev","useDynamicRouteParams","warnOnSyncDynamicError","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","dynamicTracking","revalidate","dynamicUsageDescription","dynamicUsageStack","stack","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","createPrerenderInterruptedError","controller","abort","errorWithStack","requestStore","prerenderPhase","prerenderSignal","console","workUnitAsyncStorage","getStore","assertPostpone","createPostponeReason","isDynamicPostponeReason","NEXT_PRERENDER_INTERRUPTED","serverDynamic","clientDynamic","filter","access","line","AbortController","cacheSignal","inputReady","runtimeStagePromise","getRuntimeStagePromise","workStore","workAsyncStorage","fallbackParams","fallbackRouteParams","size","use","renderSignal","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","hasMetadataRegex","hasViewportRegex","hasOutletRegex","componentStack","dynamicValidation","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","dev","hasReadableErrorStacks","prelude"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}