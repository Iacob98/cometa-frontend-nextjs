module.exports=[44750,a=>{"use strict";a.s(["useCreateCrew",()=>j,"useCreateTeam",()=>o,"useCrew",()=>i,"useDeleteCrew",()=>l,"useForemenUsers",()=>n,"useGlobalTeams",()=>m,"useProjectTeams",()=>p,"useTeams",()=>h,"useUpdateCrew",()=>k,"useUpdateTeam",()=>q]);var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(23292),f=a.i(91938);let g={all:["teams"],crews:()=>[...g.all,"crews"],crew:a=>[...g.all,"crew",a]};function h(){return(0,b.useQuery)({queryKey:g.crews(),queryFn:async()=>{let a=await fetch("/api/crews");if(!a.ok)throw Error("Failed to fetch crews");return(await a.json()).crews||[]},staleTime:3e4})}function i(a){return(0,b.useQuery)({queryKey:g.crew(a),queryFn:()=>f.teamsApi.getCrew(a),enabled:!!a,staleTime:3e5})}function j(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.teamsApi.createCrew(a),onSuccess:b=>{a.invalidateQueries({queryKey:g.crews()}),a.setQueryData(g.crew(b.id),b),e.toast.success("Team created successfully")},onError:a=>{e.toast.error(`Failed to create team: ${a.message}`)}})}function k(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:({id:a,data:b})=>f.teamsApi.updateCrew(a,b),onMutate:async({id:b,data:c})=>{await a.cancelQueries({queryKey:g.crew(b)});let d=a.getQueryData(g.crew(b));return a.setQueryData(g.crew(b),a=>a?{...a,...c}:a),{previousCrew:d}},onError:(b,{id:c},d)=>{d?.previousCrew&&a.setQueryData(g.crew(c),d.previousCrew),e.toast.error(`Failed to update team: ${b.message}`)},onSuccess:()=>{a.invalidateQueries({queryKey:g.crews()}),e.toast.success("Team updated successfully")},onSettled:(b,c,{id:d})=>{a.invalidateQueries({queryKey:g.crew(d)})}})}function l(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:a=>f.teamsApi.deleteCrew(a),onSuccess:(b,c)=>{a.removeQueries({queryKey:g.crew(c)}),a.invalidateQueries({queryKey:g.crews()}),e.toast.success("Team deleted successfully")},onError:a=>{e.toast.error(`Failed to delete team: ${a.message}`)}})}function m(){return(0,b.useQuery)({queryKey:["global-teams"],queryFn:async()=>{let a=await fetch("/api/crews");if(!a.ok)throw Error("Failed to fetch global teams");let b=(await a.json()).crews||[],c={};return b.forEach(a=>{a.project_id&&(c[a.name]=(c[a.name]||0)+1)}),b.map(a=>({id:a.id,name:a.name,foreman_name:a.foreman?.full_name||a.foreman_name,is_active:"active"===a.status,project_count:c[a.name]||0,specialization:"mixed"}))}})}function n(){return(0,b.useQuery)({queryKey:["foremen-users"],queryFn:async()=>{let a=await fetch("/api/users?role=foreman&is_active=true");if(!a.ok){let a=await fetch("/api/users?role=pm&is_active=true");if(!a.ok)throw Error("Failed to fetch users");return(await a.json()).items||[]}let b=await a.json();if(0===b.items.length){let a=await fetch("/api/users?is_active=true");if(!a.ok)throw Error("Failed to fetch users");return((await a.json()).items||[]).filter(a=>"foreman"===a.role||"pm"===a.role)}return b.items||[]}})}function o(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async a=>{let b=await fetch("/api/crews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok)throw Error((await b.json()).error||"Failed to create team");return b.json()},onSuccess:(b,c)=>{c.project_id&&(a.invalidateQueries({queryKey:["project-teams",c.project_id]}),a.invalidateQueries({queryKey:["project-preparation",c.project_id]})),a.invalidateQueries({queryKey:["global-teams"]}),a.invalidateQueries({queryKey:g.crews()}),e.toast.success(b.message||"Team created successfully")},onError:a=>{e.toast.error(a.message)}})}function p(a){return(0,b.useQuery)({queryKey:["project-teams",a],queryFn:async()=>{let b=await fetch(`/api/crews?project_id=${a}`);if(!b.ok)throw Error("Failed to fetch project teams");return(await b.json()).crews||[]},enabled:!!a})}function q(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:async({id:a,data:b})=>{let c=await fetch(`/api/crews/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error((await c.json()).error||"Failed to update team");return c.json()},onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["project-teams"]}),a.invalidateQueries({queryKey:["global-teams"]}),a.invalidateQueries({queryKey:g.crews()}),a.invalidateQueries({queryKey:["project-preparation"]}),e.toast.success(b.message||"Team updated successfully")},onError:a=>{e.toast.error(a.message)}})}},63519,a=>{"use strict";a.s(["Phone",()=>b],63519);let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},92258,a=>{"use strict";a.s(["Mail",()=>b],92258);let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},84505,a=>{"use strict";a.s(["Download",()=>b],84505);let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},73320,a=>{"use strict";a.s(["Upload",()=>b],73320);let b=(0,a.i(70106).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},73390,a=>{"use strict";a.s(["Progress",()=>t],73390);var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(30553),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(68114);let t=c.forwardRef(({className:a,value:c,...d},e)=>(0,b.jsx)(k,{ref:e,className:(0,s.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,b.jsx)(m,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));t.displayName=k.displayName},3314,a=>{"use strict";a.s(["Shield",()=>b],3314);let b=(0,a.i(70106).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},35850,a=>{"use strict";a.s(["default",()=>x]);var b=a.i(87924),c=a.i(72131),d=a.i(33217),e=a.i(37927),f=a.i(4720),g=a.i(3314),h=a.i(73570),i=a.i(16201),j=a.i(41710),k=a.i(84505),l=a.i(77156),m=a.i(33508),n=a.i(15618),o=a.i(14574),p=a.i(99570),q=a.i(91119),r=a.i(86304),s=a.i(75083),t=a.i(83256);async function u(a){let b=await fetch(`/api/users/${a}/documents`);if(!b.ok)throw Error("Failed to fetch documents");return b.json()}function v({document:a}){let c=function(a){switch(a){case"active":return"bg-green-500";case"expired":return"bg-red-500";case"expiring_soon":return"bg-yellow-500";case"pending":return"bg-blue-500";default:return"bg-gray-500"}}(a.status),d=function(a){switch(a){case"active":return(0,b.jsx)(i.CheckCircle,{className:"h-4 w-4"});case"expired":return(0,b.jsx)(h.AlertTriangle,{className:"h-4 w-4"});case"expiring_soon":case"pending":return(0,b.jsx)(j.Clock,{className:"h-4 w-4"});case"inactive":return(0,b.jsx)(m.X,{className:"h-4 w-4"});default:return(0,b.jsx)(f.FileText,{className:"h-4 w-4"})}}(a.status),n=function(a){switch(a){case"active":return"–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω";case"expired":return"–ò—Å—Ç—ë–∫";case"expiring_soon":return"–ò—Å—Ç–µ–∫–∞–µ—Ç —Å–∫–æ—Ä–æ";case"pending":return"–í –æ–∂–∏–¥–∞–Ω–∏–∏";case"inactive":return"–ù–µ–∞–∫—Ç–∏–≤–µ–Ω";default:return"–ù–µ–∏–∑–≤–µ—Å—Ç–µ–Ω"}}(a.status),o=(0,e.useQueryClient)(),s=async()=>{try{console.log(`üíæ –°–∫–∞—á–∏–≤–∞—é –¥–æ–∫—É–º–µ–Ω—Ç "${a.file_name}" –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ ID: ${a.user_id}`);let b=`/api/users/${a.user_id}/documents/${a.id}/download`,c=await fetch(b);if(!c.ok)throw Error("Failed to download document");let d=await c.blob(),e=window.URL.createObjectURL(d),f=window.document.createElement("a");f.href=e,f.download=a.file_name,window.document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(e),window.document.body.removeChild(f)}catch(a){console.error("Download failed:",a),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞")}},t=async()=>{if(window.confirm(`–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç "${a.file_name}"?`))try{if(console.log(`üóëÔ∏è –£–¥–∞–ª—è—é –¥–æ–∫—É–º–µ–Ω—Ç "${a.file_name}" –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ ID: ${a.user_id}`),!(await fetch(`/api/users/${a.user_id}/documents/${a.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete document");console.log(`‚úÖ –î–æ–∫—É–º–µ–Ω—Ç "${a.file_name}" —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω`),o.invalidateQueries({queryKey:["worker-documents",a.user_id]}),alert("–î–æ–∫—É–º–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω")}catch(a){console.error("Delete failed:",a),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞")}};return(0,b.jsxs)(q.Card,{className:"mb-4",children:[(0,b.jsx)(q.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(q.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.category.color}}),a.category.name_ru||a.category.name_en]}),(0,b.jsxs)(r.Badge,{variant:"secondary",className:`${c} text-white flex items-center gap-1`,children:[d,n]})]})}),(0,b.jsxs)(q.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.document_number&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-muted-foreground",children:"–ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞:"}),(0,b.jsx)("p",{children:a.document_number})]}),a.issuing_authority&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-muted-foreground",children:"–í—ã–¥–∞–≤—à–∏–π –æ—Ä–≥–∞–Ω:"}),(0,b.jsx)("p",{children:a.issuing_authority})]}),a.issue_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-muted-foreground",children:"–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏:"}),(0,b.jsx)("p",{children:new Date(a.issue_date).toLocaleDateString("ru-RU")})]}),a.expiry_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-muted-foreground",children:"–î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è:"}),(0,b.jsx)("p",{className:"expired"===a.status?"text-red-600 font-medium":"expiring_soon"===a.status?"text-yellow-600 font-medium":"",children:new Date(a.expiry_date).toLocaleDateString("ru-RU")})]})]}),a.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-muted-foreground",children:"–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:a.notes})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(f.FileText,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.file_name}),(0,b.jsxs)("span",{children:["(",function(a){if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["Bytes","KB","MB","GB"][b]}(a.file_size),")"]}),a.is_verified&&(0,b.jsxs)(r.Badge,{variant:"outline",className:"text-green-600 border-green-600",children:[(0,b.jsx)(g.Shield,{className:"h-3 w-3 mr-1"}),"–ü—Ä–æ–≤–µ—Ä–µ–Ω"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:()=>{let b=`/api/users/${a.user_id}/documents/${a.id}/view`;console.log(`üëÅÔ∏è –û—Ç–∫—Ä—ã–≤–∞—é –¥–æ–∫—É–º–µ–Ω—Ç "${a.file_name}" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞`),window.open(b,"_blank")},children:[(0,b.jsx)(l.Eye,{className:"h-4 w-4 mr-1"}),"–ü—Ä–æ—Å–º–æ—Ç—Ä"]}),(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:s,children:[(0,b.jsx)(k.Download,{className:"h-4 w-4 mr-1"}),"–°–∫–∞—á–∞—Ç—å"]}),(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",onClick:t,className:"text-red-600 hover:text-red-700",children:[(0,b.jsx)(m.X,{className:"h-4 w-4 mr-1"}),"–£–¥–∞–ª–∏—Ç—å"]})]})]})]})]})}function w({documents:a}){let c=a.reduce((a,b)=>{let c=b.category.name_ru||b.category.name_en;return a[c]||(a[c]=[]),a[c].push(b),a},{});return(0,b.jsx)("div",{className:"space-y-6",children:Object.entries(c).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c[0].category.color}}),a,(0,b.jsx)(r.Badge,{variant:"outline",children:c.length})]}),c.map(a=>(0,b.jsx)(v,{document:a},a.id))]},a))})}function x({userId:a,userName:g,trigger:h}){let[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),m=(0,e.useQueryClient)(),{data:r,isLoading:v,error:x}=(0,d.useQuery)({queryKey:["worker-documents",a],queryFn:()=>u(a),enabled:i}),y=(0,b.jsxs)(p.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(f.FileText,{className:"h-4 w-4 mr-1"}),"–î–æ–∫—É–º–µ–Ω—Ç—ã"]});return(0,b.jsxs)(o.Dialog,{open:i,onOpenChange:j,children:[(0,b.jsx)(o.DialogTrigger,{asChild:!0,children:h||y}),(0,b.jsxs)(o.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsx)(o.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(o.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(f.FileText,{className:"h-5 w-5"}),"–î–æ–∫—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–Ω–∏–∫–∞: ",g]}),(0,b.jsx)(o.DialogDescription,{children:"–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ (—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è)"})]}),(0,b.jsxs)(p.Button,{onClick:()=>l(!0),className:"flex items-center gap-2",children:[(0,b.jsx)(n.Plus,{className:"h-4 w-4"}),"–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç"]})]})}),v&&(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}),x&&(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-destructive",children:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"})}),r&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:r.stats.total}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"–í—Å–µ–≥–æ"})]})}),(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.stats.active}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö"})]})}),(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:r.stats.expiring_soon}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"–ò—Å—Ç–µ–∫–∞—é—Ç —Å–∫–æ—Ä–æ"})]})}),(0,b.jsx)(q.Card,{children:(0,b.jsxs)(q.CardContent,{className:"p-4 text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:r.stats.expired}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"–ò—Å—Ç—ë–∫—à–∏—Ö"})]})})]}),0===r.documents.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(f.FileText,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-semibold",children:"–ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"–£ —ç—Ç–æ–≥–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞ –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤."})]}):(0,b.jsxs)(s.Tabs,{defaultValue:"all",className:"w-full",children:[(0,b.jsxs)(s.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsxs)(s.TabsTrigger,{value:"all",children:["–í—Å–µ (",r.stats.total,")"]}),(0,b.jsxs)(s.TabsTrigger,{value:"active",children:["–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ (",r.stats.active,")"]}),(0,b.jsxs)(s.TabsTrigger,{value:"expiring",children:["–ò—Å—Ç–µ–∫–∞—é—Ç (",r.stats.expiring_soon,")"]}),(0,b.jsxs)(s.TabsTrigger,{value:"expired",children:["–ò—Å—Ç—ë–∫—à–∏–µ (",r.stats.expired,")"]})]}),(0,b.jsx)(s.TabsContent,{value:"all",className:"mt-6",children:(0,b.jsx)(w,{documents:r.documents})}),(0,b.jsx)(s.TabsContent,{value:"active",className:"mt-6",children:(0,b.jsx)(w,{documents:r.documents.filter(a=>"active"===a.status)})}),(0,b.jsx)(s.TabsContent,{value:"expiring",className:"mt-6",children:(0,b.jsx)(w,{documents:r.documents.filter(a=>"expiring_soon"===a.status)})}),(0,b.jsx)(s.TabsContent,{value:"expired",className:"mt-6",children:(0,b.jsx)(w,{documents:r.documents.filter(a=>"expired"===a.status)})})]})]})]}),(0,b.jsx)(o.Dialog,{open:k,onOpenChange:l,children:(0,b.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsxs)(o.DialogTitle,{children:["–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è ",g]}),(0,b.jsx)(o.DialogDescription,{children:"–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (–ø–∞—Å–ø–æ—Ä—Ç, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É, —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –∏ —Ç.–¥.)"})]}),(0,b.jsx)(t.DocumentUpload,{userId:a,onUploadComplete:b=>{console.log(`‚úÖ –î–æ–∫—É–º–µ–Ω—Ç "${b.file_name}" —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç–Ω–∏–∫–∞: ${g} (ID: ${a})`),l(!1),m.invalidateQueries({queryKey:["worker-documents",a]}),m.invalidateQueries({queryKey:["user-documents-categories",a]})}})]})})]})}}];

//# sourceMappingURL=_50cf8d6e._.js.map