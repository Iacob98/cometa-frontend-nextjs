{"version":3,"sources":["turbopack:///[project]/src/hooks/use-notifications.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/bell.ts","turbopack:///[project]/src/components/notifications/notification-item.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/info.ts","turbopack:///[project]/src/components/notifications/notification-preferences.tsx"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport { useCallback, useEffect, useRef } from \"react\";\nimport {\n  notificationsApi,\n  notificationPreferencesApi,\n  notificationTemplatesApi,\n  wsApi,\n  type Notification,\n  type NotificationFilters,\n  type CreateNotificationRequest,\n  type NotificationPreferences,\n  type UpdateNotificationPreferencesRequest,\n  type NotificationTemplate,\n  type WebSocketMessage,\n  type RealtimeEvent,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const notificationKeys = {\n  all: [\"notifications\"] as const,\n  lists: () => [...notificationKeys.all, \"list\"] as const,\n  list: (filters: NotificationFilters) => [...notificationKeys.lists(), filters] as const,\n  details: () => [...notificationKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...notificationKeys.details(), id] as const,\n  unreadCount: (userId: string) => [...notificationKeys.all, \"unread-count\", userId] as const,\n  preferences: (userId: string) => [...notificationKeys.all, \"preferences\", userId] as const,\n  templates: () => [...notificationKeys.all, \"templates\"] as const,\n};\n\n// Notification Hooks\nexport function useNotifications(filters?: NotificationFilters) {\n  return useQuery({\n    queryKey: notificationKeys.list(filters || {}),\n    queryFn: () => notificationsApi.getNotifications(filters),\n    staleTime: 30 * 1000, // 30 seconds - notifications need to be fresh\n  });\n}\n\nexport function useNotification(id: string) {\n  return useQuery({\n    queryKey: notificationKeys.detail(id),\n    queryFn: () => notificationsApi.getNotification(id),\n    enabled: !!id,\n    staleTime: 30 * 1000,\n  });\n}\n\nexport function useUnreadNotificationCount(userId: string) {\n  return useQuery({\n    queryKey: notificationKeys.unreadCount(userId),\n    queryFn: () => notificationsApi.getUnreadCount(userId),\n    enabled: !!userId,\n    refetchInterval: 30 * 1000, // Auto-refresh every 30 seconds\n    staleTime: 0, // Always consider stale for real-time feel\n  });\n}\n\nexport function useCreateNotification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateNotificationRequest) => notificationsApi.createNotification(data),\n    onSuccess: (newNotification) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({\n        queryKey: notificationKeys.unreadCount(newNotification.user_id)\n      });\n      queryClient.setQueryData(notificationKeys.detail(newNotification.id), newNotification);\n\n      // Show toast for high priority notifications\n      if (newNotification.priority === \"high\" || newNotification.priority === \"urgent\") {\n        toast.info(newNotification.title, {\n          description: newNotification.body,\n        });\n      }\n    },\n    onError: (error) => {\n      toast.error(`Failed to create notification: ${error.message}`);\n    },\n  });\n}\n\nexport function useMarkNotificationAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => notificationsApi.markAsRead(id),\n    onMutate: async (id) => {\n      await queryClient.cancelQueries({ queryKey: notificationKeys.detail(id) });\n      const previousNotification = queryClient.getQueryData(notificationKeys.detail(id));\n\n      queryClient.setQueryData(notificationKeys.detail(id), (old: Notification | undefined) => {\n        if (!old) return old;\n        return { ...old, read_at: new Date().toISOString() };\n      });\n\n      return { previousNotification };\n    },\n    onError: (error, id, context) => {\n      if (context?.previousNotification) {\n        queryClient.setQueryData(notificationKeys.detail(id), context.previousNotification);\n      }\n      toast.error(`Failed to mark notification as read: ${error.message}`);\n    },\n    onSuccess: (updatedNotification) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({\n        queryKey: notificationKeys.unreadCount(updatedNotification.user_id)\n      });\n    },\n    onSettled: (data, error, id) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.detail(id) });\n    },\n  });\n}\n\nexport function useMarkAllNotificationsAsRead() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (userId: string) => notificationsApi.markAllAsRead(userId),\n    onSuccess: (_, userId) => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.unreadCount(userId) });\n      toast.success(\"All notifications marked as read\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to mark all notifications as read: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteNotification() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => notificationsApi.deleteNotification(id),\n    onSuccess: (_, deletedId) => {\n      queryClient.removeQueries({ queryKey: notificationKeys.detail(deletedId) });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n      queryClient.invalidateQueries({ queryKey: notificationKeys.all });\n      toast.success(\"Notification deleted\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete notification: ${error.message}`);\n    },\n  });\n}\n\n// Notification Preferences Hooks\nexport function useNotificationPreferences(userId: string) {\n  return useQuery({\n    queryKey: notificationKeys.preferences(userId),\n    queryFn: () => notificationPreferencesApi.getPreferences(userId),\n    enabled: !!userId,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useUpdateNotificationPreferences() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ userId, data }: { userId: string; data: UpdateNotificationPreferencesRequest }) =>\n      notificationPreferencesApi.updatePreferences(userId, data),\n    onSuccess: (updatedPreferences) => {\n      queryClient.setQueryData(\n        notificationKeys.preferences(updatedPreferences.user_id),\n        updatedPreferences\n      );\n      toast.success(\"Notification preferences updated\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update preferences: ${error.message}`);\n    },\n  });\n}\n\n// Notification Templates Hooks\nexport function useNotificationTemplates() {\n  return useQuery({\n    queryKey: notificationKeys.templates(),\n    queryFn: () => notificationTemplatesApi.getTemplates(),\n    staleTime: 10 * 60 * 1000, // 10 minutes - templates don't change often\n  });\n}\n\nexport function useUpdateNotificationTemplate() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<NotificationTemplate> }) =>\n      notificationTemplatesApi.updateTemplate(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: notificationKeys.templates() });\n      toast.success(\"Notification template updated\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to update template: ${error.message}`);\n    },\n  });\n}\n\n// WebSocket Integration Hook\nexport function useWebSocketNotifications(userId: string, enabled = true) {\n  const queryClient = useQueryClient();\n  const reconnectAttempts = useRef(0);\n  const maxReconnectAttempts = 5;\n\n  const handleNotification = useCallback((notification: Notification) => {\n    // Update notification queries\n    queryClient.invalidateQueries({ queryKey: notificationKeys.lists() });\n    queryClient.invalidateQueries({ queryKey: notificationKeys.unreadCount(userId) });\n\n    // Add to cache\n    queryClient.setQueryData(notificationKeys.detail(notification.id), notification);\n\n    // Show toast for important notifications\n    if (notification.priority === \"high\" || notification.priority === \"urgent\") {\n      toast.info(notification.title, {\n        description: notification.body,\n        action: notification.priority === \"urgent\" ? {\n          label: \"View\",\n          onClick: () => {\n            // Could navigate to notification detail or relevant page\n            console.log(\"Navigate to notification:\", notification.id);\n          }\n        } : undefined,\n      });\n    }\n  }, [queryClient, userId]);\n\n  const handleRealtimeUpdate = useCallback((event: RealtimeEvent) => {\n    // Handle real-time updates to various entities\n    switch (event.entity_type) {\n      case \"project\":\n        queryClient.invalidateQueries({ queryKey: [\"projects\"] });\n        break;\n      case \"work_entry\":\n        queryClient.invalidateQueries({ queryKey: [\"work-entries\"] });\n        break;\n      case \"material_allocation\":\n        queryClient.invalidateQueries({ queryKey: [\"material-allocations\"] });\n        break;\n      case \"house\":\n        queryClient.invalidateQueries({ queryKey: [\"houses\"] });\n        break;\n      default:\n        // Generic invalidation for unknown entity types\n        queryClient.invalidateQueries();\n    }\n\n    // Show toast for critical updates\n    if (event.type === \"status_changed\" || event.type === \"assignment_changed\") {\n      toast.info(\"Update received\", {\n        description: `${event.entity_type} has been updated`,\n      });\n    }\n  }, [queryClient]);\n\n  useEffect(() => {\n    if (!enabled || !userId) return;\n\n    const connect = async () => {\n      try {\n        await wsApi.connect(userId);\n        reconnectAttempts.current = 0;\n\n        // Subscribe to notification events\n        wsApi.subscribe(\"notification\", handleNotification);\n        wsApi.subscribe(\"realtime_update\", handleRealtimeUpdate);\n\n      } catch (error) {\n        console.error(\"WebSocket connection failed:\", error);\n\n        // Attempt to reconnect with exponential backoff\n        if (reconnectAttempts.current < maxReconnectAttempts) {\n          reconnectAttempts.current++;\n          const delay = Math.pow(2, reconnectAttempts.current) * 1000;\n\n          setTimeout(() => {\n            connect();\n          }, delay);\n        }\n      }\n    };\n\n    connect();\n\n    return () => {\n      wsApi.unsubscribe(\"notification\", handleNotification);\n      wsApi.unsubscribe(\"realtime_update\", handleRealtimeUpdate);\n      wsApi.disconnect();\n    };\n  }, [userId, enabled, handleNotification, handleRealtimeUpdate]);\n\n  return {\n    sendMessage: (type: string, data: any) => wsApi.send(type, data),\n    subscribe: (messageType: string, handler: (data: any) => void) => wsApi.subscribe(messageType, handler),\n    unsubscribe: (messageType: string, handler: (data: any) => void) => wsApi.unsubscribe(messageType, handler),\n  };\n}\n\n// Specialized hooks for common notification scenarios\nexport function useUserNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    page: 1,\n    per_page: 20,\n  });\n}\n\nexport function useUnreadNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    read: false,\n    page: 1,\n    per_page: 50,\n  });\n}\n\nexport function useUrgentNotifications(userId: string) {\n  return useNotifications({\n    user_id: userId,\n    priority: \"urgent\",\n    read: false,\n    page: 1,\n    per_page: 10,\n  });\n}\n\nexport function useRecentNotifications(userId: string) {\n  const today = new Date();\n  const yesterday = new Date(today);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  return useNotifications({\n    user_id: userId,\n    created_after: yesterday.toISOString(),\n    page: 1,\n    per_page: 20,\n  });\n}\n\n// Helper hook for notification actions\nexport function useNotificationActions() {\n  const markAsRead = useMarkNotificationAsRead();\n  const markAllAsRead = useMarkAllNotificationsAsRead();\n  const deleteNotification = useDeleteNotification();\n  const createNotification = useCreateNotification();\n\n  return {\n    markAsRead: markAsRead.mutate,\n    markAllAsRead: markAllAsRead.mutate,\n    delete: deleteNotification.mutate,\n    create: createNotification.mutate,\n    isLoading: markAsRead.isPending || markAllAsRead.isPending || deleteNotification.isPending || createNotification.isPending,\n  };\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10.268 21a2 2 0 0 0 3.464 0', key: 'vwvbt9' }],\n  [\n    'path',\n    {\n      d: 'M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326',\n      key: '11g9vi',\n    },\n  ],\n];\n\n/**\n * @component @name Bell\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMjY4IDIxYTIgMiAwIDAgMCAzLjQ2NCAwIiAvPgogIDxwYXRoIGQ9Ik0zLjI2MiAxNS4zMjZBMSAxIDAgMCAwIDQgMTdoMTZhMSAxIDAgMCAwIC43NC0xLjY3M0MxOS40MSAxMy45NTYgMTggMTIuNDk5IDE4IDhBNiA2IDAgMCAwIDYgOGMwIDQuNDk5LTEuNDExIDUuOTU2LTIuNzM4IDcuMzI2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bell\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bell = createLucideIcon('bell', __iconNode);\n\nexport default Bell;\n","\"use client\";\n\nimport React from \"react\";\nimport { X, CheckCircle, AlertCircle, Info, AlertTriangle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\nimport { useNotificationActions } from \"@/hooks/use-notifications\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport type { Notification, NotificationPriority } from \"@/types\";\n\ninterface NotificationItemProps {\n  notification: Notification;\n  onClose?: () => void;\n}\n\nconst priorityConfig: Record<NotificationPriority, {\n  icon: React.ElementType;\n  color: string;\n  bgColor: string;\n  badgeVariant: \"default\" | \"secondary\" | \"destructive\" | \"outline\";\n}> = {\n  low: {\n    icon: Info,\n    color: \"text-blue-600\",\n    bgColor: \"bg-blue-50\",\n    badgeVariant: \"secondary\",\n  },\n  normal: {\n    icon: Info,\n    color: \"text-gray-600\",\n    bgColor: \"bg-gray-50\",\n    badgeVariant: \"outline\",\n  },\n  high: {\n    icon: AlertCircle,\n    color: \"text-orange-600\",\n    bgColor: \"bg-orange-50\",\n    badgeVariant: \"default\",\n  },\n  urgent: {\n    icon: AlertTriangle,\n    color: \"text-red-600\",\n    bgColor: \"bg-red-50\",\n    badgeVariant: \"destructive\",\n  },\n};\n\nconst getNotificationTypeLabel = (type: string): string => {\n  const typeLabels: Record<string, string> = {\n    work_entry_created: \"Work Entry Created\",\n    work_entry_approved: \"Work Entry Approved\",\n    work_entry_rejected: \"Work Entry Rejected\",\n    project_status_changed: \"Project Status Updated\",\n    project_assigned: \"Project Assigned\",\n    team_assignment_changed: \"Team Assignment\",\n    material_low_stock: \"Low Stock Alert\",\n    material_order_delivered: \"Order Delivered\",\n    house_appointment_scheduled: \"Appointment Scheduled\",\n    house_connection_completed: \"Connection Completed\",\n    budget_alert: \"Budget Alert\",\n    deadline_reminder: \"Deadline Reminder\",\n    system_maintenance: \"System Maintenance\",\n    user_mention: \"Mentioned\",\n    approval_required: \"Approval Required\",\n  };\n\n  return typeLabels[type] || type.replace(/_/g, \" \").replace(/\\b\\w/g, (l) => l.toUpperCase());\n};\n\nexport function NotificationItem({ notification, onClose }: NotificationItemProps) {\n  const { markAsRead, delete: deleteNotification } = useNotificationActions();\n\n  const config = priorityConfig[notification.priority];\n  const Icon = config.icon;\n  const isUnread = !notification.read_at;\n\n  const handleMarkAsRead = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (isUnread) {\n      markAsRead(notification.id);\n    }\n  };\n\n  const handleDelete = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    deleteNotification(notification.id);\n  };\n\n  const handleClick = () => {\n    if (isUnread) {\n      markAsRead(notification.id);\n    }\n\n    // Handle navigation based on notification type and data\n    if (notification.data) {\n      const { project_id, work_entry_id, house_id, material_id } = notification.data;\n\n      if (project_id) {\n        // Navigate to project detail\n        window.location.href = `/dashboard/projects/${project_id}`;\n      } else if (work_entry_id) {\n        // Navigate to work entry detail\n        window.location.href = `/dashboard/work-entries/${work_entry_id}`;\n      } else if (house_id) {\n        // Navigate to house detail\n        window.location.href = `/dashboard/houses/${house_id}`;\n      } else if (material_id) {\n        // Navigate to material detail\n        window.location.href = `/dashboard/materials/${material_id}`;\n      }\n    }\n\n    onClose?.();\n  };\n\n  return (\n    <div\n      className={cn(\n        \"group relative p-3 rounded-lg border transition-colors cursor-pointer hover:bg-muted/50\",\n        isUnread && \"border-l-4 border-l-primary bg-primary/5\",\n        !isUnread && \"opacity-75\"\n      )}\n      onClick={handleClick}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className={cn(\"rounded-full p-1\", config.bgColor)}>\n          <Icon className={cn(\"h-4 w-4\", config.color)} />\n        </div>\n\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between gap-2 mb-1\">\n            <Badge variant={config.badgeVariant} className=\"text-xs\">\n              {getNotificationTypeLabel(notification.type)}\n            </Badge>\n            <div className=\"flex items-center gap-1\">\n              <span className=\"text-xs text-muted-foreground\">\n                {formatDistanceToNow(new Date(notification.created_at), { addSuffix: true })}\n              </span>\n              {isUnread && (\n                <div className=\"w-2 h-2 bg-primary rounded-full\" />\n              )}\n            </div>\n          </div>\n\n          <h4 className=\"text-sm font-medium text-foreground mb-1 line-clamp-1\">\n            {notification.title}\n          </h4>\n\n          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n            {notification.body}\n          </p>\n\n          {/* Additional metadata */}\n          {notification.data && (\n            <div className=\"mt-2 flex flex-wrap gap-1\">\n              {notification.data.project_name && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.project_name}\n                </Badge>\n              )}\n              {notification.data.user_name && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.user_name}\n                </Badge>\n              )}\n              {notification.data.stage_code && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {notification.data.stage_code}\n                </Badge>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n          {isUnread && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={handleMarkAsRead}\n              className=\"h-6 w-6 p-0\"\n              title=\"Mark as read\"\n            >\n              <CheckCircle className=\"h-3 w-3\" />\n            </Button>\n          )}\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={handleDelete}\n            className=\"h-6 w-6 p-0 text-muted-foreground hover:text-destructive\"\n            title=\"Delete notification\"\n          >\n            <X className=\"h-3 w-3\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Expiration indicator */}\n      {notification.expires_at && new Date(notification.expires_at) < new Date() && (\n        <div className=\"absolute top-1 right-1\">\n          <Badge variant=\"outline\" className=\"text-xs bg-yellow-50 text-yellow-700 border-yellow-200\">\n            Expired\n          </Badge>\n        </div>\n      )}\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n];\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('info', __iconNode);\n\nexport default Info;\n","\"use client\";\n\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  useNotificationPreferences,\n  useUpdateNotificationPreferences,\n} from \"@/hooks/use-notifications\";\nimport type {\n  NotificationChannel,\n  NotificationType,\n  NotificationChannelPreference,\n} from \"@/types\";\n\ninterface NotificationPreferencesProps {\n  userId: string;\n}\n\nconst notificationChannels: NotificationChannel[] = [\n  \"websocket\",\n  \"push\",\n  \"email\",\n  \"sms\",\n  \"in_app\",\n];\n\nconst notificationTypes: { type: NotificationType; label: string; description: string }[] = [\n  {\n    type: \"work_entry_created\",\n    label: \"Work Entry Created\",\n    description: \"When a new work entry is submitted\",\n  },\n  {\n    type: \"work_entry_approved\",\n    label: \"Work Entry Approved\",\n    description: \"When your work entry is approved\",\n  },\n  {\n    type: \"work_entry_rejected\",\n    label: \"Work Entry Rejected\",\n    description: \"When your work entry is rejected\",\n  },\n  {\n    type: \"project_status_changed\",\n    label: \"Project Status Changes\",\n    description: \"When project status is updated\",\n  },\n  {\n    type: \"project_assigned\",\n    label: \"Project Assignment\",\n    description: \"When you&apos;re assigned to a project\",\n  },\n  {\n    type: \"team_assignment_changed\",\n    label: \"Team Assignment\",\n    description: \"When team assignments change\",\n  },\n  {\n    type: \"material_low_stock\",\n    label: \"Low Stock Alerts\",\n    description: \"When materials are running low\",\n  },\n  {\n    type: \"material_order_delivered\",\n    label: \"Order Delivered\",\n    description: \"When material orders are delivered\",\n  },\n  {\n    type: \"house_appointment_scheduled\",\n    label: \"Appointment Scheduled\",\n    description: \"When house appointments are scheduled\",\n  },\n  {\n    type: \"house_connection_completed\",\n    label: \"Connection Completed\",\n    description: \"When house connections are completed\",\n  },\n  {\n    type: \"budget_alert\",\n    label: \"Budget Alerts\",\n    description: \"When budget thresholds are exceeded\",\n  },\n  {\n    type: \"deadline_reminder\",\n    label: \"Deadline Reminders\",\n    description: \"When project deadlines approach\",\n  },\n  {\n    type: \"system_maintenance\",\n    label: \"System Maintenance\",\n    description: \"System maintenance notifications\",\n  },\n  {\n    type: \"user_mention\",\n    label: \"User Mentions\",\n    description: \"When you&apos;re mentioned in comments\",\n  },\n  {\n    type: \"approval_required\",\n    label: \"Approval Required\",\n    description: \"When your approval is needed\",\n  },\n];\n\nconst preferencesSchema = z.object({\n  enabled_channels: z.array(z.string()).min(1, \"Select at least one channel\"),\n  notification_types: z.record(\n    z.object({\n      enabled: z.boolean(),\n      channels: z.array(z.string()),\n      frequency: z.enum([\"immediate\", \"hourly\", \"daily\", \"weekly\"]).optional(),\n    })\n  ),\n  quiet_hours_start: z.string().optional(),\n  quiet_hours_end: z.string().optional(),\n  timezone: z.string().optional(),\n  language: z.string().optional(),\n});\n\ntype PreferencesFormData = z.infer<typeof preferencesSchema>;\n\nexport function NotificationPreferences({ userId }: NotificationPreferencesProps) {\n  const { data: preferences, isLoading } = useNotificationPreferences(userId);\n  const updatePreferences = useUpdateNotificationPreferences();\n\n  const form = useForm<PreferencesFormData>({\n    resolver: zodResolver(preferencesSchema),\n    defaultValues: {\n      enabled_channels: [\"websocket\", \"in_app\"],\n      notification_types: {},\n      quiet_hours_start: \"22:00\",\n      quiet_hours_end: \"08:00\",\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      language: \"en\",\n    },\n  });\n\n  React.useEffect(() => {\n    if (preferences) {\n      form.reset({\n        enabled_channels: preferences.enabled_channels,\n        notification_types: preferences.notification_types,\n        quiet_hours_start: preferences.quiet_hours_start || \"22:00\",\n        quiet_hours_end: preferences.quiet_hours_end || \"08:00\",\n        timezone: preferences.timezone,\n        language: preferences.language,\n      });\n    }\n  }, [preferences, form]);\n\n  const onSubmit = (data: PreferencesFormData) => {\n    updatePreferences.mutate({\n      userId,\n      data: {\n        enabled_channels: data.enabled_channels as NotificationChannel[],\n        notification_types: data.notification_types as Record<\n          NotificationType,\n          NotificationChannelPreference\n        >,\n        quiet_hours_start: data.quiet_hours_start,\n        quiet_hours_end: data.quiet_hours_end,\n        timezone: data.timezone,\n        language: data.language,\n      },\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <Tabs defaultValue=\"channels\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"channels\">Channels</TabsTrigger>\n            <TabsTrigger value=\"types\">Notification Types</TabsTrigger>\n            <TabsTrigger value=\"settings\">Settings</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"channels\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Notification Channels</CardTitle>\n                <CardDescription>\n                  Choose how you want to receive notifications\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <FormField\n                  control={form.control}\n                  name=\"enabled_channels\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Enabled Channels</FormLabel>\n                      <div className=\"space-y-3\">\n                        {notificationChannels.map((channel) => (\n                          <div key={channel} className=\"flex items-center space-x-2\">\n                            <Switch\n                              id={channel}\n                              checked={field.value.includes(channel)}\n                              onCheckedChange={(checked) => {\n                                if (checked) {\n                                  field.onChange([...field.value, channel]);\n                                } else {\n                                  field.onChange(\n                                    field.value.filter((c) => c !== channel)\n                                  );\n                                }\n                              }}\n                            />\n                            <Label\n                              htmlFor={channel}\n                              className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 capitalize\"\n                            >\n                              {channel.replace(\"_\", \" \")}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"types\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Notification Types</CardTitle>\n                <CardDescription>\n                  Configure which notifications you want to receive\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                {notificationTypes.map(({ type, label, description }) => (\n                  <div key={type} className=\"space-y-3 p-4 border rounded-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <Label className=\"text-sm font-medium\">{label}</Label>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {description}\n                        </p>\n                      </div>\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.enabled`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormControl>\n                              <Switch\n                                checked={field.value || false}\n                                onCheckedChange={field.onChange}\n                              />\n                            </FormControl>\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.frequency`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel className=\"text-xs\">Frequency</FormLabel>\n                            <Select\n                              onValueChange={field.onChange}\n                              defaultValue={field.value || \"immediate\"}\n                            >\n                              <FormControl>\n                                <SelectTrigger className=\"h-8\">\n                                  <SelectValue placeholder=\"Select frequency\" />\n                                </SelectTrigger>\n                              </FormControl>\n                              <SelectContent>\n                                <SelectItem value=\"immediate\">Immediate</SelectItem>\n                                <SelectItem value=\"hourly\">Hourly</SelectItem>\n                                <SelectItem value=\"daily\">Daily</SelectItem>\n                                <SelectItem value=\"weekly\">Weekly</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </FormItem>\n                        )}\n                      />\n\n                      <FormField\n                        control={form.control}\n                        name={`notification_types.${type}.channels`}\n                        render={({ field }) => (\n                          <FormItem>\n                            <FormLabel className=\"text-xs\">Channels</FormLabel>\n                            <div className=\"flex flex-wrap gap-1\">\n                              {form.watch(\"enabled_channels\").map((channel) => (\n                                <Label\n                                  key={channel}\n                                  className=\"flex items-center space-x-1 text-xs cursor-pointer\"\n                                >\n                                  <input\n                                    type=\"checkbox\"\n                                    className=\"w-3 h-3\"\n                                    checked={\n                                      field.value?.includes(channel) || false\n                                    }\n                                    onChange={(e) => {\n                                      const channels = field.value || [];\n                                      if (e.target.checked) {\n                                        field.onChange([...channels, channel]);\n                                      } else {\n                                        field.onChange(\n                                          channels.filter((c) => c !== channel)\n                                        );\n                                      }\n                                    }}\n                                  />\n                                  <span className=\"capitalize\">\n                                    {channel.replace(\"_\", \" \")}\n                                  </span>\n                                </Label>\n                              ))}\n                            </div>\n                          </FormItem>\n                        )}\n                      />\n                    </div>\n                  </div>\n                ))}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"settings\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>General Settings</CardTitle>\n                <CardDescription>\n                  Configure quiet hours and other preferences\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"quiet_hours_start\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Quiet Hours Start</FormLabel>\n                        <FormControl>\n                          <Input type=\"time\" {...field} />\n                        </FormControl>\n                        <FormDescription>\n                          No notifications during quiet hours\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"quiet_hours_end\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Quiet Hours End</FormLabel>\n                        <FormControl>\n                          <Input type=\"time\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <FormField\n                  control={form.control}\n                  name=\"timezone\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Timezone</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select timezone\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {Intl.supportedValuesOf(\"timeZone\").map((tz) => (\n                            <SelectItem key={tz} value={tz}>\n                              {tz}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"language\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Language</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select language\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          <SelectItem value=\"en\">English</SelectItem>\n                          <SelectItem value=\"ru\">Русский</SelectItem>\n                          <SelectItem value=\"de\">Deutsch</SelectItem>\n                          <SelectItem value=\"uz\">Oʻzbekcha</SelectItem>\n                          <SelectItem value=\"tr\">Türkçe</SelectItem>\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n\n        <div className=\"flex justify-end gap-2\">\n          <Button\n            type=\"submit\"\n            disabled={updatePreferences.isPending}\n            className=\"w-full\"\n          >\n            {updatePreferences.isPending ? \"Saving...\" : \"Save Preferences\"}\n          </Button>\n        </div>\n      </form>\n    </Form>\n  );\n}"],"names":[],"mappings":"uECyBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,CAAA,CAAA,AAAO,CAAP,AAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAtBM,CAsBE,AArBpC,CAqBoC,AArBnC,CAqBmC,AArBnC,CAAA,AAqBmC,CArBnC,AAqBmC,CAAA,AArBnC,CAqBmC,AArBnC,CAAA,AAqBmC,CAAA,AArBnC,AAAQ,CAqB2B,AArB3B,AAAE,CAqBmC,CAAA,AArBhC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAgC,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC7D,CACE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACA,CACE,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CACH,GAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EACP,CAEJ,yTDZA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAiBO,IAAM,EAAmB,CAC9B,IAAK,CAAC,gBAAgB,CACtB,MAAO,IAAM,IAAI,EAAiB,GAAG,CAAE,OAAO,CAC9C,KAAM,AAAC,GAAiC,IAAI,EAAiB,KAAK,GAAI,EAAQ,CAC9E,QAAS,IAAM,IAAI,EAAiB,GAAG,CAAE,SAAS,CAClD,OAAQ,AAAC,GAAe,IAAI,EAAiB,OAAO,GAAI,EAAG,CAC3D,YAAa,AAAC,GAAmB,IAAI,EAAiB,GAAG,CAAE,eAAgB,EAAO,CAClF,YAAc,AAAD,GAAoB,IAAI,EAAiB,GAAG,CAAE,cAAe,EAAO,CACjF,UAAW,IAAM,IAAI,EAAiB,GAAG,CAAE,YAAY,AACzD,EAGO,SAAS,EAAiB,CAA6B,EAC5D,MAAO,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACd,SAAU,EAAiB,IAAI,CAAC,GAAW,CAAC,GAC5C,QAAS,IAAM,EAAA,gBAAgB,CAAC,gBAAgB,CAAC,GACjD,UAAW,GACb,EACF,AAFoB,CAab,SAAS,EAA2B,CAAc,EACvD,MAAO,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CACd,SAAU,EAAiB,WAAW,CAAC,GACvC,QAAS,IAAM,EAAA,gBAAgB,CAAC,cAAc,CAAC,GAC/C,QAAS,CAAC,CAAC,EACX,gBAAiB,IACjB,CADsB,SACX,CACb,EACF,CA+FO,SAAS,EAA2B,CAAc,EACvD,MAAO,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CACd,SAAU,EAAiB,WAAW,CAAC,GACvC,QAAS,IAAM,EAAA,0BAA0B,CAAC,cAAc,CAAC,GACzD,QAAS,CAAC,CAAC,EACX,UAAW,GACb,CADiB,CAEnB,CAEO,GAJiB,MAIR,IACd,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAElC,MAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACjB,WAAY,CAAC,QAAE,CAAM,MAAE,CAAI,CAAkE,GAC3F,EAAA,0BAA0B,CAAC,iBAAiB,CAAC,EAAQ,GACvD,UAAW,AAAC,IACV,EAAY,YAAY,CACtB,EAAiB,WAAW,CAAC,EAAmB,OAAO,EACvD,GAEF,EAAA,KAAK,CAAC,OAAO,CAAC,mCAChB,EACA,QAAS,AAAC,IACR,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,8BAA8B,EAAE,EAAM,OAAO,CAAA,CAAE,CAC9D,CACF,EACF,CA4BO,SAAS,EAA0B,CAAc,CAAE,GAAU,CAAI,EACtE,IAAM,EAAc,CAAA,EAAA,EAAA,cAAc,AAAd,IACd,EAAoB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GAG3B,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAEtC,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,KAAK,EAAG,GACnE,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,WAAW,CAAC,EAAQ,GAG/E,EAAY,YAAY,CAAC,EAAiB,MAAM,CAAC,EAAa,EAAE,EAAG,IAGrC,SAA1B,EAAa,QAAQ,EAAyC,WAA1B,EAAa,QAAQ,AAAK,GAAU,AAC1E,EAAA,KAAK,CAAC,IAAI,CAAC,EAAa,KAAK,CAAE,CAC7B,YAAa,EAAa,IAAI,CAC9B,OAAkC,WAA1B,EAAa,QAAQ,CAAgB,CAC3C,MAAO,OACP,QAAS,KAEP,QAAQ,GAAG,CAAC,4BAA6B,EAAa,EAAE,CAC1D,CACF,OAAI,CACN,EAEJ,EAAG,CAAC,EAAa,EAAO,EAElB,EAAuB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAExC,OAAQ,EAAM,WAAW,EACvB,IAAK,UACH,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,WAAW,AAAC,GACvD,KACF,KAAK,aACH,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,eAAe,AAAC,GAC3D,KACF,KAAK,sBACH,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,uBAAuB,AAAC,GACnE,KACF,KAAK,QACH,EAAY,iBAAiB,CAAC,CAAE,SAAU,CAAC,SAAU,AAAD,GACpD,KACF,SAEE,EAAY,iBAAiB,EACjC,EAGmB,mBAAf,EAAM,IAAI,EAAwC,uBAAf,EAAM,IAAI,AAAK,GAAsB,AAC1E,EAAA,KAAK,CAAC,IAAI,CAAC,kBAAmB,CAC5B,YAAa,CAAA,EAAG,EAAM,WAAW,CAAC,iBAAiB,CAAC,AACtD,EAEJ,EAAG,CAAC,EAAY,EAsChB,MApCA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,GAAW,CAAC,EAAQ,OAEzB,IAAM,EAAU,UACd,GAAI,CACF,MAAM,EAAA,KAAK,CAAC,OAAO,CAAC,GACpB,EAAkB,OAAO,CAAG,EAG5B,EAAA,KAAK,CAAC,SAAS,CAAC,eAAgB,GAChC,EAAA,KAAK,CAAC,SAAS,CAAC,kBAAmB,EAErC,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,+BAAgC,GAG1C,EAAkB,OAAO,CArEN,EAqES,EAC9B,EAAkB,OAAO,GAGzB,QAJoD,GAIzC,KACT,GACF,EAJuD,CAIpD,GAJW,KAAK,GAAG,CAAC,EAAG,EAAkB,OAAO,GAMvD,CACF,EAIA,OAFA,IAEO,KACL,EAAA,KAAK,CAAC,WAAW,CAAC,eAAgB,GAClC,EAAA,KAAK,CAAC,WAAW,CAAC,kBAAmB,GACrC,EAAA,KAAK,CAAC,UAAU,EAClB,CACF,EAAG,CAAC,EAAQ,EAAS,EAAoB,EAAqB,EAEvD,CACL,YAAa,CAAC,EAAc,IAAc,EAAA,KAAK,CAAC,IAAI,CAAC,EAAM,GAC3D,UAAW,CAAC,EAAqB,IAAiC,EAAA,KAAK,CAAC,SAAS,CAAC,EAAa,GAC/F,YAAa,CAAC,EAAqB,IAAiC,EAAA,KAAK,CAAC,WAAW,CAAC,EAAa,EACrG,CACF,CAGO,SAAS,EAAqB,CAAc,EACjD,OAAO,EAAiB,CACtB,QAAS,EACT,KAAM,EACN,SAAU,EACZ,EACF,CAEO,SAAS,EAAuB,CAAc,EACnD,OAAO,EAAiB,CACtB,QAAS,EACT,MAAM,EACN,KAAM,EACN,SAAU,EACZ,EACF,CAEO,SAAS,EAAuB,CAAc,EACnD,OAAO,EAAiB,CACtB,QAAS,EACT,SAAU,SACV,KAAM,GACN,KAAM,EACN,SAAU,EACZ,EACF,CAEO,SAAS,EAAuB,CAAc,EAEnD,IAAM,EAAY,IAAI,KAAK,AADb,IAAI,MAIlB,OAFA,EAAU,OAAO,CAAC,EAAU,OAAO,GAAK,GAEjC,EAAiB,CACtB,QAAS,EACT,cAAe,EAAU,WAAW,GACpC,KAAM,EACN,SAAU,EACZ,EACF,CAGO,SAAS,IACd,IAAM,EAAa,AAxQd,SAAS,EACd,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAElC,MAAO,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,CACjB,WAAY,AAAC,GAAe,EAAA,gBAAgB,CAAC,UAAU,CAAC,GACxD,SAAU,MAAO,IACf,MAAM,EAAY,aAAa,CAAC,CAAE,SAAU,EAAiB,MAAM,CAAC,EAAI,GACxE,IAAM,EAAuB,EAAY,YAAY,CAAC,EAAiB,MAAM,CAAC,IAO9E,OALA,EAAY,YAAY,CAAC,EAAiB,MAAM,CAAC,GAAM,AAAD,GACpD,AAAK,EACE,CAAE,CADL,CAAM,CACE,CAAG,CAAE,QAAS,IAAI,OAAO,WAAW,EAAG,EADlC,GAIZ,sBAAE,CAAqB,CAChC,EACA,QAAS,CAAC,EAAO,EAAI,KACf,GAAS,sBAAsB,AACjC,EAAY,YAAY,CAAC,EAAiB,MAAM,CAAC,GAAK,EAAQ,oBAAoB,EAEpF,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,qCAAqC,EAAE,EAAM,OAAO,CAAA,CAAE,CACrE,EACA,UAAW,AAAC,IACV,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,KAAK,EAAG,GACnE,EAAY,iBAAiB,CAAC,CAC5B,SAAU,EAAiB,WAAW,CAAC,EAAoB,OAAO,CACpE,EACF,EACA,UAAW,CAAC,EAAM,EAAO,KACvB,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,MAAM,CAAC,EAAI,EACxE,CACF,EACF,IAyOQ,EAvOD,AAuOiB,SAvOR,EACd,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAElC,MAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACjB,WAAY,AAAC,GAAmB,EAAA,gBAAgB,CAAC,aAAa,CAAC,GAC/D,UAAW,CAAC,EAAG,KACb,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,KAAK,EAAG,GACnE,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,WAAW,CAAC,EAAQ,GAC/E,EAAA,KAAK,CAAC,OAAO,CAAC,mCAChB,EACA,QAAS,AAAC,IACR,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,0CAA0C,EAAE,EAAM,OAAO,CAAA,CAAE,CAC1E,CACF,EACF,IA0NQ,EAAqB,AAxNtB,SAAS,EACd,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAElC,MAAO,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,CACjB,WAAY,AAAC,GAAe,EAAA,gBAAgB,CAAC,kBAAkB,CAAC,GAChE,UAAW,CAAC,EAAG,KACb,EAAY,aAAa,CAAC,CAAE,SAAU,EAAiB,MAAM,CAAC,EAAW,GACzE,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,KAAK,EAAG,GACnE,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,GAAG,AAAC,GAC/D,EAAA,KAAK,CAAC,OAAO,CAAC,uBAChB,EACA,QAAS,AAAC,IACR,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,+BAA+B,EAAE,EAAM,OAAO,CAAA,CAAE,CAC/D,CACF,EACF,IA0MQ,EAAqB,AApStB,SAAS,EACd,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAElC,MAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACjB,WAAY,AAAC,GAAoC,EAAA,gBAAgB,CAAC,kBAAkB,CAAC,GACrF,UAAW,AAAC,IACV,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAiB,KAAK,EAAG,GACnE,EAAY,iBAAiB,CAAC,CAC5B,SAAU,EAAiB,WAAW,CAAC,EAAgB,OAAO,CAChE,GACA,EAAY,YAAY,CAAC,EAAiB,MAAM,CAAC,EAAgB,EAAE,EAAG,IAGrC,SAA7B,EAAgB,QAAQ,EAA4C,AAA7B,aAAgB,QAAa,AAAL,GAAe,AAChF,EAAA,KAAK,CAAC,IAAI,CAAC,EAAgB,KAAK,CAAE,CAChC,YAAa,EAAgB,IAAI,AACnC,EAEJ,EACA,QAAS,AAAC,IACR,EAAA,KAAK,CAAC,KAAK,CAAC,CAAC,+BAA+B,EAAE,EAAM,OAAO,CAAA,CAAE,CAC/D,CACF,EACF,IA+QE,MAAO,CACL,WAAY,EAAW,MAAM,CAC7B,cAAe,EAAc,MAAM,CACnC,OAAQ,EAAmB,MAAM,CACjC,OAAQ,EAAmB,MAAM,CACjC,UAAW,EAAW,SAAS,EAAI,EAAc,SAAS,EAAI,EAAmB,SAAS,EAAI,EAAmB,SAAS,AAC5H,CACF,+EErWA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MCiBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,CAAA,CAAA,AAAO,CAAP,AAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAjBM,CAClC,AAgBoC,CAhBnC,AAgBmC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBnC,AAgBmC,CAhBnC,AAAU,AAgBmC,CAAA,AAhBnC,AAAE,EAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAA,CAAM,CAAA,CAAA,CAAA,AAAI,IAAA,CAAA,AAAM,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAM,GAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACzD,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAa,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC1C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,AAAR,CAAU,AAAF,EAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAa,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC5C,EDJA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAM,EAKD,CACH,IAAK,CACH,KAAM,EACN,MAAO,gBACP,QAAS,aACT,aAAc,WAChB,EACA,OAAQ,CACN,KAAM,EACN,MAAO,gBACP,QAAS,aACT,aAAc,SAChB,EACA,KAAM,CACJ,KAAM,EAAA,WAAW,CACjB,MAAO,kBACP,QAAS,eACT,aAAc,SAChB,EACA,OAAQ,CACN,KAAM,EAAA,aAAa,CACnB,MAAO,eACP,QAAS,YACT,aAAc,aAChB,CACF,EAwBO,SAAS,EAAiB,cAAE,CAAY,CAAE,SAAO,CAAyB,QAC/E,GAAM,YAAE,CAAU,CAAE,OAAQ,CAAkB,CAAE,CAAG,CAAA,EAAA,EAAA,sBAAA,AAAsB,IAEnE,EAAS,CAAc,CAAC,EAAa,QAAQ,CAAC,CAC9C,EAAO,EAAO,IAAI,CAClB,EAAW,CAAC,EAAa,OAAO,CAyCtC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,0FACA,GAAY,2CACZ,CAAC,GAAY,cAEf,QAlCgB,CAkCP,IA5BX,GALI,GACF,EAAW,EAAa,EAAE,CADd,CAKV,EAAa,IAAI,CAAE,CACrB,GAAM,YAAE,CAAU,eAAE,CAAa,CAAE,UAAQ,aAAE,CAAW,CAAE,CAAG,EAAa,IAAI,CAE1E,EAEF,OAAO,GAFO,KAEC,CAAC,IAAI,CAAG,CAAC,oBAAoB,EAAE,EAAA,CAAY,CACjD,EAET,OAAO,MAFiB,EAET,CAAC,IAAI,CAAG,CAAC,wBAAwB,EAAE,EAAA,CAAe,CACxD,EAET,OAAO,CAFY,OAEJ,CAAC,IAAI,CAAG,CAAC,kBAAkB,EAAE,EAAA,CAAU,CAC7C,IAET,OAAO,EAFe,MAEP,CAAC,IAAI,CAAG,CAAC,qBAAqB,EAAE,EAAA,CAAA,AAAa,CAEhE,CAEA,KACF,YAWI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,mBAAoB,EAAO,OAAO,WACnD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,UAAW,EAAO,KAAK,MAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAO,YAAY,CAAE,UAAU,mBAnFd,AAkBpC,CAjBL,AAmFW,mBAnFS,qBACpB,oBAAqB,sBACrB,oBAAqB,sBACrB,uBAAwB,yBACxB,iBAAkB,mBAClB,wBAAyB,kBACzB,mBAAoB,kBACpB,yBAA0B,kBAC1B,4BAA6B,wBAC7B,2BAA4B,uBAC5B,aAAc,eACd,kBAAmB,oBACnB,mBAAoB,qBACpB,aAAc,YACd,kBAAmB,mBACrB,CAEiB,CAnBe,AAmBd,EAkEoB,EAAa,IAAI,CAlEhC,EAAI,EAAK,OAAO,CAAC,KAAM,KAAK,OAAO,CAAC,QAAS,AAAC,GAAM,EAAE,WAAW,MAoE9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCACb,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,IAAI,KAAK,EAAa,UAAU,EAAG,CAAE,WAAW,CAAK,KAE3E,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CAKrB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iEACX,EAAa,KAAK,GAGrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDACV,EAAa,IAAI,GAInB,EAAa,IAAI,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACZ,EAAa,IAAI,CAAC,YAAY,EAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAa,IAAI,CAAC,YAAY,GAGlC,EAAa,IAAI,CAAC,SAAS,EAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAa,IAAI,CAAC,SAAS,GAG/B,EAAa,IAAI,CAAC,UAAU,EAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAa,IAAI,CAAC,UAAU,SAQvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFACZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QAxGc,AAAD,CAwGJ,GAvGnB,EAAE,eAAe,GACb,GACF,EAAW,EAAa,EAAE,CADd,AAGhB,EAoGY,UAAU,cACV,MAAM,wBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAG3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QA3GW,AAAC,CA2GH,GA1GjB,EAAE,eAAe,GACjB,EAAmB,EAAa,EAAE,CACpC,EAyGU,UAAU,2DACV,MAAM,+BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,oBAMlB,EAAa,UAAU,EAAI,IAAI,KAAK,EAAa,UAAU,EAAI,IAAI,MAClE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,kEAAyD,gBAOtG,kFEhNA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAcA,IAAM,EAA8C,CAClD,YACA,OACA,QACA,MACA,SACD,CAEK,EAAsF,CAC1F,CACE,KAAM,qBACN,MAAO,qBACP,YAAa,oCACf,EACA,CACE,KAAM,sBACN,MAAO,sBACP,YAAa,kCACf,EACA,CACE,KAAM,sBACN,MAAO,sBACP,YAAa,kCACf,EACA,CACE,KAAM,yBACN,MAAO,yBACP,YAAa,gCACf,EACA,CACE,KAAM,mBACN,MAAO,qBACP,YAAa,wCACf,EACA,CACE,KAAM,0BACN,MAAO,kBACP,YAAa,8BACf,EACA,CACE,KAAM,qBACN,MAAO,mBACP,YAAa,gCACf,EACA,CACE,KAAM,2BACN,MAAO,kBACP,YAAa,oCACf,EACA,CACE,KAAM,8BACN,MAAO,wBACP,YAAa,uCACf,EACA,CACE,KAAM,6BACN,MAAO,uBACP,YAAa,sCACf,EACA,CACE,KAAM,eACN,MAAO,gBACP,YAAa,qCACf,EACA,CACE,KAAM,oBACN,MAAO,qBACP,YAAa,iCACf,EACA,CACE,KAAM,qBACN,MAAO,qBACP,YAAa,kCACf,EACA,CACE,KAAM,eACN,MAAO,gBACP,YAAa,wCACf,EACA,CACE,KAAM,oBACN,MAAO,oBACP,YAAa,8BACf,EACD,CAEK,EAAoB,EAAA,CAAC,CAAC,MAAM,CAAC,CACjC,iBAAkB,EAAA,CAAC,CAAC,KAAK,CAAC,EAAA,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC,EAAG,+BAC7C,mBAAoB,EAAA,CAAC,CAAC,MAAM,CAC1B,EAAA,CAAC,CAAC,MAAM,CAAC,CACP,QAAS,EAAA,CAAC,CAAC,OAAO,GAClB,SAAU,EAAA,CAAC,CAAC,KAAK,CAAC,EAAA,CAAC,CAAC,MAAM,IAC1B,UAAW,EAAA,CAAC,CAAC,IAAI,CAAC,CAAC,YAAa,SAAU,QAAS,SAAS,EAAE,QAAQ,EACxE,IAEF,kBAAmB,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,GACtC,gBAAiB,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,GACpC,SAAU,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,GAC7B,SAAU,EAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,EAC/B,GAIO,SAAS,EAAwB,QAAE,CAAM,CAAgC,EAC9E,GAAM,CAAE,KAAM,CAAW,WAAE,CAAS,CAAE,CAAG,CAAA,EAAA,EAAA,0BAAA,AAA0B,EAAC,GAC9D,EAAoB,CAAA,EAAA,EAAA,gCAAgC,AAAhC,IAEpB,EAAO,CAAA,EAAA,EAAA,OAAA,AAAO,EAAsB,CACxC,SAAU,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,GACtB,cAAe,CACb,iBAAkB,CAAC,YAAa,SAAS,CACzC,mBAAoB,CAAC,EACrB,kBAAmB,QACnB,gBAAiB,QACjB,SAAU,KAAK,cAAc,GAAG,eAAe,GAAG,QAAQ,CAC1D,SAAU,IACZ,CACF,UAEA,EAAA,OAAK,CAAC,SAAS,CAAC,KACV,GACF,EAAK,KAAK,CAAC,CACT,CAFa,gBAEK,EAAY,gBAAgB,CAC9C,mBAAoB,EAAY,kBAAkB,CAClD,kBAAmB,EAAY,iBAAiB,EAAI,QACpD,gBAAiB,EAAY,eAAe,EAAI,QAChD,SAAU,EAAY,QAAQ,CAC9B,SAAU,EAAY,QAAQ,AAChC,EAEJ,EAAG,CAAC,EAAa,EAAK,EAmBlB,GAEA,CAAA,EAAA,EAAA,GAFW,AAEX,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAMnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAE,GAAG,CAAI,UACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAK,YAAY,CA3BpB,AAAC,AA2BoB,IA1BpC,EAAkB,MAAM,CAAC,QACvB,EACA,KAAM,CACJ,iBAAkB,EAAK,gBAAgB,CACvC,mBAAoB,EAAK,kBAAkB,CAI3C,kBAAmB,EAAK,iBAAiB,CACzC,gBAAiB,EAAK,eAAe,CACrC,SAAU,EAAK,QAAQ,CACvB,SAAU,EAAK,QAAQ,AACzB,CACF,EACF,GAYiD,UAAU,sBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,WAAW,UAAU,mBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,oCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,oBAAW,aAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,iBAAQ,uBAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,oBAAW,gBAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,WAAW,UAAU,qBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,oDAInB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,mBACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,qBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAqB,GAAG,CAAC,AAAC,GACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAkB,UAAU,wCAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAI,EACJ,QAAS,EAAM,KAAK,CAAC,QAAQ,CAAC,GAC9B,gBAAiB,AAAC,IACZ,EACF,EAAM,KADK,GACG,CAAC,IAAI,EAAM,KAAK,CAAE,EAAQ,EAExC,EAAM,QAAQ,CACZ,EAAM,KAAK,CAAC,MAAM,CAAC,AAAC,GAAM,IAAM,GAGtC,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,EACT,UAAU,iHAET,EAAQ,OAAO,CAAC,IAAK,SAlBhB,MAuBd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,eAQxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,qBACnC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,uBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,yDAInB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACpB,EAAkB,GAAG,CAAC,CAAC,MAAE,CAAI,OAAE,CAAK,aAAE,CAAW,CAAE,GAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,4CACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,+BAAuB,IACxC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCACV,OAGL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAM,CAAC,mBAAmB,EAAE,EAAK,QAAQ,CAAC,CAC1C,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,EAAM,KAAK,GAAI,EACxB,gBAAiB,EAAM,QAAQ,YAQ3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAM,CAAC,mBAAmB,EAAE,EAAK,UAAU,CAAC,CAC5C,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mBAAU,cAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,cAAe,EAAM,QAAQ,CAC7B,aAAc,EAAM,KAAK,EAAI,sBAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,eACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,yBAG7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,qBAAY,cAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,WAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,kBAAS,sBAOrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAM,CAAC,mBAAmB,EAAE,EAAK,SAAS,CAAC,CAC3C,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mBAAU,aAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAK,KAAK,CAAC,oBAAoB,GAAG,CAAC,AAAC,GACnC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAEJ,UAAU,+DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,UAAU,UACV,QACE,EAAM,KAAK,EAAE,SAAS,KAAY,EAEpC,SAAU,AAAC,IACT,IAAM,EAAW,EAAM,KAAK,EAAI,EAAE,AAC9B,GAAE,MAAM,CAAC,OAAO,CAClB,CADoB,CACd,QAAQ,CAAC,IAAI,EAAU,EAAQ,EAErC,EAAM,QAAQ,CACZ,EAAS,MAAM,CAAC,AAAC,GAAM,IAAM,GAGnC,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sBACb,EAAQ,OAAO,CAAC,IAAK,SArBnB,gBA5DX,WAgGlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,WAAW,UAAU,qBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,qBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,mDAInB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,oBACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,KAAK,OAAQ,GAAG,CAAK,KAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,wCAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,QAKlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,kBACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,KAAK,OAAQ,GAAG,CAAK,KAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,WAMpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,WACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,cAAe,EAAM,QAAQ,CAAE,aAAc,EAAM,KAAK,WAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,wBAG7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,KAAK,iBAAiB,CAAC,YAAY,GAAG,CAAC,AAAC,GACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAU,MAAO,WACzB,GADc,SAMvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,QAKlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,QAAS,EAAK,OAAO,CACrB,KAAK,WACL,OAAQ,CAAC,OAAE,CAAK,CAAE,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,cAAe,EAAM,QAAQ,CAAE,aAAc,EAAM,KAAK,WAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,wBAG7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,cACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,iBAG3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,mBAS1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,EAAkB,SAAS,CACrC,UAAU,kBAET,EAAkB,SAAS,CAAG,YAAc,2BAMzD","ignoreList":[1,3]}