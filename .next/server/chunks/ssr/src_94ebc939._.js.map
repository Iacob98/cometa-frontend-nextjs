{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-suppliers.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\n\n// Query keys\nexport const supplierKeys = {\n  all: [\"suppliers\"] as const,\n  lists: () => [...supplierKeys.all, \"list\"] as const,\n  list: (filters: string) => [...supplierKeys.lists(), { filters }] as const,\n  details: () => [...supplierKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...supplierKeys.details(), id] as const,\n};\n\nexport interface Supplier {\n  id: string;\n  org_name: string;\n  contact_person: string;\n  phone?: string;\n  email?: string;\n  address?: string;\n  notes?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface CreateSupplierData {\n  org_name: string;\n  contact_person: string;\n  phone?: string;\n  email?: string;\n  address?: string;\n  notes?: string;\n}\n\nexport interface UpdateSupplierData {\n  id: string;\n  org_name?: string;\n  contact_person?: string;\n  phone?: string;\n  email?: string;\n  address?: string;\n  notes?: string;\n}\n\nexport interface SupplierContact {\n  id: string;\n  supplier_id: string;\n  contact_name: string;\n  position?: string;\n  department?: string;\n  phone?: string;\n  email?: string;\n  is_primary: boolean;\n  is_active: boolean;\n  notes?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface CreateContactData {\n  contact_name: string;\n  position?: string;\n  department?: string;\n  phone?: string;\n  email?: string;\n  is_primary?: boolean;\n  notes?: string;\n}\n\nexport interface UpdateContactData {\n  contact_name?: string;\n  position?: string;\n  department?: string;\n  phone?: string;\n  email?: string;\n  is_primary?: boolean;\n  notes?: string;\n}\n\nexport interface SupplierMaterial {\n  id: string;\n  supplier_id: string;\n  material_id: string;\n  supplier_part_number?: string;\n  unit_price: number;\n  minimum_order_qty: number;\n  lead_time_days?: number;\n  is_preferred: boolean;\n  last_price_update?: string;\n  notes?: string;\n  created_at: string;\n  updated_at: string;\n  material: {\n    id: string;\n    name: string;\n    category?: string;\n    unit: string;\n    unit_price_eur: number;\n    supplier_name?: string;\n    description?: string;\n    is_active: boolean;\n  };\n  material_name?: string;\n  material_category?: string;\n  material_unit?: string;\n  material_description?: string;\n}\n\nexport interface CreateMaterialData {\n  material_id?: string;\n  material_name?: string;\n  category?: string;\n  unit?: string;\n  supplier_part_number?: string;\n  unit_price: number;\n  minimum_order_qty?: number;\n  lead_time_days?: number;\n  is_preferred?: boolean;\n  notes?: string;\n}\n\nexport interface ProjectAssignment {\n  id: string;\n  project_id: string;\n  supplier_id: string;\n  supplier_role: string;\n  contact_person?: string;\n  contract_reference?: string;\n  start_date?: string;\n  end_date?: string;\n  status: string;\n  notes?: string;\n  created_at: string;\n  updated_at: string;\n  assigned_at?: string; // For compatibility\n  project_name?: string;\n  project_customer?: string;\n  project_city?: string;\n  project_status?: string;\n}\n\nexport interface CreateProjectAssignmentData {\n  project_id: string;\n  supplier_role?: string;\n  contact_person?: string;\n  contract_reference?: string;\n  start_date?: string;\n  end_date?: string;\n  status?: string;\n  notes?: string;\n}\n\n// Fetch suppliers\nasync function fetchSuppliers(): Promise<Supplier[]> {\n  const response = await fetch(\"/api/suppliers\");\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch suppliers\");\n  }\n  const data = await response.json();\n  // Extract items array from paginated response and map name to org_name\n  const suppliers = data.items || [];\n  return suppliers.map((supplier: any) => ({\n    ...supplier,\n    org_name: supplier.name,\n  }));\n}\n\n// Fetch single supplier\nasync function fetchSupplier(id: string): Promise<Supplier> {\n  const response = await fetch(`/api/suppliers/${id}`);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch supplier\");\n  }\n  return response.json();\n}\n\n// Create supplier\nasync function createSupplier(data: CreateSupplierData): Promise<Supplier> {\n  // Map org_name to name for API compatibility\n  const { org_name, ...restData } = data;\n  const apiData = {\n    ...restData,\n    name: org_name,\n  };\n\n  const response = await fetch(\"/api/suppliers\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(apiData),\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to create supplier\");\n  }\n\n  const result = await response.json();\n\n  // Map name back to org_name for frontend compatibility\n  return {\n    ...result,\n    org_name: result.name,\n  };\n}\n\n// Update supplier\nasync function updateSupplier(data: UpdateSupplierData): Promise<Supplier> {\n  const { id, ...updateData } = data;\n  const response = await fetch(`/api/suppliers/${id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(updateData),\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to update supplier\");\n  }\n\n  return response.json();\n}\n\n// Delete supplier\nasync function deleteSupplier(id: string): Promise<void> {\n  const response = await fetch(`/api/suppliers/${id}`, {\n    method: \"DELETE\",\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to delete supplier\");\n  }\n}\n\n// Fetch supplier contacts\nasync function fetchSupplierContacts(supplierId: string): Promise<SupplierContact[]> {\n  const response = await fetch(`/api/suppliers/${supplierId}/contacts`);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch supplier contacts\");\n  }\n  return response.json();\n}\n\n// Create supplier contact\nasync function createSupplierContact(supplierId: string, data: CreateContactData): Promise<SupplierContact> {\n  const response = await fetch(`/api/suppliers/${supplierId}/contacts`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to create supplier contact\");\n  }\n\n  return response.json();\n}\n\n// Update supplier contact\nasync function updateSupplierContact(supplierId: string, contactId: string, data: UpdateContactData): Promise<SupplierContact> {\n  const response = await fetch(`/api/suppliers/${supplierId}/contacts/${contactId}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to update supplier contact\");\n  }\n\n  return response.json();\n}\n\n// Delete supplier contact\nasync function deleteSupplierContact(supplierId: string, contactId: string): Promise<void> {\n  const response = await fetch(`/api/suppliers/${supplierId}/contacts/${contactId}`, {\n    method: \"DELETE\",\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to delete supplier contact\");\n  }\n}\n\n// Fetch supplier materials\nasync function fetchSupplierMaterials(supplierId: string, projectId?: string): Promise<SupplierMaterial[]> {\n  const url = new URL(`/api/suppliers/${supplierId}/materials`, window.location.origin);\n  if (projectId) {\n    url.searchParams.set('project_id', projectId);\n  }\n\n  const response = await fetch(url.toString());\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch supplier materials\");\n  }\n  return response.json();\n}\n\n// Create supplier material\nasync function createSupplierMaterial(supplierId: string, data: CreateMaterialData): Promise<SupplierMaterial> {\n  const response = await fetch(`/api/suppliers/${supplierId}/materials`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n    throw new Error(errorData.error || `Failed to create supplier material (${response.status})`);\n  }\n\n  return response.json();\n}\n\n// Fetch supplier project assignments\nasync function fetchSupplierProjects(supplierId: string): Promise<ProjectAssignment[]> {\n  const response = await fetch(`/api/suppliers/${supplierId}/projects`);\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch supplier projects\");\n  }\n  return response.json();\n}\n\n// Create supplier project assignment\nasync function createSupplierProjectAssignment(supplierId: string, data: CreateProjectAssignmentData): Promise<ProjectAssignment> {\n  const response = await fetch(`/api/suppliers/${supplierId}/projects`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  });\n\n  if (!response.ok) {\n    throw new Error(\"Failed to assign supplier to project\");\n  }\n\n  return response.json();\n}\n\n// Hooks\nexport function useSuppliers() {\n  return useQuery({\n    queryKey: supplierKeys.lists(),\n    queryFn: fetchSuppliers,\n    staleTime: 1000 * 60 * 5, // 5 minutes\n  });\n}\n\nexport function useSupplier(id: string) {\n  return useQuery({\n    queryKey: supplierKeys.detail(id),\n    queryFn: () => fetchSupplier(id),\n    enabled: !!id,\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\nexport function useCreateSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: createSupplier,\n    onSuccess: (newSupplier) => {\n      // Update suppliers list\n      queryClient.setQueryData<Supplier[]>(\n        supplierKeys.lists(),\n        (oldSuppliers = []) => [...oldSuppliers, newSupplier]\n      );\n\n      // Invalidate suppliers queries\n      queryClient.invalidateQueries({ queryKey: supplierKeys.all });\n\n      toast.success(\"Supplier created successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to create supplier: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: updateSupplier,\n    onSuccess: (updatedSupplier) => {\n      // Update suppliers list\n      queryClient.setQueryData<Supplier[]>(\n        supplierKeys.lists(),\n        (oldSuppliers = []) =>\n          oldSuppliers.map((supplier) =>\n            supplier.id === updatedSupplier.id ? updatedSupplier : supplier\n          )\n      );\n\n      // Update individual supplier cache\n      queryClient.setQueryData(\n        supplierKeys.detail(updatedSupplier.id),\n        updatedSupplier\n      );\n\n      // Invalidate related queries\n      queryClient.invalidateQueries({ queryKey: supplierKeys.all });\n\n      toast.success(\"Supplier updated successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to update supplier: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteSupplier() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: deleteSupplier,\n    onSuccess: (_, deletedId) => {\n      // Remove from suppliers list\n      queryClient.setQueryData<Supplier[]>(\n        supplierKeys.lists(),\n        (oldSuppliers = []) =>\n          oldSuppliers.filter((supplier) => supplier.id !== deletedId)\n      );\n\n      // Remove individual supplier cache\n      queryClient.removeQueries({\n        queryKey: supplierKeys.detail(deletedId),\n      });\n\n      // Invalidate related queries\n      queryClient.invalidateQueries({ queryKey: supplierKeys.all });\n\n      toast.success(\"Supplier deleted successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to delete supplier: ${error.message}`);\n    },\n  });\n}\n\n// Supplier Contacts Hooks\nexport function useSupplierContacts(supplierId: string) {\n  return useQuery({\n    queryKey: [...supplierKeys.detail(supplierId), \"contacts\"],\n    queryFn: () => fetchSupplierContacts(supplierId),\n    enabled: !!supplierId,\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\nexport function useCreateSupplierContact(supplierId: string) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateContactData) => createSupplierContact(supplierId, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [...supplierKeys.detail(supplierId), \"contacts\"]\n      });\n      toast.success(\"Contact created successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to create contact: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateSupplierContact(supplierId: string) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ contactId, data }: { contactId: string; data: UpdateContactData }) =>\n      updateSupplierContact(supplierId, contactId, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [...supplierKeys.detail(supplierId), \"contacts\"]\n      });\n      toast.success(\"Contact updated successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to update contact: ${error.message}`);\n    },\n  });\n}\n\nexport function useDeleteSupplierContact(supplierId: string) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (contactId: string) => deleteSupplierContact(supplierId, contactId),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [...supplierKeys.detail(supplierId), \"contacts\"]\n      });\n      toast.success(\"Contact deleted successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to delete contact: ${error.message}`);\n    },\n  });\n}\n\n// Supplier Materials Hooks\nexport function useSupplierMaterials(supplierId: string, projectId?: string) {\n  return useQuery({\n    queryKey: [...supplierKeys.detail(supplierId), \"materials\", { projectId }],\n    queryFn: () => fetchSupplierMaterials(supplierId, projectId),\n    enabled: !!supplierId,\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\nexport function useCreateSupplierMaterial(supplierId: string) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateMaterialData) => createSupplierMaterial(supplierId, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [...supplierKeys.detail(supplierId), \"materials\"]\n      });\n      toast.success(\"Material created successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to create material: ${error.message}`);\n    },\n  });\n}\n\n// Supplier Projects Hooks\nexport function useSupplierProjects(supplierId: string) {\n  return useQuery({\n    queryKey: [...supplierKeys.detail(supplierId), \"projects\"],\n    queryFn: () => fetchSupplierProjects(supplierId),\n    enabled: !!supplierId,\n    staleTime: 1000 * 60 * 5,\n  });\n}\n\nexport function useCreateSupplierProjectAssignment(supplierId: string) {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateProjectAssignmentData) => createSupplierProjectAssignment(supplierId, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: [...supplierKeys.detail(supplierId), \"projects\"]\n      });\n      toast.success(\"Supplier assigned to project successfully\");\n    },\n    onError: (error: Error) => {\n      toast.error(`Failed to assign supplier to project: ${error.message}`);\n    },\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-projects.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport {\n  projectsApi,\n  type Project,\n  type ProjectFilters,\n  type CreateProjectRequest,\n  type UpdateProjectRequest,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const projectKeys = {\n  all: [\"projects\"] as const,\n  lists: () => [...projectKeys.all, \"list\"] as const,\n  list: (filters: ProjectFilters) => [...projectKeys.lists(), filters] as const,\n  details: () => [...projectKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...projectKeys.details(), id] as const,\n};\n\n// Hooks\nexport function useProjects(filters?: ProjectFilters) {\n  return useQuery({\n    queryKey: projectKeys.list(filters || {}),\n    queryFn: () => projectsApi.getProjects(filters),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useProject(id: string) {\n  return useQuery({\n    queryKey: projectKeys.detail(id),\n    queryFn: () => projectsApi.getProject(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useCreateProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateProjectRequest) => projectsApi.createProject(data),\n    onSuccess: (newProject) => {\n      // Invalidate and refetch projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n\n      // Add the new project to the cache\n      queryClient.setQueryData(projectKeys.detail(newProject.id), newProject);\n\n      toast.success(\"Project created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create project: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: UpdateProjectRequest }) =>\n      projectsApi.updateProject(id, data),\n    onMutate: async ({ id, data }) => {\n      // Cancel any outgoing refetches\n      await queryClient.cancelQueries({ queryKey: projectKeys.detail(id) });\n\n      // Snapshot the previous value\n      const previousProject = queryClient.getQueryData(projectKeys.detail(id));\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(projectKeys.detail(id), (old: Project | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      // Return a context object with the snapshotted value\n      return { previousProject };\n    },\n    onError: (error, { id }, context) => {\n      // If the mutation fails, use the context returned from onMutate to roll back\n      if (context?.previousProject) {\n        queryClient.setQueryData(projectKeys.detail(id), context.previousProject);\n      }\n      toast.error(`Failed to update project: ${error.message}`);\n    },\n    onSuccess: (updatedProject) => {\n      // Invalidate and refetch projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n      toast.success(\"Project updated successfully\");\n    },\n    onSettled: (data, error, { id }) => {\n      // Always refetch after error or success\n      queryClient.invalidateQueries({ queryKey: projectKeys.detail(id) });\n    },\n  });\n}\n\nexport function useDeleteProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => projectsApi.deleteProject(id),\n    onSuccess: (_, deletedId) => {\n      // Remove from cache\n      queryClient.removeQueries({ queryKey: projectKeys.detail(deletedId) });\n\n      // Invalidate projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n\n      toast.success(\"Project deleted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete project: ${error.message}`);\n    },\n  });\n}\n\n// Optimistic mutations for better UX\nexport function useOptimisticProjectUpdate() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Project> }) =>\n      projectsApi.updateProject(id, data),\n    onMutate: async ({ id, data }) => {\n      await queryClient.cancelQueries({ queryKey: projectKeys.detail(id) });\n\n      const previousProject = queryClient.getQueryData(projectKeys.detail(id));\n\n      queryClient.setQueryData(projectKeys.detail(id), (old: Project | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      // Also update in lists if present\n      queryClient.setQueriesData(\n        { queryKey: projectKeys.lists() },\n        (old: PaginatedResponse<Project> | undefined) => {\n          if (!old) return old;\n\n          return {\n            ...old,\n            items: old.items.map((project) =>\n              project.id === id ? { ...project, ...data } : project\n            ),\n          };\n        }\n      );\n\n      return { previousProject };\n    },\n    onError: (error, { id }, context) => {\n      if (context?.previousProject) {\n        queryClient.setQueryData(projectKeys.detail(id), context.previousProject);\n      }\n      // Invalidate lists to revert optimistic updates\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n      toast.error(`Failed to update project: ${error.message}`);\n    },\n    onSuccess: () => {\n      toast.success(\"Project updated successfully\");\n    },\n  });\n}\n\n// Project statistics hook\nexport interface ProjectStats {\n  progress: {\n    totalLength: number;\n    completedLength: number;\n    progressPercentage: number;\n    workEntries: number;\n    pendingApprovals: number;\n    teamMembers: number;\n    materialsCount: number;\n  };\n  phase: {\n    currentPhase: number;\n    totalPhases: number;\n    phaseName: string;\n    phaseProgress: number;\n  };\n  financial: {\n    projectBudget: number;\n    totalSpent: number;\n    spentPercentage: number;\n    remainingBudget: number;\n  };\n}\n\nexport function useProjectStats(projectId: string) {\n  return useQuery({\n    queryKey: [...projectKeys.detail(projectId), \"stats\"],\n    queryFn: async (): Promise<ProjectStats> => {\n      const response = await fetch(`/api/projects/${projectId}/stats`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch project statistics');\n      }\n      return response.json();\n    },\n    staleTime: 2 * 60 * 1000, // 2 minutes - stats change more frequently\n    enabled: !!projectId,\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/app/%28dashboard%29/dashboard/materials/suppliers/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport {\n  ArrowLeft,\n  Plus,\n  Edit,\n  Trash2,\n  User,\n  Phone,\n  Mail,\n  MapPin,\n  Building2,\n  Package,\n  Users,\n  Star,\n  Settings\n} from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { toast } from \"sonner\";\n\nimport {\n  useSupplier,\n  useSupplierContacts,\n  useSupplierMaterials,\n  useSupplierProjects,\n  useCreateSupplierContact,\n  useDeleteSupplierContact,\n  useCreateSupplierMaterial,\n  useCreateSupplierProjectAssignment,\n  type CreateContactData,\n  type CreateMaterialData,\n  type CreateProjectAssignmentData,\n  type SupplierContact,\n  type SupplierMaterial,\n  type ProjectAssignment\n} from \"@/hooks/use-suppliers\";\nimport { usePermissions } from \"@/hooks/use-auth\";\nimport { useProjects } from \"@/hooks/use-projects\";\n\nconst contactSchema = z.object({\n  contact_name: z.string().min(1, \"Contact name is required\"),\n  position: z.string().optional(),\n  department: z.string().optional(),\n  phone: z.string().optional(),\n  email: z.string().email(\"Invalid email\").optional().or(z.literal(\"\")),\n  is_primary: z.boolean().default(false),\n  notes: z.string().optional(),\n});\n\nconst materialSchema = z.object({\n  material_name: z.string().min(1, \"Material name is required\"),\n  category: z.string().optional(),\n  unit: z.string().min(1, \"Unit is required\"),\n  supplier_part_number: z.string().optional(),\n  unit_price: z.number().positive(\"Price must be positive\"),\n  minimum_order_qty: z.number().positive(\"Minimum order quantity must be positive\").default(1),\n  lead_time_days: z.string().optional().transform(val => val === \"\" ? undefined : parseInt(val) || undefined),\n  is_preferred: z.boolean().default(false),\n  notes: z.string().optional(),\n});\n\nconst projectAssignmentSchema = z.object({\n  project_id: z.string().min(1, \"Project is required\"),\n  notes: z.string().optional(),\n  assigned_by: z.string().optional(),\n});\n\ntype ContactFormData = z.infer<typeof contactSchema>;\ntype MaterialFormData = z.infer<typeof materialSchema>;\ntype ProjectAssignmentFormData = z.infer<typeof projectAssignmentSchema>;\n\nexport default function SupplierDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { canManageInventory } = usePermissions();\n  const supplierId = params.id as string;\n\n  const [isAddContactOpen, setIsAddContactOpen] = useState(false);\n  const [isAddMaterialOpen, setIsAddMaterialOpen] = useState(false);\n  const [isAssignProjectOpen, setIsAssignProjectOpen] = useState(false);\n  const [editingContact, setEditingContact] = useState<any>(null);\n\n  const { data: supplier, isLoading } = useSupplier(supplierId);\n  const { data: contacts = [], isLoading: contactsLoading } = useSupplierContacts(supplierId);\n  const { data: supplierMaterials = [], isLoading: materialsLoading } = useSupplierMaterials(supplierId);\n  const { data: assignedProjects = [], isLoading: projectsLoading } = useSupplierProjects(supplierId);\n  const { data: projectsResponse, isLoading: allProjectsLoading } = useProjects();\n  const projects = projectsResponse?.items || [];\n\n  const createContact = useCreateSupplierContact(supplierId);\n  const deleteContact = useDeleteSupplierContact(supplierId);\n  const createMaterial = useCreateSupplierMaterial(supplierId);\n  const createProjectAssignment = useCreateSupplierProjectAssignment(supplierId);\n\n  const contactForm = useForm<ContactFormData>({\n    resolver: zodResolver(contactSchema),\n    defaultValues: {\n      contact_name: \"\",\n      position: \"\",\n      department: \"\",\n      phone: \"\",\n      email: \"\",\n      is_primary: false,\n      notes: \"\",\n    },\n  });\n\n  const materialForm = useForm<MaterialFormData>({\n    resolver: zodResolver(materialSchema),\n    defaultValues: {\n      material_name: \"\",\n      category: \"\",\n      unit: \"\",\n      supplier_part_number: \"\",\n      unit_price: 0,\n      minimum_order_qty: 1,\n      lead_time_days: \"\",\n      is_preferred: false,\n      notes: \"\",\n    },\n  });\n\n  const projectAssignmentForm = useForm<ProjectAssignmentFormData>({\n    resolver: zodResolver(projectAssignmentSchema),\n    defaultValues: {\n      project_id: \"\",\n      notes: \"\",\n      assigned_by: \"\",\n    },\n  });\n\n\n  const handleAddContact = async (data: ContactFormData) => {\n    try {\n      await createContact.mutateAsync(data);\n      setIsAddContactOpen(false);\n      contactForm.reset();\n    } catch (error) {\n      // Error is handled by the mutation hook\n    }\n  };\n\n  const handleAddMaterial = async (data: MaterialFormData) => {\n    try {\n      await createMaterial.mutateAsync(data);\n      setIsAddMaterialOpen(false);\n      materialForm.reset();\n    } catch (error) {\n      // Error is handled by the mutation hook\n    }\n  };\n\n  const handleAssignProject = async (data: ProjectAssignmentFormData) => {\n    try {\n      await createProjectAssignment.mutateAsync(data);\n      setIsAssignProjectOpen(false);\n      projectAssignmentForm.reset();\n    } catch (error) {\n      // Error is handled by the mutation hook\n    }\n  };\n\n  const handleDeleteContact = async (contactId: string) => {\n    if (!window.confirm(\"Are you sure you want to delete this contact?\")) return;\n\n    try {\n      await deleteContact.mutateAsync(contactId);\n    } catch (error) {\n      // Error is handled by the mutation hook\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center space-x-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => router.back()}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div className=\"h-8 bg-muted rounded w-64 animate-pulse\"></div>\n        </div>\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          <div className=\"lg:col-span-2 space-y-6\">\n            <Card className=\"animate-pulse\">\n              <CardHeader>\n                <div className=\"h-6 bg-muted rounded w-48\"></div>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"h-4 bg-muted rounded\"></div>\n                <div className=\"h-4 bg-muted rounded w-3/4\"></div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!supplier) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center space-x-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => router.back()}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n        </div>\n        <Card>\n          <CardContent className=\"text-center py-12\">\n            <Building2 className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n            <h3 className=\"mt-4 text-lg font-semibold\">Supplier not found</h3>\n            <p className=\"text-muted-foreground\">The supplier you're looking for doesn't exist.</p>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Button variant=\"ghost\" size=\"sm\" onClick={() => router.back()}>\n            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight\">{supplier.org_name}</h1>\n            <p className=\"text-muted-foreground\">Supplier Details & Management</p>\n          </div>\n        </div>\n        {canManageInventory && (\n          <div className=\"flex space-x-2\">\n            <Button variant=\"outline\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              Settings\n            </Button>\n            <Button>\n              <Edit className=\"mr-2 h-4 w-4\" />\n              Edit Supplier\n            </Button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Main Content */}\n        <div className=\"lg:col-span-2\">\n          <Tabs defaultValue=\"overview\" className=\"space-y-6\">\n            <TabsList>\n              <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n              <TabsTrigger value=\"contacts\">Contacts</TabsTrigger>\n              <TabsTrigger value=\"materials\">Materials</TabsTrigger>\n              <TabsTrigger value=\"projects\">Projects</TabsTrigger>\n            </TabsList>\n\n            {/* Overview Tab */}\n            <TabsContent value=\"overview\" className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Supplier Information</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Organization</label>\n                      <p className=\"text-sm\">{supplier.org_name}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Status</label>\n                      <Badge variant={supplier.is_active ? \"default\" : \"secondary\"}>\n                        {supplier.is_active ? \"Active\" : \"Inactive\"}\n                      </Badge>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Primary Contact</label>\n                      <p className=\"text-sm\">{supplier.contact_person}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Phone</label>\n                      <p className=\"text-sm\">{supplier.phone || \"Not provided\"}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Email</label>\n                      <p className=\"text-sm\">{supplier.email || \"Not provided\"}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Address</label>\n                      <p className=\"text-sm\">{supplier.address || \"Not provided\"}</p>\n                    </div>\n                  </div>\n                  {supplier.notes && (\n                    <div>\n                      <label className=\"text-sm font-medium text-muted-foreground\">Notes</label>\n                      <p className=\"text-sm\">{supplier.notes}</p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* Contacts Tab */}\n            <TabsContent value=\"contacts\" className=\"space-y-6\">\n              <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                  <div>\n                    <CardTitle>Contact Persons</CardTitle>\n                    <CardDescription>Manage contacts for this supplier</CardDescription>\n                  </div>\n                  {canManageInventory && (\n                    <Dialog open={isAddContactOpen} onOpenChange={setIsAddContactOpen}>\n                      <DialogTrigger asChild>\n                        <Button size=\"sm\">\n                          <Plus className=\"mr-2 h-4 w-4\" />\n                          Add Contact\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add New Contact</DialogTitle>\n                          <DialogDescription>\n                            Add a new contact person for {supplier.org_name}\n                          </DialogDescription>\n                        </DialogHeader>\n                        <Form {...contactForm}>\n                          <form onSubmit={contactForm.handleSubmit(handleAddContact)} className=\"space-y-4\">\n                            <FormField\n                              control={contactForm.control}\n                              name=\"contact_name\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>Contact Name *</FormLabel>\n                                  <FormControl>\n                                    <Input placeholder=\"e.g., John Smith\" {...field} />\n                                  </FormControl>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              <FormField\n                                control={contactForm.control}\n                                name=\"position\"\n                                render={({ field }) => (\n                                  <FormItem>\n                                    <FormLabel>Position</FormLabel>\n                                    <FormControl>\n                                      <Input placeholder=\"e.g., Sales Manager\" {...field} />\n                                    </FormControl>\n                                    <FormMessage />\n                                  </FormItem>\n                                )}\n                              />\n                              <FormField\n                                control={contactForm.control}\n                                name=\"department\"\n                                render={({ field }) => (\n                                  <FormItem>\n                                    <FormLabel>Department</FormLabel>\n                                    <FormControl>\n                                      <Input placeholder=\"e.g., Sales\" {...field} />\n                                    </FormControl>\n                                    <FormMessage />\n                                  </FormItem>\n                                )}\n                              />\n                            </div>\n                            <div className=\"grid grid-cols-2 gap-4\">\n                              <FormField\n                                control={contactForm.control}\n                                name=\"phone\"\n                                render={({ field }) => (\n                                  <FormItem>\n                                    <FormLabel>Phone</FormLabel>\n                                    <FormControl>\n                                      <Input placeholder=\"+1234567890\" {...field} />\n                                    </FormControl>\n                                    <FormMessage />\n                                  </FormItem>\n                                )}\n                              />\n                              <FormField\n                                control={contactForm.control}\n                                name=\"email\"\n                                render={({ field }) => (\n                                  <FormItem>\n                                    <FormLabel>Email</FormLabel>\n                                    <FormControl>\n                                      <Input placeholder=\"contact@company.com\" {...field} />\n                                    </FormControl>\n                                    <FormMessage />\n                                  </FormItem>\n                                )}\n                              />\n                            </div>\n                            <FormField\n                              control={contactForm.control}\n                              name=\"is_primary\"\n                              render={({ field }) => (\n                                <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-3\">\n                                  <div className=\"space-y-0.5\">\n                                    <FormLabel>Primary Contact</FormLabel>\n                                    <div className=\"text-sm text-muted-foreground\">\n                                      Set as the main contact for this supplier\n                                    </div>\n                                  </div>\n                                  <FormControl>\n                                    <Switch\n                                      checked={field.value}\n                                      onCheckedChange={field.onChange}\n                                    />\n                                  </FormControl>\n                                </FormItem>\n                              )}\n                            />\n                            <FormField\n                              control={contactForm.control}\n                              name=\"notes\"\n                              render={({ field }) => (\n                                <FormItem>\n                                  <FormLabel>Notes</FormLabel>\n                                  <FormControl>\n                                    <Textarea placeholder=\"Additional notes...\" rows={2} {...field} />\n                                  </FormControl>\n                                  <FormMessage />\n                                </FormItem>\n                              )}\n                            />\n                            <DialogFooter>\n                              <Button type=\"button\" variant=\"outline\" onClick={() => setIsAddContactOpen(false)}>\n                                Cancel\n                              </Button>\n                              <Button type=\"submit\">Add Contact</Button>\n                            </DialogFooter>\n                          </form>\n                        </Form>\n                      </DialogContent>\n                    </Dialog>\n                  )}\n                </CardHeader>\n                <CardContent>\n                  {contactsLoading ? (\n                    <div className=\"space-y-4\">\n                      {[...Array(2)].map((_, i) => (\n                        <div key={i} className=\"flex items-center justify-between p-4 border rounded-lg animate-pulse\">\n                          <div className=\"flex items-center space-x-4\">\n                            <div className=\"h-10 w-10 bg-muted rounded-full\"></div>\n                            <div>\n                              <div className=\"h-4 bg-muted rounded w-32 mb-2\"></div>\n                              <div className=\"h-3 bg-muted rounded w-24\"></div>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : contacts.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <User className=\"mx-auto h-8 w-8 text-muted-foreground\" />\n                      <h3 className=\"mt-2 text-sm font-semibold\">No contacts</h3>\n                      <p className=\"mt-1 text-sm text-muted-foreground\">\n                        Get started by adding a contact person.\n                      </p>\n                      {canManageInventory && (\n                        <Button className=\"mt-4\" onClick={() => setIsAddContactOpen(true)}>\n                          <Plus className=\"mr-2 h-4 w-4\" />\n                          Add Contact\n                        </Button>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {contacts.map((contact) => (\n                      <div key={contact.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div className=\"flex items-center space-x-4\">\n                          <Avatar>\n                            <AvatarFallback>\n                              <User className=\"h-4 w-4\" />\n                            </AvatarFallback>\n                          </Avatar>\n                          <div>\n                            <div className=\"flex items-center space-x-2\">\n                              <h4 className=\"font-medium\">{contact.contact_name}</h4>\n                              {contact.is_primary && (\n                                <Badge variant=\"default\" className=\"text-xs\">\n                                  <Star className=\"h-3 w-3 mr-1\" />\n                                  Primary\n                                </Badge>\n                              )}\n                            </div>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {contact.position}  {contact.department}\n                            </p>\n                            <div className=\"flex items-center space-x-4 text-xs text-muted-foreground mt-1\">\n                              {contact.phone && (\n                                <span className=\"flex items-center\">\n                                  <Phone className=\"h-3 w-3 mr-1\" />\n                                  {contact.phone}\n                                </span>\n                              )}\n                              {contact.email && (\n                                <span className=\"flex items-center\">\n                                  <Mail className=\"h-3 w-3 mr-1\" />\n                                  {contact.email}\n                                </span>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                        {canManageInventory && (\n                          <div className=\"flex space-x-1\">\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <Edit className=\"h-3 w-3\" />\n                            </Button>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => handleDeleteContact(contact.id)}\n                            >\n                              <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* Materials Tab */}\n            <TabsContent value=\"materials\" className=\"space-y-6\">\n              <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                  <div>\n                    <CardTitle>Supplier Materials</CardTitle>\n                    <CardDescription>Materials and equipment available from this supplier</CardDescription>\n                  </div>\n                  {canManageInventory && (\n                    <Button size=\"sm\" onClick={() => setIsAddMaterialOpen(true)}>\n                      <Plus className=\"mr-2 h-4 w-4\" />\n                      Add Material\n                    </Button>\n                  )}\n                </CardHeader>\n                <CardContent>\n                  {materialsLoading ? (\n                    <div className=\"space-y-4\">\n                      {[...Array(2)].map((_, i) => (\n                        <div key={i} className=\"flex items-center justify-between p-4 border rounded-lg animate-pulse\">\n                          <div className=\"flex items-center space-x-4\">\n                            <div className=\"h-10 w-10 bg-muted rounded-lg\"></div>\n                            <div>\n                              <div className=\"h-4 bg-muted rounded w-48 mb-2\"></div>\n                              <div className=\"h-3 bg-muted rounded w-32\"></div>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : supplierMaterials.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <Package className=\"mx-auto h-8 w-8 text-muted-foreground\" />\n                      <h3 className=\"mt-2 text-sm font-semibold\">No materials</h3>\n                      <p className=\"mt-1 text-sm text-muted-foreground\">\n                        Get started by adding materials or equipment to this supplier.\n                      </p>\n                      {canManageInventory && (\n                        <Button className=\"mt-4\" onClick={() => setIsAddMaterialOpen(true)}>\n                          <Plus className=\"mr-2 h-4 w-4\" />\n                          Add Material\n                        </Button>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {supplierMaterials.map((material) => (\n                      <div key={material.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div className=\"flex items-center space-x-4\">\n                          <div className=\"h-10 w-10 bg-muted rounded-lg flex items-center justify-center\">\n                            <Package className=\"h-5 w-5\" />\n                          </div>\n                          <div>\n                            <h4 className=\"font-medium\">{material.material?.name || material.material_name}</h4>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {material.unit_price} per {material.material?.unit || material.material_unit}  Min order: {material.minimum_order_qty} {material.material?.unit || material.material_unit}\n                            </p>\n                            {material.supplier_part_number && (\n                              <p className=\"text-xs text-muted-foreground\">\n                                Part #: {material.supplier_part_number}\n                              </p>\n                            )}\n                            {material.is_preferred && (\n                              <Badge variant=\"secondary\" className=\"text-xs\">Preferred</Badge>\n                            )}\n                          </div>\n                        </div>\n                        {canManageInventory && (\n                          <div className=\"flex space-x-1\">\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <Edit className=\"h-3 w-3\" />\n                            </Button>\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <Trash2 className=\"h-3 w-3\" />\n                            </Button>\n                          </div>\n                        )}\n                      </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* Projects Tab */}\n            <TabsContent value=\"projects\" className=\"space-y-6\">\n              <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                  <div>\n                    <CardTitle>Assigned Projects</CardTitle>\n                    <CardDescription>Projects where this supplier is assigned</CardDescription>\n                  </div>\n                  {canManageInventory && (\n                    <Button size=\"sm\" onClick={() => setIsAssignProjectOpen(true)}>\n                      <Plus className=\"mr-2 h-4 w-4\" />\n                      Assign to Project\n                    </Button>\n                  )}\n                </CardHeader>\n                <CardContent>\n                  {projectsLoading ? (\n                    <div className=\"space-y-4\">\n                      {[...Array(2)].map((_, i) => (\n                        <div key={i} className=\"flex items-center justify-between p-4 border rounded-lg animate-pulse\">\n                          <div>\n                            <div className=\"h-4 bg-muted rounded w-56 mb-2\"></div>\n                            <div className=\"h-3 bg-muted rounded w-32\"></div>\n                          </div>\n                          <div className=\"h-6 w-16 bg-muted rounded\"></div>\n                        </div>\n                      ))}\n                    </div>\n                  ) : assignedProjects.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <Building2 className=\"mx-auto h-8 w-8 text-muted-foreground\" />\n                      <h3 className=\"mt-2 text-sm font-semibold\">No project assignments</h3>\n                      <p className=\"mt-1 text-sm text-muted-foreground\">\n                        Assign this supplier to projects to track material orders.\n                      </p>\n                      {canManageInventory && (\n                        <Button className=\"mt-4\" onClick={() => setIsAssignProjectOpen(true)}>\n                          <Plus className=\"mr-2 h-4 w-4\" />\n                          Assign to Project\n                        </Button>\n                      )}\n                    </div>\n                  ) : (\n                    <div className=\"space-y-4\">\n                      {assignedProjects.map((project) => (\n                      <div key={project.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                        <div>\n                          <h4 className=\"font-medium\">{project.project_name}</h4>\n                          <p className=\"text-sm text-muted-foreground\">\n                            Assigned on {project.assigned_at ? new Date(project.assigned_at).toLocaleDateString() : 'Unknown'}\n                          </p>\n                          {project.notes && (\n                            <p className=\"text-xs text-muted-foreground mt-1\">{project.notes}</p>\n                          )}\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <Badge variant={project.status === 'active' ? 'default' : 'secondary'}>\n                            {project.status}\n                          </Badge>\n                          {canManageInventory && (\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <Edit className=\"h-3 w-3\" />\n                            </Button>\n                          )}\n                        </div>\n                      </div>\n                      ))}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            </TabsContent>\n          </Tabs>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-6\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Quick Stats</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Users className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm\">Contacts</span>\n                </div>\n                <span className=\"text-sm font-medium\">{contacts.length}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Package className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm\">Materials</span>\n                </div>\n                <span className=\"text-sm font-medium\">{supplierMaterials.length}</span>\n              </div>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-2\">\n                  <Building2 className=\"h-4 w-4 text-muted-foreground\" />\n                  <span className=\"text-sm\">Projects</span>\n                </div>\n                <span className=\"text-sm font-medium\">{assignedProjects.length}</span>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Recent Activity</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-3 text-sm\">\n                <div>\n                  <p className=\"font-medium\">Material order placed</p>\n                  <p className=\"text-muted-foreground\">2 days ago</p>\n                </div>\n                <div>\n                  <p className=\"font-medium\">Contact updated</p>\n                  <p className=\"text-muted-foreground\">1 week ago</p>\n                </div>\n                <div>\n                  <p className=\"font-medium\">Assigned to new project</p>\n                  <p className=\"text-muted-foreground\">2 weeks ago</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Add Material Dialog */}\n      <Dialog open={isAddMaterialOpen} onOpenChange={setIsAddMaterialOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>Add New Material</DialogTitle>\n            <DialogDescription>\n              Add a new material or equipment item for {supplier.org_name}\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...materialForm}>\n            <form onSubmit={materialForm.handleSubmit(handleAddMaterial)} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={materialForm.control}\n                  name=\"material_name\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Material Name *</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., Fiber optic cable, Cable duct\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={materialForm.control}\n                  name=\"category\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Category</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"e.g., Cables, Equipment\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={materialForm.control}\n                  name=\"unit\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Unit *</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select unit\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          <SelectItem value=\"meter\">Meter</SelectItem>\n                          <SelectItem value=\"piece\">Piece</SelectItem>\n                          <SelectItem value=\"box\">Box</SelectItem>\n                          <SelectItem value=\"roll\">Roll</SelectItem>\n                          <SelectItem value=\"kg\">Kilogram</SelectItem>\n                          <SelectItem value=\"ton\">Ton</SelectItem>\n                          <SelectItem value=\"m3\">Cubic Meter</SelectItem>\n                          <SelectItem value=\"liter\">Liter</SelectItem>\n                          <SelectItem value=\"pallet\">Pallet</SelectItem>\n                        </SelectContent>\n                      </Select>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={materialForm.control}\n                  name=\"supplier_part_number\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Supplier Part Number</FormLabel>\n                      <FormControl>\n                        <Input placeholder=\"Optional part number\" {...field} />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={materialForm.control}\n                  name=\"unit_price\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Unit Price (EUR) *</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          step=\"0.01\"\n                          placeholder=\"0.00\"\n                          {...field}\n                          onChange={(e) => field.onChange(parseFloat(e.target.value) || 0)}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={materialForm.control}\n                  name=\"minimum_order_qty\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Minimum Order Quantity *</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          placeholder=\"1\"\n                          {...field}\n                          onChange={(e) => field.onChange(parseInt(e.target.value) || 1)}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={materialForm.control}\n                  name=\"lead_time_days\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Lead Time (Days)</FormLabel>\n                      <FormControl>\n                        <Input\n                          type=\"number\"\n                          placeholder=\"Optional lead time\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n                <FormField\n                  control={materialForm.control}\n                  name=\"is_preferred\"\n                  render={({ field }) => (\n                    <FormItem className=\"flex flex-row items-center justify-between rounded-lg border p-3\">\n                      <div className=\"space-y-0.5\">\n                        <FormLabel>Preferred Supplier</FormLabel>\n                        <div className=\"text-sm text-muted-foreground\">\n                          Mark this as preferred supplier for this material\n                        </div>\n                      </div>\n                      <FormControl>\n                        <Switch\n                          checked={field.value}\n                          onCheckedChange={field.onChange}\n                        />\n                      </FormControl>\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={materialForm.control}\n                name=\"notes\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Notes</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"Additional notes about this material...\"\n                        rows={3}\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <DialogFooter>\n                <Button type=\"button\" variant=\"outline\" onClick={() => setIsAddMaterialOpen(false)}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={createMaterial.isPending}>\n                  {createMaterial.isPending ? \"Adding...\" : \"Add Material\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      {/* Assign Project Dialog */}\n      <Dialog open={isAssignProjectOpen} onOpenChange={setIsAssignProjectOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Assign to Project</DialogTitle>\n            <DialogDescription>\n              Assign {supplier.org_name} to a project for material tracking\n            </DialogDescription>\n          </DialogHeader>\n          <Form {...projectAssignmentForm}>\n            <form onSubmit={projectAssignmentForm.handleSubmit(handleAssignProject)} className=\"space-y-4\">\n              <FormField\n                control={projectAssignmentForm.control}\n                name=\"project_id\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Project *</FormLabel>\n                    <Select onValueChange={field.onChange} defaultValue={field.value}>\n                      <FormControl>\n                        <SelectTrigger>\n                          <SelectValue placeholder=\"Select a project\" />\n                        </SelectTrigger>\n                      </FormControl>\n                      <SelectContent>\n                        {allProjectsLoading ? (\n                          <SelectItem value=\"loading\" disabled>Loading projects...</SelectItem>\n                        ) : projects.length === 0 ? (\n                          <SelectItem value=\"no-projects\" disabled>No projects available</SelectItem>\n                        ) : projects\n                          .filter(project => !assignedProjects.some(assigned => assigned.project_id === project.id))\n                          .map((project) => (\n                            <SelectItem key={project.id} value={project.id}>\n                              {project.name} - {project.customer || 'No customer'}\n                            </SelectItem>\n                          ))}\n                      </SelectContent>\n                    </Select>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={projectAssignmentForm.control}\n                name=\"notes\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Notes</FormLabel>\n                    <FormControl>\n                      <Textarea\n                        placeholder=\"Assignment notes...\"\n                        rows={3}\n                        {...field}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <DialogFooter>\n                <Button type=\"button\" variant=\"outline\" onClick={() => setIsAssignProjectOpen(false)}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={createProjectAssignment.isPending}>\n                  {createProjectAssignment.isPending ? \"Assigning...\" : \"Assign Project\"}\n                </Button>\n              </DialogFooter>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}