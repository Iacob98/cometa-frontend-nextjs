module.exports=[34723,a=>{"use strict";a.s(["default",()=>aS],34723);var b=a.i(87924),c=a.i(72131),d=a.i(39761),e=a.i(4720),f=a.i(84505),g=a.i(60246),h=a.i(90669),i=a.i(94101),j=a.i(24669),k=a.i(67900),l=a.i(83497),m=a.i(21161),n=a.i(73570),o=a.i(16201),p=a.i(53277),q=a.i(99570),r=a.i(91119),s=a.i(86304),t=a.i(80701),u=a.i(18155),v=a.i(23665),w=a.i(58042),x=a.i(94222),y=a.i(54419),z=a.i(59854),A=a.i(48662),B=a.i(64321),C=a.i(27165),D=a.i(67149),E=c,F=a.i(98621),G=a.i(13667),H=a.i(25428),I=a.i(88949),J=a.i(36319),K=a.i(2321),L=a.i(68932),M=a.i(56295),N=a.i(37082),O=a.i(53242),P=a.i(12791),Q=a.i(17913),R=a.i(44381),S=a.i(12168),T=a.i(98382),U=a.i(98563),V=a.i(89702),W=(a,b,c,d)=>(0,S.selectAxisWithScale)(a,"xAxis",b,d),X=(a,b,c,d)=>(0,S.selectTicksOfGraphicalItem)(a,"xAxis",b,d),Y=(a,b,c,d)=>(0,S.selectAxisWithScale)(a,"yAxis",c,d),Z=(a,b,c,d)=>(0,S.selectTicksOfGraphicalItem)(a,"yAxis",c,d),$=(0,R.createSelector)([T.selectChartLayout,W,Y,X,Z],(a,b,c,d,e)=>(0,M.isCategoricalAxis)(a,"xAxis")?(0,M.getBandSizeOfAxis)(b,d,!1):(0,M.getBandSizeOfAxis)(c,e,!1)),_=(0,R.createSelector)([S.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"area"===a.type).find(a=>a.id===b)),aa=(0,R.createSelector)([T.selectChartLayout,W,Y,X,Z,(a,b,c,d,e)=>{var f,g,h=_(a,b,c,d,e);if(null!=h){var i=(0,T.selectChartLayout)(a);if(null!=(g=(0,M.isCategoricalAxis)(i,"xAxis")?(0,S.selectStackGroups)(a,"yAxis",c,d):(0,S.selectStackGroups)(a,"xAxis",b,d))){var{stackId:j}=h,k=(0,V.getStackSeriesIdentifier)(h);if(null!=j&&null!=k){var l=null==(f=g[j])?void 0:f.stackedData;return null==l?void 0:l.find(a=>a.key===k)}}}},U.selectChartDataWithIndexesIfNotInPanorama,$,_],(a,b,c,d,e,f,g,h,i)=>{var j,{chartData:k,dataStartIndex:l,dataEndIndex:m}=g;if(null!=i&&("horizontal"===a||"vertical"===a)&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=h){var{data:n}=i;if(null!=(j=n&&n.length>0?n:null==k?void 0:k.slice(l,m+1)))return function(a){var b,{areaSettings:{connectNulls:c,baseValue:d,dataKey:e},stackedData:f,layout:g,chartBaseValue:h,xAxis:i,yAxis:j,displayedData:k,dataStartIndex:l,xAxisTicks:m,yAxisTicks:n,bandSize:o}=a,p=f&&f.length,q=((a,b,c,d,e)=>{var f=null!=c?c:b;if((0,L.isNumber)(f))return f;var g="horizontal"===a?e:d,h=g.scale.domain();if("number"===g.type){var i=Math.max(h[0],h[1]),j=Math.min(h[0],h[1]);return"dataMin"===f?j:"dataMax"===f||i<0?i:Math.max(Math.min(h[0],h[1]),0)}return"dataMin"===f?h[0]:"dataMax"===f?h[1]:h[0]})(g,h,d,i,j),r="horizontal"===g,s=!1,t=k.map((a,b)=>{p?d=f[l+b]:Array.isArray(d=(0,M.getValueByDataKey)(a,e))?s=!0:d=[q,d];var d,g=null==d[1]||p&&!c&&null==(0,M.getValueByDataKey)(a,e);return r?{x:(0,M.getCateCoordinateOfLine)({axis:i,ticks:m,bandSize:o,entry:a,index:b}),y:g?null:j.scale(d[1]),value:d,payload:a}:{x:g?null:i.scale(d[1]),y:(0,M.getCateCoordinateOfLine)({axis:j,ticks:n,bandSize:o,entry:a,index:b}),value:d,payload:a}});return b=p||s?t.map(a=>{var b=Array.isArray(a.value)?a.value[0]:null;return r?{x:a.x,y:null!=b&&null!=a.y?j.scale(b):null,payload:a.payload}:{x:null!=b?i.scale(b):null,y:a.y,payload:a.payload}}):r?j.scale(q):i.scale(q),{points:t,baseLine:b,isRange:s}}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataStartIndex:l,areaSettings:i,stackedData:f,displayedData:j,chartBaseValue:void 0,bandSize:h})}}),ab=a.i(25392),ac=a.i(72474),ad=a.i(92430),ae=a.i(77368),af=a.i(62320),ag=a.i(87293),ah=a.i(3041),ai=a.i(36745),aj=a.i(46780),ak=a.i(77025),al=a.i(72853),am=a.i(76342),an=["id"],ao=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ap(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function aq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ar(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aq(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function as(){return(as=Object.assign.bind()).apply(null,arguments)}function at(a,b){return a&&"none"!==a?a:b}function au(a){var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i}=a;return{dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,M.getTooltipNameProp)(g,b),hide:h,type:a.tooltipType,color:at(d,f),unit:i}}}function av(a){var{clipPathId:b,points:c,props:d}=a,{needClip:e,dot:f,dataKey:g}=d;if(null==c||!f&&1!==c.length)return null;var h=(0,N.isClipDot)(f),i=(0,al.svgPropertiesNoEvents)(d),j=(0,N.filterProps)(f,!0),k=c.map((a,b)=>{var d,e=ar(ar(ar({key:"dot-".concat(b),r:3},i),j),{},{index:b,cx:a.x,cy:a.y,dataKey:g,value:a.value,payload:a.payload,points:c});if(E.isValidElement(f))d=E.cloneElement(f,e);else if("function"==typeof f)d=f(e);else{var h=(0,F.clsx)("recharts-area-dot","boolean"!=typeof f?f.className:"");d=E.createElement(H.Dot,as({},e,{className:h}))}return d}),l={clipPath:e?"url(#clipPath-".concat(h?"":"dots-").concat(b,")"):void 0};return E.createElement(I.Layer,as({className:"recharts-area-dots"},l),k)}function aw(a){var{showLabels:b,children:c,points:d}=a,e=d.map(a=>{var b={x:a.x,y:a.y,width:0,height:0};return ar(ar({},b),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:b,fill:void 0})});return E.createElement(J.CartesianLabelListContextProvider,{value:b?e:null},c)}function ax(a){var{points:b,baseLine:c,needClip:d,clipPathId:e,props:f}=a,{layout:g,type:h,stroke:i,connectNulls:j,isRange:k}=f,{id:l}=f,m=ap(f,an),n=(0,al.svgPropertiesNoEvents)(m);return E.createElement(E.Fragment,null,(null==b?void 0:b.length)>1&&E.createElement(I.Layer,{clipPath:d?"url(#clipPath-".concat(e,")"):void 0},E.createElement(G.Curve,as({},n,{id:l,points:b,connectNulls:j,type:h,baseLine:c,layout:g,stroke:"none",className:"recharts-area-area"})),"none"!==i&&E.createElement(G.Curve,as({},n,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:b})),"none"!==i&&k&&E.createElement(G.Curve,as({},n,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:c}))),E.createElement(av,{points:b,props:m,clipPathId:e}))}function ay(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].y,g=d[d.length-1].y;if(!(0,ah.isWellBehavedNumber)(f)||!(0,ah.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.x||0));return((0,L.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.x||0),i)),(0,L.isNumber)(i))?E.createElement("rect",{x:0,y:f<g?f:f-h,width:i+(e?parseInt("".concat(e),10):1),height:Math.floor(h)}):null}function az(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].x,g=d[d.length-1].x;if(!(0,ah.isWellBehavedNumber)(f)||!(0,ah.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.y||0));return((0,L.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.y||0),i)),(0,L.isNumber)(i))?E.createElement("rect",{x:f<g?f:f-h,y:0,width:h,height:Math.floor(i+(e?parseInt("".concat(e),10):1))}):null}function aA(a){var{alpha:b,layout:c,points:d,baseLine:e,strokeWidth:f}=a;return"vertical"===c?E.createElement(ay,{alpha:b,points:d,baseLine:e,strokeWidth:f}):E.createElement(az,{alpha:b,points:d,baseLine:e,strokeWidth:f})}function aB(a){var{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f}=a,{points:g,baseLine:h,isAnimationActive:i,animationBegin:j,animationDuration:k,animationEasing:l,onAnimationStart:m,onAnimationEnd:n}=d,o=(0,af.useAnimationId)(d,"recharts-area-"),[p,q]=(0,E.useState)(!1),r=(0,E.useCallback)(()=>{"function"==typeof n&&n(),q(!1)},[n]),s=(0,E.useCallback)(()=>{"function"==typeof m&&m(),q(!0)},[m]),t=e.current,u=f.current;return E.createElement(aw,{showLabels:!p,points:g},d.children,E.createElement(am.JavascriptAnimate,{animationId:o,begin:j,duration:k,isActive:i,easing:l,onAnimationEnd:r,onAnimationStart:s,key:o},a=>{if(t){var j,k=t.length/g.length,l=1===a?g:g.map((b,c)=>{var d=Math.floor(c*k);if(t[d]){var e=t[d];return ar(ar({},b),{},{x:(0,L.interpolate)(e.x,b.x,a),y:(0,L.interpolate)(e.y,b.y,a)})}return b});return j=(0,L.isNumber)(h)?(0,L.interpolate)(u,h,a):(0,L.isNullish)(h)||(0,L.isNan)(h)?(0,L.interpolate)(u,0,a):h.map((b,c)=>{var d=Math.floor(c*k);if(Array.isArray(u)&&u[d]){var e=u[d];return ar(ar({},b),{},{x:(0,L.interpolate)(e.x,b.x,a),y:(0,L.interpolate)(e.y,b.y,a)})}return b}),a>0&&(e.current=l,f.current=j),E.createElement(ax,{points:l,baseLine:j,needClip:b,clipPathId:c,props:d})}return a>0&&(e.current=g,f.current=h),E.createElement(I.Layer,null,i&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(c)},E.createElement(aA,{alpha:a,points:g,baseLine:h,layout:d.layout,strokeWidth:d.strokeWidth}))),E.createElement(I.Layer,{clipPath:"url(#animationClipPath-".concat(c,")")},E.createElement(ax,{points:g,baseLine:h,needClip:b,clipPathId:c,props:d})))}),E.createElement(J.LabelListFromLabelProp,{label:d.label}))}function aC(a){var{needClip:b,clipPathId:c,props:d}=a,e=(0,E.useRef)(null),f=(0,E.useRef)();return E.createElement(aB,{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f})}class aD extends E.PureComponent{render(){var a,{hide:b,dot:c,points:d,className:e,top:f,left:g,needClip:h,xAxisId:i,yAxisId:j,width:k,height:l,id:m,baseLine:n}=this.props;if(b)return null;var o=(0,F.clsx)("recharts-area",e),{r:p=3,strokeWidth:q=2}=null!=(a=(0,N.filterProps)(c,!1))?a:{r:3,strokeWidth:2},r=(0,N.isClipDot)(c),s=2*p+q;return E.createElement(E.Fragment,null,E.createElement(I.Layer,{className:o},h&&E.createElement("defs",null,E.createElement(Q.GraphicalItemClipPath,{clipPathId:m,xAxisId:i,yAxisId:j}),!r&&E.createElement("clipPath",{id:"clipPath-dots-".concat(m)},E.createElement("rect",{x:g-s/2,y:f-s/2,width:k+s,height:l+s}))),E.createElement(aC,{needClip:h,clipPathId:m,props:this.props})),E.createElement(O.ActivePoints,{points:d,mainColor:at(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(n)&&E.createElement(O.ActivePoints,{points:n,mainColor:at(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var aE={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!K.Global.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function aF(a){var b,c=(0,ag.resolveDefaultProps)(a,aE),{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,fill:j,fillOpacity:k,hide:l,isAnimationActive:m,legendType:n,stroke:o,xAxisId:p,yAxisId:q}=c,r=ap(c,ao),s=(0,T.useChartLayout)(),t=(0,ac.useChartName)(),{needClip:u}=(0,Q.useNeedsClip)(p,q),v=(0,ab.useIsPanorama)(),{points:w,isRange:x,baseLine:y}=null!=(b=(0,ae.useAppSelector)(b=>aa(b,p,q,v,a.id)))?b:{},z=(0,ai.usePlotArea)();if("horizontal"!==s&&"vertical"!==s||null==z||"AreaChart"!==t&&"ComposedChart"!==t)return null;var{height:A,width:B,x:C,y:D}=z;return w&&w.length?E.createElement(aD,as({},r,{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,baseLine:y,connectNulls:h,dot:i,fill:j,fillOpacity:k,height:A,hide:l,layout:s,isAnimationActive:m,isRange:x,legendType:n,needClip:u,points:w,stroke:o,width:B,left:C,top:D,xAxisId:p,yAxisId:q})):null}var aG=E.memo(function(a){var b=(0,ag.resolveDefaultProps)(a,aE),c=(0,ab.useIsPanorama)();return E.createElement(aj.RegisterGraphicalItemId,{id:b.id,type:"area"},a=>E.createElement(E.Fragment,null,E.createElement(ad.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,fill:e,legendType:f,hide:g}=a;return[{inactive:g,dataKey:b,type:f,color:at(d,e),value:(0,M.getTooltipNameProp)(c,b),payload:a}]})(b)}),E.createElement(P.SetTooltipEntrySettings,{fn:au,args:b}),E.createElement(ak.SetCartesianGraphicalItem,{type:"area",id:a,data:b.data,dataKey:b.dataKey,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,stackId:(0,M.getNormalizedStackId)(b.stackId),hide:b.hide,barSize:void 0,baseValue:b.baseValue,isPanorama:c,connectNulls:b.connectNulls}),E.createElement(aF,as({},b,{id:a}))))});aG.displayName="Area";var aH=a.i(554),aI=a.i(31760),aJ=["axis"],aK=(0,c.forwardRef)((a,b)=>c.createElement(aI.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aJ,tooltipPayloadSearcher:aH.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),aL=a.i(86456),aM=a.i(49294),aN=a.i(38408),aO=a.i(35733),aP=a.i(7671),aQ=a.i(25839),aR=a.i(40533);function aS(){let[a,u]=(0,c.useState)("month"),[v,w]=(0,c.useState)("all"),{data:x,isLoading:y}=(0,aL.useProjects)({page:1,per_page:1e3}),{data:z,isLoading:A}=(0,aM.useWorkEntries)({page:1,per_page:1e3}),{data:B,isLoading:C}=(0,aN.useCrews)({page:1,per_page:1e3}),{data:D,isLoading:E}=(0,aO.useFinancialSummary)(),{data:F,isLoading:G}=(0,aP.useMaterials)({page:1,per_page:1e3}),{data:H,isLoading:I}=(0,aQ.useEquipment)({per_page:1e3}),{data:J,isLoading:K}=(0,aR.useAllocations)({page:1,per_page:1e3}),{data:L,isLoading:M}=(0,aP.useOrders)({page:1,per_page:1e3}),N=x?.items||[],O=z?.items||[],P=B?.items||[],Q=F?.items||[],R=H?.items||[],S=J?.items||[],T=L?.items||[],U=(0,c.useMemo)(()=>{let a=N.filter(a=>"completed"===a.status).length,b=N.length,c=b>0?Math.round(a/b*100):0,d=P.filter(a=>"active"===a.status).length,e=new Date().getMonth(),f=new Date().getFullYear(),g=O.filter(a=>{if(!a.created_at)return!1;let b=new Date(a.created_at);return b.getMonth()===e&&b.getFullYear()===f}).length,h=N.reduce((a,b)=>a+(b.budget||0),0),i=D?.summary?.total_expenses||0;return{projectProgress:c,activeCrews:d,monthlyWorkEntries:g,totalBudget:h,totalSpent:i,budgetUtilization:h>0?Math.round(i/h*100):0}},[N,O,P,D]),V=[{title:"Project Progress",description:"Overall project completion status",icon:k.Building2,value:`${U.projectProgress}%`,trend:`${N.filter(a=>"completed"===a.status).length}/${N.length}`,trendUp:U.projectProgress>50},{title:"Active Teams",description:"Currently working crews",icon:g.Users,value:U.activeCrews.toString(),trend:`${P.length} total`,trendUp:U.activeCrews>0},{title:"Work Entries",description:"Total work entries this month",icon:h.Activity,value:U.monthlyWorkEntries.toString(),trend:`${O.length} total`,trendUp:U.monthlyWorkEntries>0},{title:"Budget Utilization",description:"Current budget usage",icon:i.DollarSign,value:new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(U.totalSpent),trend:`${U.budgetUtilization}% used`,trendUp:U.budgetUtilization<80}],W=[{id:"project-summary",name:"Project Summary Report",description:`Comprehensive overview of ${N.length} projects`,category:"Project",format:["PDF","Excel"],dataCount:N.length,enabled:N.length>0},{id:"team-performance",name:"Team Performance Report",description:`Performance metrics for ${P.length} teams`,category:"Team",format:["PDF","Excel"],dataCount:P.length,enabled:P.length>0},{id:"financial-summary",name:"Financial Summary",description:"Budget, costs, and financial tracking",category:"Financial",format:["PDF","Excel"],dataCount:N.filter(a=>a.budget).length,enabled:N.some(a=>a.budget)},{id:"materials-usage",name:"Materials Usage Report",description:`Material consumption for ${Q.length} items`,category:"Materials",format:["PDF","Excel"],dataCount:Q.length,enabled:Q.length>0},{id:"work-progress",name:"Work Progress Report",description:`Analysis of ${O.length} work entries`,category:"Progress",format:["PDF","Excel"],dataCount:O.length,enabled:O.length>0},{id:"equipment-usage",name:"Equipment Usage Report",description:`Utilization of ${R.length} equipment items`,category:"Equipment",format:["PDF","Excel"],dataCount:R.length,enabled:R.length>0},{id:"material-orders",name:"Material Orders Report",description:`Status of ${T.length} purchase orders`,category:"Orders",format:["PDF","Excel"],dataCount:T.length,enabled:T.length>0},{id:"allocations-summary",name:"Resource Allocations Report",description:`Overview of ${S.length} resource allocations`,category:"Allocations",format:["PDF","Excel"],dataCount:S.length,enabled:S.length>0}],X=async(b,c)=>{try{let d=await fetch("/api/reports/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reportId:b,format:c,period:a,project:v})});if(d.ok){let a=await d.blob(),e=window.URL.createObjectURL(a),f=document.createElement("a");f.href=e,f.download=`${b}-${new Date().toISOString().split("T")[0]}.${c.toLowerCase()}`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(e),document.body.removeChild(f)}else console.error("Failed to generate report")}catch(a){console.error("Error generating report:",a)}};return y||A||C||E||G||I||K||M?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading reports data..."})]})}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(r.Card,{children:(0,b.jsx)(r.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-1/2"}),(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-full"})]})})},c))})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports & Analytics"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Real-time data insights and comprehensive project reports"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(t.Select,{value:a,onValueChange:u,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-40",children:(0,b.jsx)(t.SelectValue,{placeholder:"Select period"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"week",children:"This Week"}),(0,b.jsx)(t.SelectItem,{value:"month",children:"This Month"}),(0,b.jsx)(t.SelectItem,{value:"quarter",children:"This Quarter"}),(0,b.jsx)(t.SelectItem,{value:"year",children:"This Year"})]})]}),(0,b.jsxs)(t.Select,{value:v,onValueChange:w,children:[(0,b.jsx)(t.SelectTrigger,{className:"w-48",children:(0,b.jsx)(t.SelectValue,{placeholder:"All Projects"})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"all",children:"All Projects"}),N.map(a=>(0,b.jsx)(t.SelectItem,{value:a.id,children:a.name},a.id))]})]})]})]}),(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:V.map(a=>{let c=a.icon;return(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(r.CardTitle,{className:"text-sm font-medium",children:a.title}),(0,b.jsx)(c,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.value}),(0,b.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[a.trendUp?(0,b.jsx)(j.TrendingUp,{className:"mr-1 h-3 w-3 text-green-600"}):(0,b.jsx)(p.TrendingDown,{className:"mr-1 h-3 w-3 text-red-600"}),(0,b.jsx)("span",{className:a.trendUp?"text-green-600":"text-red-600",children:a.trend})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description})]})]},a.title)})}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Project Status Distribution"}),(0,b.jsx)(r.CardDescription,{children:"Current status of all projects"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)(aT,{projects:N})})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Work Activity Trends"}),(0,b.jsx)(r.CardDescription,{children:"Work entries over the last 30 days"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)(aU,{workEntries:O})})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Material Usage Overview"}),(0,b.jsx)(r.CardDescription,{children:"Current inventory and allocation status"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)(aV,{materials:Q,allocations:S})})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsx)(r.CardTitle,{children:"Budget Utilization"}),(0,b.jsx)(r.CardDescription,{children:"Project budget vs actual spending"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsx)(aW,{projects:N,financialData:D})})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsxs)(r.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(e.FileText,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Available Reports"})]}),(0,b.jsx)(r.CardDescription,{children:"Generate and download comprehensive project reports"})]}),(0,b.jsxs)(r.CardContent,{children:[(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:W.filter(a=>a.enabled).map(a=>(0,b.jsx)(r.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.name}),(0,b.jsx)(s.Badge,{variant:"secondary",className:{Project:"bg-blue-100 text-blue-800",Team:"bg-green-100 text-green-800",Financial:"bg-yellow-100 text-yellow-800",Materials:"bg-purple-100 text-purple-800",Progress:"bg-indigo-100 text-indigo-800",Equipment:"bg-red-100 text-red-800",Orders:"bg-orange-100 text-orange-800",Allocations:"bg-teal-100 text-teal-800"}[a.category]||"bg-gray-100 text-gray-800",children:a.category}),(0,b.jsxs)(s.Badge,{variant:"outline",children:[a.dataCount," items"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,b.jsx)(o.CheckCircle,{className:"mr-1 h-3 w-3 text-green-600"}),"Data available: ",a.dataCount," records"]})]}),(0,b.jsx)("div",{className:"flex flex-col space-y-1",children:a.format.map(c=>(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",onClick:()=>X(a.id,c),className:"min-w-20",children:[(0,b.jsx)(f.Download,{className:"mr-1 h-3 w-3"}),c]},c))})]})},a.id))}),W.filter(a=>!a.enabled).length>0&&(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Reports with no data available:"}),(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:W.filter(a=>!a.enabled).map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[(0,b.jsx)(n.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.name})]},a.id))})]})]})]}),(0,b.jsxs)(r.Card,{children:[(0,b.jsxs)(r.CardHeader,{children:[(0,b.jsxs)(r.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(d.BarChart3,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Quick Analysis"})]}),(0,b.jsx)(r.CardDescription,{children:"Instant insights from current data"})]}),(0,b.jsx)(r.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(r.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(h.Activity,{className:"h-6 w-6 text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:O.length}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Work Entries"})]})]})}),(0,b.jsx)(r.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(g.Users,{className:"h-6 w-6 text-green-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:P.length}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Teams"})]})]})}),(0,b.jsx)(r.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(l.Package,{className:"h-6 w-6 text-purple-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:Q.length}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Material Types"})]})]})}),(0,b.jsx)(r.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(m.Settings,{className:"h-6 w-6 text-red-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:R.length}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Equipment Items"})]})]})})]})})]})]})}let aT=({projects:a})=>{let c=a.reduce((a,b)=>{let c=b.status||"unknown",d=a.find(a=>a.status===c);return d?d.count+=1:a.push({status:c.charAt(0).toUpperCase()+c.slice(1),count:1}),a},[]),d=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6"];return(0,b.jsx)(A.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(B.PieChart,{children:[(0,b.jsx)(C.Pie,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({status:a,count:b})=>`${a}: ${b}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:c.map((a,c)=>(0,b.jsx)(D.Cell,{fill:d[c%d.length]},`cell-${c}`))}),(0,b.jsx)(z.Tooltip,{})]})})},aU=({workEntries:a})=>{let c=Array.from({length:30},(a,b)=>{let c=new Date;return c.setDate(c.getDate()-b),{date:c.toISOString().split("T")[0],day:c.toLocaleDateString("en-US",{month:"short",day:"numeric"}),count:0}}).reverse();return a.forEach(a=>{if(a.created_at){let b=new Date(a.created_at).toISOString().split("T")[0],d=c.find(a=>a.date===b);d&&(d.count+=1)}}),(0,b.jsx)(A.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aK,{data:c,children:[(0,b.jsx)(y.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(w.XAxis,{dataKey:"day"}),(0,b.jsx)(x.YAxis,{}),(0,b.jsx)(z.Tooltip,{}),(0,b.jsx)(aG,{type:"monotone",dataKey:"count",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})})},aV=({materials:a,allocations:c})=>{let d=a.map(a=>{let b=c.filter(b=>b.material?.id===a.id).reduce((a,b)=>a+(b.allocated_qty||0),0);return{name:a.name.length>15?a.name.substring(0,15)+"...":a.name,stock:a.current_stock_qty||0,allocated:b}}).slice(0,8);return(0,b.jsx)(A.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(u.BarChart,{data:d,children:[(0,b.jsx)(y.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(w.XAxis,{dataKey:"name"}),(0,b.jsx)(x.YAxis,{}),(0,b.jsx)(z.Tooltip,{}),(0,b.jsx)(v.Bar,{dataKey:"stock",fill:"#22c55e",name:"In Stock"}),(0,b.jsx)(v.Bar,{dataKey:"allocated",fill:"#3b82f6",name:"Allocated"})]})})},aW=({projects:a,financialData:c})=>{let d=a.filter(a=>a.budget&&a.budget>0).map(a=>({name:a.name.length>20?a.name.substring(0,20)+"...":a.name,budget:a.budget,spent:0})).slice(0,6);return(0,b.jsx)(A.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(u.BarChart,{data:d,children:[(0,b.jsx)(y.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(w.XAxis,{dataKey:"name"}),(0,b.jsx)(x.YAxis,{}),(0,b.jsx)(z.Tooltip,{formatter:a=>[`€${a.toLocaleString()}`,""]}),(0,b.jsx)(v.Bar,{dataKey:"budget",fill:"#3b82f6",name:"Budget"}),(0,b.jsx)(v.Bar,{dataKey:"spent",fill:"#ef4444",name:"Spent"})]})})}}];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_reports_page_tsx_cd072166._.js.map