module.exports=[62172,a=>{"use strict";a.s(["default",()=>K],62172);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(56757),h=a.i(210),i=a.i(15618),j=a.i(24569),k=a.i(81560),l=a.i(46842),m=a.i(63519),n=a.i(92258),o=a.i(67900),p=a.i(83497),q=a.i(60246);let r=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var s=a.i(21161),t=a.i(99570),u=a.i(66718),v=a.i(29246),w=a.i(91119),x=a.i(86304),y=a.i(72233),z=a.i(75083),A=a.i(14574),B=a.i(41921),C=a.i(80701),D=a.i(63658),E=a.i(10999),F=a.i(47507),G=a.i(86456);let H=g.z.object({contact_name:g.z.string().min(1,"Contact name is required"),position:g.z.string().optional(),department:g.z.string().optional(),phone:g.z.string().optional(),email:g.z.string().email("Invalid email").optional().or(g.z.literal("")),is_primary:g.z.boolean().default(!1),notes:g.z.string().optional()}),I=g.z.object({material_name:g.z.string().min(1,"Material name is required"),category:g.z.string().optional(),unit:g.z.string().min(1,"Unit is required"),supplier_part_number:g.z.string().optional(),unit_price:g.z.number().positive("Price must be positive"),minimum_order_qty:g.z.number().positive("Minimum order quantity must be positive").default(1),lead_time_days:g.z.string().optional().transform(a=>""===a?void 0:parseInt(a)||void 0),is_preferred:g.z.boolean().default(!1),notes:g.z.string().optional()}),J=g.z.object({project_id:g.z.string().min(1,"Project is required"),notes:g.z.string().optional(),assigned_by:g.z.string().optional()});function K(){let a=(0,d.useParams)(),g=(0,d.useRouter)(),{canManageInventory:K}=(0,F.usePermissions)(),L=a.id,[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),{data:U,isLoading:V}=(0,E.useSupplier)(L),{data:W=[],isLoading:X}=(0,E.useSupplierContacts)(L),{data:Y=[],isLoading:Z}=(0,E.useSupplierMaterials)(L),{data:$=[],isLoading:_}=(0,E.useSupplierProjects)(L),{data:aa,isLoading:ab}=(0,G.useProjects)(),ac=aa?.items||[],ad=(0,E.useCreateSupplierContact)(L),ae=(0,E.useDeleteSupplierContact)(L),af=(0,E.useCreateSupplierMaterial)(L),ag=(0,E.useCreateSupplierProjectAssignment)(L),ah=(0,e.useForm)({resolver:(0,f.zodResolver)(H),defaultValues:{contact_name:"",position:"",department:"",phone:"",email:"",is_primary:!1,notes:""}}),ai=(0,e.useForm)({resolver:(0,f.zodResolver)(I),defaultValues:{material_name:"",category:"",unit:"",supplier_part_number:"",unit_price:0,minimum_order_qty:1,lead_time_days:"",is_preferred:!1,notes:""}}),aj=(0,e.useForm)({resolver:(0,f.zodResolver)(J),defaultValues:{project_id:"",notes:"",assigned_by:""}}),ak=async a=>{try{await ad.mutateAsync(a),N(!1),ah.reset()}catch(a){}},al=async a=>{try{await af.mutateAsync(a),P(!1),ai.reset()}catch(a){}},am=async a=>{try{await ag.mutateAsync(a),R(!1),aj.reset()}catch(a){}},an=async a=>{if(window.confirm("Are you sure you want to delete this contact?"))try{await ae.mutateAsync(a)}catch(a){}};return V?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(t.Button,{variant:"ghost",size:"sm",onClick:()=>g.back(),children:[(0,b.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-64 animate-pulse"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:(0,b.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,b.jsxs)(w.Card,{className:"animate-pulse",children:[(0,b.jsx)(w.CardHeader,{children:(0,b.jsx)("div",{className:"h-6 bg-muted rounded w-48"})}),(0,b.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"})]})]})})})]}):U?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(t.Button,{variant:"ghost",size:"sm",onClick:()=>g.back(),children:[(0,b.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:U.org_name}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Supplier Details & Management"})]})]}),K&&(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)(t.Button,{variant:"outline",children:[(0,b.jsx)(s.Settings,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,b.jsxs)(t.Button,{children:[(0,b.jsx)(j.Edit,{className:"mr-2 h-4 w-4"}),"Edit Supplier"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)(z.Tabs,{defaultValue:"overview",className:"space-y-6",children:[(0,b.jsxs)(z.TabsList,{children:[(0,b.jsx)(z.TabsTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(z.TabsTrigger,{value:"contacts",children:"Contacts"}),(0,b.jsx)(z.TabsTrigger,{value:"materials",children:"Materials"}),(0,b.jsx)(z.TabsTrigger,{value:"projects",children:"Projects"})]}),(0,b.jsx)(z.TabsContent,{value:"overview",className:"space-y-6",children:(0,b.jsxs)(w.Card,{children:[(0,b.jsx)(w.CardHeader,{children:(0,b.jsx)(w.CardTitle,{children:"Supplier Information"})}),(0,b.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Organization"}),(0,b.jsx)("p",{className:"text-sm",children:U.org_name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,b.jsx)(x.Badge,{variant:U.is_active?"default":"secondary",children:U.is_active?"Active":"Inactive"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Primary Contact"}),(0,b.jsx)("p",{className:"text-sm",children:U.contact_person})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),(0,b.jsx)("p",{className:"text-sm",children:U.phone||"Not provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"text-sm",children:U.email||"Not provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,b.jsx)("p",{className:"text-sm",children:U.address||"Not provided"})]})]}),U.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm",children:U.notes})]})]})]})}),(0,b.jsx)(z.TabsContent,{value:"contacts",className:"space-y-6",children:(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(w.CardTitle,{children:"Contact Persons"}),(0,b.jsx)(w.CardDescription,{children:"Manage contacts for this supplier"})]}),K&&(0,b.jsxs)(A.Dialog,{open:M,onOpenChange:N,children:[(0,b.jsx)(A.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(t.Button,{size:"sm",children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Contact"]})}),(0,b.jsxs)(A.DialogContent,{children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{children:"Add New Contact"}),(0,b.jsxs)(A.DialogDescription,{children:["Add a new contact person for ",U.org_name]})]}),(0,b.jsx)(B.Form,{...ah,children:(0,b.jsxs)("form",{onSubmit:ah.handleSubmit(ak),className:"space-y-4",children:[(0,b.jsx)(B.FormField,{control:ah.control,name:"contact_name",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Contact Name *"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"e.g., John Smith",...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ah.control,name:"position",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Position"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"e.g., Sales Manager",...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ah.control,name:"department",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Department"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"e.g., Sales",...a})}),(0,b.jsx)(B.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ah.control,name:"phone",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Phone"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"+1234567890",...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ah.control,name:"email",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Email"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"contact@company.com",...a})}),(0,b.jsx)(B.FormMessage,{})]})})]}),(0,b.jsx)(B.FormField,{control:ah.control,name:"is_primary",render:({field:a})=>(0,b.jsxs)(B.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(B.FormLabel,{children:"Primary Contact"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Set as the main contact for this supplier"})]}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(D.Switch,{checked:a.value,onCheckedChange:a.onChange})})]})}),(0,b.jsx)(B.FormField,{control:ah.control,name:"notes",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Notes"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(v.Textarea,{placeholder:"Additional notes...",rows:2,...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsxs)(A.DialogFooter,{children:[(0,b.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Cancel"}),(0,b.jsx)(t.Button,{type:"submit",children:"Add Contact"})]})]})})]})]})]}),(0,b.jsx)(w.CardContent,{children:X?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-muted rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-32 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-24"})]})]})},c))}):0===W.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(l.User,{className:"mx-auto h-8 w-8 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-semibold",children:"No contacts"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by adding a contact person."}),K&&(0,b.jsxs)(t.Button,{className:"mt-4",onClick:()=>N(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Contact"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:W.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(y.Avatar,{children:(0,b.jsx)(y.AvatarFallback,{children:(0,b.jsx)(l.User,{className:"h-4 w-4"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("h4",{className:"font-medium",children:a.contact_name}),a.is_primary&&(0,b.jsxs)(x.Badge,{variant:"default",className:"text-xs",children:[(0,b.jsx)(r,{className:"h-3 w-3 mr-1"}),"Primary"]})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a.position," • ",a.department]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground mt-1",children:[a.phone&&(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(m.Phone,{className:"h-3 w-3 mr-1"}),a.phone]}),a.email&&(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(n.Mail,{className:"h-3 w-3 mr-1"}),a.email]})]})]})]}),K&&(0,b.jsxs)("div",{className:"flex space-x-1",children:[(0,b.jsx)(t.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(j.Edit,{className:"h-3 w-3"})}),(0,b.jsx)(t.Button,{variant:"ghost",size:"sm",onClick:()=>an(a.id),children:(0,b.jsx)(k.Trash2,{className:"h-3 w-3"})})]})]},a.id))})})]})}),(0,b.jsx)(z.TabsContent,{value:"materials",className:"space-y-6",children:(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(w.CardTitle,{children:"Supplier Materials"}),(0,b.jsx)(w.CardDescription,{children:"Materials and equipment available from this supplier"})]}),K&&(0,b.jsxs)(t.Button,{size:"sm",onClick:()=>P(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Material"]})]}),(0,b.jsx)(w.CardContent,{children:Z?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-muted rounded-lg"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-48 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-32"})]})]})},c))}):0===Y.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(p.Package,{className:"mx-auto h-8 w-8 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-semibold",children:"No materials"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by adding materials or equipment to this supplier."}),K&&(0,b.jsxs)(t.Button,{className:"mt-4",onClick:()=>P(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add Material"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:Y.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-muted rounded-lg flex items-center justify-center",children:(0,b.jsx)(p.Package,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium",children:a.material?.name||a.material_name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["€",a.unit_price," per ",a.material?.unit||a.material_unit," • Min order: ",a.minimum_order_qty," ",a.material?.unit||a.material_unit]}),a.supplier_part_number&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Part #: ",a.supplier_part_number]}),a.is_preferred&&(0,b.jsx)(x.Badge,{variant:"secondary",className:"text-xs",children:"Preferred"})]})]}),K&&(0,b.jsxs)("div",{className:"flex space-x-1",children:[(0,b.jsx)(t.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(j.Edit,{className:"h-3 w-3"})}),(0,b.jsx)(t.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(k.Trash2,{className:"h-3 w-3"})})]})]},a.id))})})]})}),(0,b.jsx)(z.TabsContent,{value:"projects",className:"space-y-6",children:(0,b.jsxs)(w.Card,{children:[(0,b.jsxs)(w.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(w.CardTitle,{children:"Assigned Projects"}),(0,b.jsx)(w.CardDescription,{children:"Projects where this supplier is assigned"})]}),K&&(0,b.jsxs)(t.Button,{size:"sm",onClick:()=>R(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Assign to Project"]})]}),(0,b.jsx)(w.CardContent,{children:_?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg animate-pulse",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-56 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-32"})]}),(0,b.jsx)("div",{className:"h-6 w-16 bg-muted rounded"})]},c))}):0===$.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(o.Building2,{className:"mx-auto h-8 w-8 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-semibold",children:"No project assignments"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Assign this supplier to projects to track material orders."}),K&&(0,b.jsxs)(t.Button,{className:"mt-4",onClick:()=>R(!0),children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Assign to Project"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:$.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium",children:a.project_name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Assigned on ",a.assigned_at?new Date(a.assigned_at).toLocaleDateString():"Unknown"]}),a.notes&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.notes})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(x.Badge,{variant:"active"===a.status?"default":"secondary",children:a.status}),K&&(0,b.jsx)(t.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(j.Edit,{className:"h-3 w-3"})})]})]},a.id))})})]})})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(w.Card,{children:[(0,b.jsx)(w.CardHeader,{children:(0,b.jsx)(w.CardTitle,{children:"Quick Stats"})}),(0,b.jsxs)(w.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(q.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Contacts"})]}),(0,b.jsx)("span",{className:"text-sm font-medium",children:W.length})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(p.Package,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Materials"})]}),(0,b.jsx)("span",{className:"text-sm font-medium",children:Y.length})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(o.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:"Projects"})]}),(0,b.jsx)("span",{className:"text-sm font-medium",children:$.length})]})]})]}),(0,b.jsxs)(w.Card,{children:[(0,b.jsx)(w.CardHeader,{children:(0,b.jsx)(w.CardTitle,{children:"Recent Activity"})}),(0,b.jsx)(w.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Material order placed"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"2 days ago"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Contact updated"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"1 week ago"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Assigned to new project"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"2 weeks ago"})]})]})})]})]})]}),(0,b.jsx)(A.Dialog,{open:O,onOpenChange:P,children:(0,b.jsxs)(A.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{children:"Add New Material"}),(0,b.jsxs)(A.DialogDescription,{children:["Add a new material or equipment item for ",U.org_name]})]}),(0,b.jsx)(B.Form,{...ai,children:(0,b.jsxs)("form",{onSubmit:ai.handleSubmit(al),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ai.control,name:"material_name",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Material Name *"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"e.g., Fiber optic cable, Cable duct",...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ai.control,name:"category",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Category"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"e.g., Cables, Equipment",...a})}),(0,b.jsx)(B.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ai.control,name:"unit",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Unit *"}),(0,b.jsxs)(C.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(C.SelectTrigger,{children:(0,b.jsx)(C.SelectValue,{placeholder:"Select unit"})})}),(0,b.jsxs)(C.SelectContent,{children:[(0,b.jsx)(C.SelectItem,{value:"meter",children:"Meter"}),(0,b.jsx)(C.SelectItem,{value:"piece",children:"Piece"}),(0,b.jsx)(C.SelectItem,{value:"box",children:"Box"}),(0,b.jsx)(C.SelectItem,{value:"roll",children:"Roll"}),(0,b.jsx)(C.SelectItem,{value:"kg",children:"Kilogram"}),(0,b.jsx)(C.SelectItem,{value:"ton",children:"Ton"}),(0,b.jsx)(C.SelectItem,{value:"m3",children:"Cubic Meter"}),(0,b.jsx)(C.SelectItem,{value:"liter",children:"Liter"}),(0,b.jsx)(C.SelectItem,{value:"pallet",children:"Pallet"})]})]}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ai.control,name:"supplier_part_number",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Supplier Part Number"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{placeholder:"Optional part number",...a})}),(0,b.jsx)(B.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ai.control,name:"unit_price",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Unit Price (EUR) *"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{type:"number",step:"0.01",placeholder:"0.00",...a,onChange:b=>a.onChange(parseFloat(b.target.value)||0)})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ai.control,name:"minimum_order_qty",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Minimum Order Quantity *"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{type:"number",placeholder:"1",...a,onChange:b=>a.onChange(parseInt(b.target.value)||1)})}),(0,b.jsx)(B.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(B.FormField,{control:ai.control,name:"lead_time_days",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Lead Time (Days)"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(u.Input,{type:"number",placeholder:"Optional lead time",...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:ai.control,name:"is_preferred",render:({field:a})=>(0,b.jsxs)(B.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(B.FormLabel,{children:"Preferred Supplier"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Mark this as preferred supplier for this material"})]}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(D.Switch,{checked:a.value,onCheckedChange:a.onChange})})]})})]}),(0,b.jsx)(B.FormField,{control:ai.control,name:"notes",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Notes"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(v.Textarea,{placeholder:"Additional notes about this material...",rows:3,...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsxs)(A.DialogFooter,{children:[(0,b.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"}),(0,b.jsx)(t.Button,{type:"submit",disabled:af.isPending,children:af.isPending?"Adding...":"Add Material"})]})]})})]})}),(0,b.jsx)(A.Dialog,{open:Q,onOpenChange:R,children:(0,b.jsxs)(A.DialogContent,{children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{children:"Assign to Project"}),(0,b.jsxs)(A.DialogDescription,{children:["Assign ",U.org_name," to a project for material tracking"]})]}),(0,b.jsx)(B.Form,{...aj,children:(0,b.jsxs)("form",{onSubmit:aj.handleSubmit(am),className:"space-y-4",children:[(0,b.jsx)(B.FormField,{control:aj.control,name:"project_id",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Project *"}),(0,b.jsxs)(C.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(C.SelectTrigger,{children:(0,b.jsx)(C.SelectValue,{placeholder:"Select a project"})})}),(0,b.jsx)(C.SelectContent,{children:ab?(0,b.jsx)(C.SelectItem,{value:"",disabled:!0,children:"Loading projects..."}):0===ac.length?(0,b.jsx)(C.SelectItem,{value:"",disabled:!0,children:"No projects available"}):ac.filter(a=>!$.some(b=>b.project_id===a.id)).map(a=>(0,b.jsxs)(C.SelectItem,{value:a.id,children:[a.name," - ",a.customer||"No customer"]},a.id))})]}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsx)(B.FormField,{control:aj.control,name:"notes",render:({field:a})=>(0,b.jsxs)(B.FormItem,{children:[(0,b.jsx)(B.FormLabel,{children:"Notes"}),(0,b.jsx)(B.FormControl,{children:(0,b.jsx)(v.Textarea,{placeholder:"Assignment notes...",rows:3,...a})}),(0,b.jsx)(B.FormMessage,{})]})}),(0,b.jsxs)(A.DialogFooter,{children:[(0,b.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,b.jsx)(t.Button,{type:"submit",disabled:ag.isPending,children:ag.isPending?"Assigning...":"Assign Project"})]})]})})]})})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center space-x-4",children:(0,b.jsxs)(t.Button,{variant:"ghost",size:"sm",onClick:()=>g.back(),children:[(0,b.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]})}),(0,b.jsx)(w.Card,{children:(0,b.jsxs)(w.CardContent,{className:"text-center py-12",children:[(0,b.jsx)(o.Building2,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,b.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Supplier not found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"The supplier you're looking for doesn't exist."})]})})]})}}];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_materials_suppliers_%5Bid%5D_page_tsx_65866903._.js.map