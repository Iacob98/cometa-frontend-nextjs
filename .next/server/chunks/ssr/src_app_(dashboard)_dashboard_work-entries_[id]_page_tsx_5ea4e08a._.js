module.exports=[73322,a=>{"use strict";a.s(["default",()=>t]);var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(210),f=a.i(24987),g=a.i(41675),h=a.i(46842),i=a.i(16201),j=a.i(41710),k=a.i(24569),l=a.i(81560),m=a.i(4720),n=a.i(99570),o=a.i(91119),p=a.i(86304),q=a.i(5084),r=a.i(49294),s=a.i(63672);function t({params:a}){(0,s.requireAuth)();let t=(0,c.useRouter)(),{id:u}=(0,d.use)(a),{data:v,isLoading:w,error:x}=(0,r.useWorkEntry)(u),y=(0,r.useDeleteWorkEntry)(),z=async()=>{confirm("Are you sure you want to delete this work entry? This action cannot be undone.")&&(await y.mutateAsync(u),t.push("/dashboard/work-entries"))};return x?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>t.back(),className:"flex items-center space-x-2",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Work Entry Details"})]})}),(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"py-8",children:(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"Failed to load work entry. Please try again later."})})})]}):w?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>t.back(),className:"flex items-center space-x-2",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Work Entry Details"})]})}),(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"py-8",children:(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("div",{className:"h-4 bg-muted animate-pulse rounded flex-1"}),(0,b.jsx)("div",{className:"h-4 bg-muted animate-pulse rounded w-20"})]},c))})})})]}):v?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>t.back(),className:"flex items-center space-x-2",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Work Entry Details"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[v.task," • ",v.project_name]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(k.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(n.Button,{variant:"destructive",size:"sm",onClick:z,children:[(0,b.jsx)(l.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsxs)(o.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(o.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(m.FileText,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Work Details"})]}),(0,b.jsx)(p.Badge,{variant:(a=>{switch(a){case"completed":return"default";case"pending_approval":default:return"secondary";case"in_progress":return"outline"}})(v.status),children:(a=>{switch(a){case"completed":return"Completed";case"pending_approval":return"Pending Approval";case"in_progress":return"In Progress";default:return a}})(v.status)})]}),(0,b.jsx)(o.CardDescription,{children:v.description})]}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Stage"}),(0,b.jsx)("p",{className:"font-medium",children:v.task})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Method"}),(0,b.jsx)("p",{className:"font-medium",children:(a=>{switch(a){case"hand":return"Manual";case"excavator":return"Excavator";case"trencher":return"Trencher";case"mole":return"Mole";default:return a||"—"}})(v.method)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Meters Completed"}),(0,b.jsxs)("p",{className:"font-medium",children:[v.meters_done,"m"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,b.jsx)("p",{className:"font-medium",children:new Date(v.date).toLocaleDateString()})]})]}),(v.width_m||v.depth_m||v.cables_count)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[v.width_m&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Width"}),(0,b.jsxs)("p",{className:"font-medium",children:[v.width_m,"m"]})]}),v.depth_m&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Depth"}),(0,b.jsxs)("p",{className:"font-medium",children:[v.depth_m,"m"]})]}),v.cables_count&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Cables"}),(0,b.jsx)("p",{className:"font-medium",children:v.cables_count})]})]})]}),v.has_protection_pipe&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.CheckCircle,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)("span",{className:"text-sm",children:"Protection pipe installed"})]})]}),v.soil_type&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Soil Type"}),(0,b.jsx)("p",{className:"font-medium",children:v.soil_type})]})]}),v.notes&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v.notes})]})]})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsxs)(o.CardHeader,{children:[(0,b.jsx)(o.CardTitle,{children:"Photos"}),(0,b.jsx)(o.CardDescription,{children:"Work progress and completion photos"})]}),(0,b.jsx)(o.CardContent,{children:v.photos&&v.photos.length>0?(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:v.photos.map((a,c)=>(0,b.jsx)("div",{className:"aspect-square bg-muted rounded-lg",children:(0,b.jsx)("img",{src:a,alt:`Work photo ${c+1}`,className:"w-full h-full object-cover rounded-lg"})},c))}):(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No photos uploaded for this work entry."})})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(f.MapPin,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Project"})]})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"font-medium",children:v.project_name})]}),v.project_customer&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer"}),(0,b.jsx)("p",{className:"font-medium",children:v.project_customer})]}),v.project_city&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),(0,b.jsx)("p",{className:"font-medium",children:v.project_city})]}),v.project_address&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Address"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v.project_address})]})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(h.User,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Worker"})]})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"font-medium",children:v.worker_name})]}),v.worker_email&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v.worker_email})]})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center space-x-2",children:[v.approved?(0,b.jsx)(i.CheckCircle,{className:"h-5 w-5 text-green-600"}):(0,b.jsx)(j.Clock,{className:"h-5 w-5 text-yellow-600"}),(0,b.jsx)("span",{children:"Approval Status"})]})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{children:(0,b.jsx)(p.Badge,{variant:v.approved?"default":"secondary",children:v.approved?"Approved":"Pending Approval"})}),v.approved&&v.approved_by_name&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Approved by"}),(0,b.jsx)("p",{className:"font-medium",children:v.approved_by_name})]}),v.approved_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Approved on"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(v.approved_at).toLocaleString()})]})]})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(g.Calendar,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Timeline"})]})}),(0,b.jsxs)(o.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(v.created_at).toLocaleString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(v.updated_at).toLocaleString()})]})]})]})]})]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>t.back(),className:"flex items-center space-x-2",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Work Entry Details"})]})}),(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"py-8",children:(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"Work entry not found."})})})]})}}];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_work-entries_%5Bid%5D_page_tsx_5ea4e08a._.js.map