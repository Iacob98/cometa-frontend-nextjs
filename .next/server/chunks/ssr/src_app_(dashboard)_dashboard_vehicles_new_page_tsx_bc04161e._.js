module.exports=[34778,a=>{"use strict";a.s(["default",()=>w]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(54714),h=a.i(210),i=a.i(48464),j=a.i(14548),k=a.i(96221),l=a.i(99570),m=a.i(91119),n=a.i(41921),o=a.i(66718),p=a.i(80701),q=a.i(15055),r=a.i(5084),s=a.i(47671);let t=g.object({brand:g.string().min(1,"Brand is required").max(100,"Brand must be less than 100 characters"),model:g.string().min(1,"Model is required").max(100,"Model must be less than 100 characters"),plate_number:g.string().min(1,"Plate number is required").max(20,"Plate number must be less than 20 characters").regex(/^[A-Z0-9\-\s]+$/i,"Plate number can only contain letters, numbers, hyphens, and spaces"),type:g.enum(["van","truck","trailer","excavator","other"],{required_error:"Vehicle type is required"}),status:g.enum(["available","in_use","maintenance","broken"],{required_error:"Status is required"}),owned:g.boolean().default(!0),rental_price_per_day_eur:g.number().min(0,"Rental price per day must be 0 or greater").default(0),rental_price_per_hour_eur:g.number().min(0,"Rental price per hour must be 0 or greater").default(0),fuel_consumption_l_100km:g.number().min(0,"Fuel consumption must be 0 or greater").default(0),current_location:g.string().max(200,"Location must be less than 200 characters").default("Main Depot"),purchase_price_eur:g.number().min(0,"Purchase price must be 0 or greater").default(0)}),u=[{value:"van",label:"Van"},{value:"truck",label:"Truck"},{value:"trailer",label:"Trailer"},{value:"excavator",label:"Excavator"},{value:"other",label:"Other"}],v=[{value:"available",label:"Available"},{value:"in_use",label:"In Use"},{value:"maintenance",label:"Maintenance"},{value:"broken",label:"Broken"}];function w(){let a=(0,d.useRouter)(),[g,w]=(0,c.useState)(!1),x=(0,s.useCreateVehicle)(),y=(0,e.useForm)({resolver:(0,f.zodResolver)(t),defaultValues:{brand:"",model:"",plate_number:"",type:"van",status:"available",owned:!0,rental_price_per_day_eur:0,rental_price_per_hour_eur:0,fuel_consumption_l_100km:0,current_location:"Main Depot",purchase_price_eur:0,year_of_manufacture:void 0,mileage_km:void 0}}),z=async b=>{try{w(!0);let c={...b,plate_number:b.plate_number.toUpperCase().trim()};await x.mutateAsync(c),a.push("/dashboard/equipment")}catch(a){console.error("Failed to create vehicle:",a)}finally{w(!1)}},A=y.watch("owned");return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>a.back(),className:"flex items-center space-x-2",children:[(0,b.jsx)(h.ArrowLeft,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Add New Vehicle"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Add a new vehicle to your fleet with all necessary details"})]})]})}),(0,b.jsx)(n.Form,{...y,children:(0,b.jsxs)("form",{onSubmit:y.handleSubmit(z),className:"space-y-6",children:[(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsxs)(m.CardTitle,{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.Car,{className:"h-5 w-5"}),(0,b.jsx)("span",{children:"Basic Information"})]}),(0,b.jsx)(m.CardDescription,{children:"Enter the basic details about the vehicle"})]}),(0,b.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(n.FormField,{control:y.control,name:"brand",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Brand *"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{placeholder:"e.g., Mercedes, Ford, Toyota",...a})}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"model",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Model *"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{placeholder:"e.g., Sprinter, Transit, Hilux",...a})}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"plate_number",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Plate Number *"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{placeholder:"e.g., ABC-123, XYZ 456",...a,onChange:b=>a.onChange(b.target.value.toUpperCase())})}),(0,b.jsx)(n.FormDescription,{children:"License plate number (will be converted to uppercase)"}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"type",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Vehicle Type *"}),(0,b.jsxs)(p.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(p.SelectTrigger,{children:(0,b.jsx)(p.SelectValue,{placeholder:"Select vehicle type"})})}),(0,b.jsx)(p.SelectContent,{children:u.map(a=>(0,b.jsx)(p.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)(n.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(n.FormField,{control:y.control,name:"status",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Status *"}),(0,b.jsxs)(p.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(p.SelectTrigger,{children:(0,b.jsx)(p.SelectValue,{placeholder:"Select status"})})}),(0,b.jsx)(p.SelectContent,{children:v.map(a=>(0,b.jsx)(p.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"current_location",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Current Location"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{placeholder:"e.g., Main Depot, Project Site A",...a})}),(0,b.jsx)(n.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(n.FormField,{control:y.control,name:"year_of_manufacture",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Year of Manufacture"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",placeholder:"e.g., 2020",value:a.value||"",onChange:b=>a.onChange(b.target.value?parseInt(b.target.value):void 0)})}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"mileage_km",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Mileage (km)"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",placeholder:"e.g., 50000",value:a.value||"",onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):void 0)})}),(0,b.jsx)(n.FormMessage,{})]})})]}),(0,b.jsx)(n.FormField,{control:y.control,name:"fuel_consumption_l_100km",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Fuel Consumption (L/100km)"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",step:"0.1",placeholder:"e.g., 8.5",...a,onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):0)})}),(0,b.jsx)(n.FormDescription,{children:"Fuel consumption in liters per 100 kilometers"}),(0,b.jsx)(n.FormMessage,{})]})})]})]}),(0,b.jsxs)(m.Card,{children:[(0,b.jsxs)(m.CardHeader,{children:[(0,b.jsx)(m.CardTitle,{children:"Financial Information"}),(0,b.jsx)(m.CardDescription,{children:"Ownership and pricing details for the vehicle"})]}),(0,b.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,b.jsx)(n.FormField,{control:y.control,name:"owned",render:({field:a})=>(0,b.jsxs)(n.FormItem,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(q.Checkbox,{checked:a.value,onCheckedChange:a.onChange})}),(0,b.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,b.jsx)(n.FormLabel,{children:"Company Owned Vehicle"}),(0,b.jsx)(n.FormDescription,{children:"Check if this vehicle is owned by the company (uncheck for rental vehicles)"})]})]})}),(0,b.jsx)(r.Separator,{}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(n.FormField,{control:y.control,name:"purchase_price_eur",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Purchase Price (EUR)"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",step:"0.01",placeholder:"0.00",...a,onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):0)})}),(0,b.jsx)(n.FormDescription,{children:A?"Purchase price for owned vehicle":"Not applicable for rental vehicles"}),(0,b.jsx)(n.FormMessage,{})]})}),(0,b.jsx)(n.FormField,{control:y.control,name:"rental_price_per_day_eur",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Rental Price per Day (EUR)"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",step:"0.01",placeholder:"0.00",...a,onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):0)})}),(0,b.jsx)(n.FormDescription,{children:A?"Internal cost per day for project allocation":"External rental cost per day"}),(0,b.jsx)(n.FormMessage,{})]})})]}),(0,b.jsx)(n.FormField,{control:y.control,name:"rental_price_per_hour_eur",render:({field:a})=>(0,b.jsxs)(n.FormItem,{children:[(0,b.jsx)(n.FormLabel,{children:"Rental Price per Hour (EUR)"}),(0,b.jsx)(n.FormControl,{children:(0,b.jsx)(o.Input,{type:"number",step:"0.01",placeholder:"0.00",...a,onChange:b=>a.onChange(b.target.value?parseFloat(b.target.value):0)})}),(0,b.jsx)(n.FormDescription,{children:A?"Internal hourly cost for project allocation":"External rental cost per hour"}),(0,b.jsx)(n.FormMessage,{})]})})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>a.back(),disabled:g,children:"Cancel"}),(0,b.jsx)(l.Button,{type:"submit",disabled:g,children:g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Vehicle..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Save,{className:"mr-2 h-4 w-4"}),"Create Vehicle"]})})]})]})})]})}}];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_vehicles_new_page_tsx_bc04161e._.js.map