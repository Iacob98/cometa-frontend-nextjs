module.exports=[38097,a=>{"use strict";a.s(["default",()=>T],38097);var b=a.i(87924),c=a.i(72131),d=a.i(4720),e=a.i(73320),f=a.i(87532),g=a.i(70106);let h=(0,g.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),i=(0,g.default)("tags",[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]]);var j=a.i(60246),k=a.i(39761),l=a.i(21161);let m=(0,g.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var n=a.i(99570),o=a.i(66718),p=a.i(91119),q=a.i(75083),r=a.i(14574),s=a.i(86304),t=a.i(83256),u=a.i(38632),v=a.i(84505),w=a.i(77156),x=a.i(24569),y=a.i(81560);let z=(0,g.default)("share",[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]]);var A=a.i(41710),B=a.i(46842);let C=(0,g.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),D=(0,g.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var E=a.i(17755),F=a.i(91965),G=a.i(76695),H=a.i(35732),I=a.i(57366),J=a.i(94632),K=a.i(68114);let L=a=>{if(0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["Bytes","KB","MB","GB"][b]};function M({document:a,onEdit:e,onShare:f,onViewVersions:g,showActions:h=!0,compact:i=!1}){var j;let[k,l]=(0,c.useState)(!1),{download:m}=(0,I.useDocumentActions)(),o=(j=a.mime_type).startsWith("image/")?u.Image:j.includes("pdf")||j.includes("document")?d.FileText:G.FileIcon,q=()=>{m({id:a.id,filename:a.original_filename})},t=()=>{a.mime_type.startsWith("image/")||a.mime_type.includes("pdf")?l(!0):q()};return i?(0,b.jsxs)("div",{className:"flex items-center gap-3 p-2 hover:bg-muted/50 rounded-lg transition-colors",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)(o,{className:"w-6 h-6 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.original_filename}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[L(a.size)," • ",(0,J.formatDistanceToNow)(new Date(a.uploaded_at),{addSuffix:!0})]})]}),h&&(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",onClick:q,children:(0,b.jsx)(v.Download,{className:"w-4 h-4"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(p.Card,{className:"h-full",children:[(0,b.jsx)(p.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,b.jsx)(o,{className:"w-6 h-6 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)(p.CardTitle,{className:"text-base truncate",title:a.original_filename,children:a.original_filename}),(0,b.jsxs)(p.CardDescription,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{children:L(a.size)}),a.version>1&&(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:["v",a.version]})]})]})]}),h&&(0,b.jsxs)(H.DropdownMenu,{children:[(0,b.jsx)(H.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(n.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(E.MoreHorizontal,{className:"w-4 h-4"})})}),(0,b.jsxs)(H.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(H.DropdownMenuItem,{onClick:t,children:[(0,b.jsx)(w.Eye,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,b.jsxs)(H.DropdownMenuItem,{onClick:q,children:[(0,b.jsx)(v.Download,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,b.jsx)(H.DropdownMenuSeparator,{}),e&&(0,b.jsxs)(H.DropdownMenuItem,{onClick:()=>e(a),children:[(0,b.jsx)(x.Edit,{className:"w-4 h-4 mr-2"}),"Edit"]}),f&&(0,b.jsxs)(H.DropdownMenuItem,{onClick:()=>f(a),children:[(0,b.jsx)(z,{className:"w-4 h-4 mr-2"}),"Share"]}),g&&(0,b.jsxs)(H.DropdownMenuItem,{onClick:()=>g(a),children:[(0,b.jsx)(F.History,{className:"w-4 h-4 mr-2"}),"Versions"]}),(0,b.jsx)(H.DropdownMenuSeparator,{}),(0,b.jsxs)(H.DropdownMenuItem,{className:"text-destructive",children:[(0,b.jsx)(y.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})}),(0,b.jsxs)(p.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Badge,{variant:"secondary",children:a.category?.name?.en||a.category?.code||"Uncategorized"}),(0,b.jsxs)(s.Badge,{className:(0,K.cn)("text-xs",(a=>{let b={public:"bg-green-100 text-green-800",project:"bg-blue-100 text-blue-800",team:"bg-yellow-100 text-yellow-800",private:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800"};return b[a]||b.project})(a.access_level)),children:[(0,b.jsx)(C,{className:"w-3 h-3 mr-1"}),a.access_level]})]}),a.tags&&a.tags.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.tags.slice(0,3).map((a,c)=>(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(D,{className:"w-3 h-3 mr-1"}),a]},c)),a.tags.length>3&&(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:["+",a.tags.length-3]})]}),a.ocr_data&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(d.FileText,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:["Text extracted (",a.ocr_data.confidence,"% confidence)"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.User,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[a.uploader?.first_name," ",a.uploader?.last_name]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(A.Clock,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:(0,J.formatDistanceToNow)(new Date(a.uploaded_at),{addSuffix:!0})})]})]}),(a.project||a.house||a.work_entry)&&(0,b.jsxs)("div",{className:"pt-2 border-t",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Linked to:"}),(0,b.jsxs)("div",{className:"space-y-1",children:[a.project&&(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:["Project: ",a.project.name]}),a.house&&(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:["House: ",a.house.house_number]}),a.work_entry&&(0,b.jsxs)(s.Badge,{variant:"outline",className:"text-xs",children:["Work Entry: ",a.work_entry.stage_code]})]})]}),h&&(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:t,className:"flex-1",children:[(0,b.jsx)(w.Eye,{className:"w-4 h-4 mr-2"}),"Preview"]}),(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:q,className:"flex-1",children:[(0,b.jsx)(v.Download,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]}),(0,b.jsx)(r.Dialog,{open:k,onOpenChange:l,children:(0,b.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[80vh]",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:a.original_filename}),(0,b.jsxs)(r.DialogDescription,{children:[L(a.size)," • ",a.mime_type]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:a.mime_type.startsWith("image/")?(0,b.jsx)("img",{src:a.url,alt:a.original_filename,className:"max-w-full h-auto mx-auto"}):a.mime_type.includes("pdf")?(0,b.jsx)("iframe",{src:a.url,className:"w-full h-96",title:a.original_filename}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(G.FileIcon,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Preview not available for this file type"}),(0,b.jsxs)(n.Button,{onClick:q,className:"mt-4",children:[(0,b.jsx)(v.Download,{className:"w-4 h-4 mr-2"}),"Download File"]})]})})]})})]})}let N=(0,g.default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),O=(0,g.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),P=(0,g.default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var Q=a.i(80701);function R({projectId:a,houseId:d,workEntryId:g,teamId:h,showUpload:i=!0,title:j="Documents",description:k}){let[l,m]=(0,c.useState)("grid"),[q,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)("all"),[z,A]=(0,c.useState)(!1),{data:B,isLoading:C,error:D}=(0,I.useDocuments)({project_id:a,house_id:d,work_entry_id:g,team_id:h,search:q||void 0,category:"all"!==v?v:void 0,access_level:"all"!==x?x:void 0,page:1,per_page:50}),{data:E}=(0,I.useDocumentCategories)(),F=B?.items||[],G=B?.total||0,H=()=>{A(!1)};return D?(0,b.jsx)(p.Card,{children:(0,b.jsx)(p.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-destructive",children:"Failed to load documents"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:D.message})]})})}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:j}),k&&(0,b.jsx)("p",{className:"text-muted-foreground",children:k})]}),i&&(0,b.jsxs)(r.Dialog,{open:z,onOpenChange:A,children:[(0,b.jsx)(r.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(n.Button,{children:[(0,b.jsx)(e.Upload,{className:"mr-2 h-4 w-4"}),"Upload Documents"]})}),(0,b.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Upload Documents"}),(0,b.jsx)(r.DialogDescription,{children:"Upload and organize your project documents"})]}),(0,b.jsx)(t.DocumentUpload,{projectId:a,houseId:d,workEntryId:g,teamId:h,onUploadComplete:H})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsx)(p.CardHeader,{children:(0,b.jsx)(p.CardTitle,{className:"text-lg",children:"Filters"})}),(0,b.jsx)(p.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(o.Input,{placeholder:"Search documents...",value:q,onChange:a=>u(a.target.value),className:"pl-10"})]})}),(0,b.jsxs)(Q.Select,{value:v,onValueChange:a=>w(a),children:[(0,b.jsx)(Q.SelectTrigger,{className:"w-[200px]",children:(0,b.jsx)(Q.SelectValue,{placeholder:"Category"})}),(0,b.jsxs)(Q.SelectContent,{children:[(0,b.jsx)(Q.SelectItem,{value:"all",children:"All Categories"}),E?.map(a=>(0,b.jsx)(Q.SelectItem,{value:a.code,children:a.name_en||a.name_ru||a.code},a.code))]})]}),(0,b.jsxs)(Q.Select,{value:x,onValueChange:a=>y(a),children:[(0,b.jsx)(Q.SelectTrigger,{className:"w-[150px]",children:(0,b.jsx)(Q.SelectValue,{placeholder:"Access"})}),(0,b.jsxs)(Q.SelectContent,{children:[(0,b.jsx)(Q.SelectItem,{value:"all",children:"All Access"}),(0,b.jsx)(Q.SelectItem,{value:"public",children:"Public"}),(0,b.jsx)(Q.SelectItem,{value:"project",children:"Project"}),(0,b.jsx)(Q.SelectItem,{value:"team",children:"Team"}),(0,b.jsx)(Q.SelectItem,{value:"private",children:"Private"}),(0,b.jsx)(Q.SelectItem,{value:"admin",children:"Admin"})]})]}),(0,b.jsxs)("div",{className:"flex border rounded-md",children:[(0,b.jsx)(n.Button,{variant:"grid"===l?"default":"ghost",size:"sm",onClick:()=>m("grid"),className:"rounded-r-none",children:(0,b.jsx)(N,{className:"h-4 w-4"})}),(0,b.jsx)(n.Button,{variant:"list"===l?"default":"ghost",size:"sm",onClick:()=>m("list"),className:"rounded-l-none",children:(0,b.jsx)(O,{className:"h-4 w-4"})})]})]})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:[G," documents"]}),q&&(0,b.jsxs)("span",{children:['• Searching for "',q,'"']}),"all"!==v&&(0,b.jsx)(s.Badge,{variant:"secondary",children:E?.find(a=>a.code===v)?.name.en||v}),"all"!==x&&(0,b.jsxs)(s.Badge,{variant:"secondary",children:[x," access"]})]}),C?(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((a,c)=>(0,b.jsxs)(p.Card,{className:"animate-pulse",children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-1/2"})]}),(0,b.jsx)(p.CardContent,{children:(0,b.jsx)("div",{className:"h-20 bg-muted rounded"})})]},c))}):0===F.length?(0,b.jsx)(p.Card,{children:(0,b.jsx)(p.CardContent,{className:"p-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(P,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No documents found"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:q||"all"!==v||"all"!==x?"Try adjusting your filters or search terms":"Get started by uploading your first document"}),i&&(0,b.jsxs)(r.Dialog,{open:z,onOpenChange:A,children:[(0,b.jsx)(r.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(n.Button,{children:[(0,b.jsx)(e.Upload,{className:"mr-2 h-4 w-4"}),"Upload Documents"]})}),(0,b.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Upload Documents"}),(0,b.jsx)(r.DialogDescription,{children:"Upload and organize your project documents"})]}),(0,b.jsx)(t.DocumentUpload,{projectId:a,houseId:d,workEntryId:g,teamId:h,onUploadComplete:H})]})]})]})})}):(0,b.jsx)("div",{className:"grid"===l?"grid gap-4 md:grid-cols-2 lg:grid-cols-3":"space-y-2",children:F.map(a=>(0,b.jsx)(M,{document:a,compact:"list"===l,onEdit:a=>{console.log("Edit document:",a.id)},onShare:a=>{console.log("Share document:",a.id)},onViewVersions:a=>{console.log("View versions:",a.id)}},a.id))}),G>F.length&&(0,b.jsx)("div",{className:"text-center pt-4",children:(0,b.jsx)(n.Button,{variant:"outline",children:"Load More Documents"})})]})}var S=a.i(47507);function T(){let[a,g]=(0,c.useState)("all"),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),{user:y}=(0,S.useAuth)(),{data:z}=(0,I.useDocuments)({page:1,per_page:1}),{data:A}=(0,I.useDocuments)({uploaded_by:y?.id,page:1,per_page:1}),{data:B}=(0,I.useDocuments)({uploaded_after:new Date(Date.now()-6048e5).toISOString(),page:1,per_page:1}),{data:C}=(0,I.useDocumentCategories)(),D=(0,I.useSearchDocuments)(),E=async a=>{if(a.trim())try{let b=await D.mutateAsync({query:a,include_content:!0,highlight:!0,fuzzy:!0});console.log("Search results:",b)}catch(a){console.error("Search failed:",a)}};return(0,b.jsxs)("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Documents"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your project files and documents"})]}),(0,b.jsx)("div",{className:"flex items-center space-x-2",children:(0,b.jsxs)(r.Dialog,{open:w,onOpenChange:x,children:[(0,b.jsx)(r.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(n.Button,{children:[(0,b.jsx)(e.Upload,{className:"mr-2 h-4 w-4"}),"Upload Documents"]})}),(0,b.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(r.DialogHeader,{children:[(0,b.jsx)(r.DialogTitle,{children:"Upload Documents"}),(0,b.jsx)(r.DialogDescription,{children:"Upload and organize your project documents"})]}),(0,b.jsx)(t.DocumentUpload,{onUploadComplete:()=>x(!1)})]})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(p.CardTitle,{className:"text-sm font-medium",children:"Total Documents"}),(0,b.jsx)(d.FileText,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(p.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:z?.total||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all projects"})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(p.CardTitle,{className:"text-sm font-medium",children:"My Documents"}),(0,b.jsx)(j.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(p.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A?.total||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Uploaded by you"})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(p.CardTitle,{className:"text-sm font-medium",children:"Recent Documents"}),(0,b.jsx)(m,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(p.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:B?.total||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 7 days"})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(p.CardTitle,{className:"text-sm font-medium",children:"Categories"}),(0,b.jsx)(i,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(p.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:C?.length||0}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Document types"})]})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsx)(p.CardTitle,{className:"text-lg",children:"Document Search"}),(0,b.jsx)(p.CardDescription,{children:"Search across all documents including their content"})]}),(0,b.jsxs)(p.CardContent,{children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(o.Input,{placeholder:"Search documents and content...",value:u,onChange:a=>v(a.target.value),onKeyDown:a=>{"Enter"===a.key&&E(u)}})}),(0,b.jsxs)(n.Button,{onClick:()=>E(u),disabled:!u.trim()||D.isPending,children:[(0,b.jsx)(f.Search,{className:"h-4 w-4 mr-2"}),D.isPending?"Searching...":"Search"]})]}),D.data&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Found ",D.data.total," results"]})})]})]}),(0,b.jsxs)(p.Card,{children:[(0,b.jsx)(p.CardHeader,{children:(0,b.jsx)(q.Tabs,{value:a,onValueChange:g,className:"w-full",children:(0,b.jsxs)(q.TabsList,{className:"grid w-full grid-cols-4",children:[(0,b.jsxs)(q.TabsTrigger,{value:"all",children:["All Documents",z?.total&&(0,b.jsx)(s.Badge,{variant:"secondary",className:"ml-1 h-4 text-xs",children:z.total})]}),(0,b.jsxs)(q.TabsTrigger,{value:"my",children:["My Documents",A?.total&&(0,b.jsx)(s.Badge,{variant:"secondary",className:"ml-1 h-4 text-xs",children:A.total})]}),(0,b.jsxs)(q.TabsTrigger,{value:"recent",children:["Recent",B?.total&&(0,b.jsx)(s.Badge,{variant:"secondary",className:"ml-1 h-4 text-xs",children:B.total})]}),(0,b.jsx)(q.TabsTrigger,{value:"shared",children:"Shared"})]})})}),(0,b.jsx)(p.CardContent,{children:(0,b.jsx)(R,{...(()=>{switch(a){case"my":return{uploaded_by:y?.id};case"recent":return{uploaded_after:new Date(Date.now()-6048e5).toISOString()};case"shared":return{access_level:"public"};default:return{}}})(),showUpload:!1,title:"",description:""},a)})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsx)(p.Card,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)(p.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h,{className:"h-5 w-5"}),"Browse by Category"]}),(0,b.jsx)(p.CardDescription,{children:"Explore documents organized by type and category"})]})}),(0,b.jsx)(p.Card,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)(p.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(k.BarChart3,{className:"h-5 w-5"}),"Document Analytics"]}),(0,b.jsx)(p.CardDescription,{children:"View storage usage and document statistics"})]})}),(0,b.jsx)(p.Card,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:(0,b.jsxs)(p.CardHeader,{children:[(0,b.jsxs)(p.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Settings,{className:"h-5 w-5"}),"Document Settings"]}),(0,b.jsx)(p.CardDescription,{children:"Manage categories, access controls, and preferences"})]})})]})]})}}];

//# sourceMappingURL=src_app_%28dashboard%29_dashboard_documents_page_tsx_7d9a3ec1._.js.map