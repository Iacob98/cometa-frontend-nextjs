module.exports=[24987,a=>{"use strict";a.s(["MapPin",()=>b],24987);let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},29246,a=>{"use strict";a.s(["Textarea",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea"},15618,a=>{"use strict";a.s(["Plus",()=>b],15618);let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},81560,a=>{"use strict";a.s(["Trash2",()=>b],81560);let b=(0,a.i(70106).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},24569,a=>{"use strict";a.s(["Edit",()=>b],24569);let b=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},63519,a=>{"use strict";a.s(["Phone",()=>b],63519);let b=(0,a.i(70106).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},92258,a=>{"use strict";a.s(["Mail",()=>b],92258);let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},47349,(a,b,c)=>{"use strict";var d=a.r(72131);"function"==typeof Object.is&&Object.is,d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},72233,a=>{"use strict";a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],72233);var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(46872),f=a.i(72752),g=a.i(30553),h=a.i(87610);function i(){return()=>{}}var j="Avatar",[k,l]=(0,d.createContextScope)(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.Primitive.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,d)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=e?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,f.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,f.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,e.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,f.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.Primitive.img,{...m,ref:d,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.Primitive.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(68114);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(o,{ref:d,className:(0,u.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...c}));v.displayName=o.displayName;let w=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(q,{ref:d,className:(0,u.cn)("aspect-square h-full w-full",a),...c}));w.displayName=q.displayName;let x=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(s,{ref:d,className:(0,u.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...c}));x.displayName=s.displayName},10999,a=>{"use strict";a.s(["useCreateSupplier",()=>u,"useCreateSupplierContact",()=>y,"useCreateSupplierMaterial",()=>B,"useCreateSupplierProjectAssignment",()=>D,"useDeleteSupplier",()=>w,"useDeleteSupplierContact",()=>z,"useSupplier",()=>t,"useSupplierContacts",()=>x,"useSupplierMaterials",()=>A,"useSupplierProjects",()=>C,"useSuppliers",()=>s,"useUpdateSupplier",()=>v]);var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(23292);let f={all:["suppliers"],lists:()=>[...f.all,"list"],list:a=>[...f.lists(),{filters:a}],details:()=>[...f.all,"detail"],detail:a=>[...f.details(),a]};async function g(){let a=await fetch("/api/suppliers");if(!a.ok)throw Error("Failed to fetch suppliers");return((await a.json()).items||[]).map(a=>({...a,org_name:a.name}))}async function h(a){let b=await fetch(`/api/suppliers/${a}`);if(!b.ok)throw Error("Failed to fetch supplier");return b.json()}async function i(a){let b={...a,name:a.org_name,org_name:void 0},c=await fetch("/api/suppliers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to create supplier");let d=await c.json();return{...d,org_name:d.name}}async function j(a){let{id:b,...c}=a,d=await fetch(`/api/suppliers/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error("Failed to update supplier");return d.json()}async function k(a){if(!(await fetch(`/api/suppliers/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete supplier")}async function l(a){let b=await fetch(`/api/suppliers/${a}/contacts`);if(!b.ok)throw Error("Failed to fetch supplier contacts");return b.json()}async function m(a,b){let c=await fetch(`/api/suppliers/${a}/contacts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to create supplier contact");return c.json()}async function n(a,b){if(!(await fetch(`/api/suppliers/${a}/contacts/${b}`,{method:"DELETE"})).ok)throw Error("Failed to delete supplier contact")}async function o(a,b){let c=new URL(`/api/suppliers/${a}/materials`,window.location.origin);b&&c.searchParams.set("project_id",b);let d=await fetch(c.toString());if(!d.ok)throw Error("Failed to fetch supplier materials");return d.json()}async function p(a,b){let c=await fetch(`/api/suppliers/${a}/materials`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error((await c.json().catch(()=>({error:"Unknown error"}))).error||`Failed to create supplier material (${c.status})`);return c.json()}async function q(a){let b=await fetch(`/api/suppliers/${a}/projects`);if(!b.ok)throw Error("Failed to fetch supplier projects");return b.json()}async function r(a,b){let c=await fetch(`/api/suppliers/${a}/projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok)throw Error("Failed to assign supplier to project");return c.json()}function s(){return(0,b.useQuery)({queryKey:f.lists(),queryFn:g,staleTime:3e5})}function t(a){return(0,b.useQuery)({queryKey:f.detail(a),queryFn:()=>h(a),enabled:!!a,staleTime:3e5})}function u(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:i,onSuccess:b=>{a.setQueryData(f.lists(),(a=[])=>[...a,b]),a.invalidateQueries({queryKey:f.all}),e.toast.success("Supplier created successfully")},onError:a=>{e.toast.error(`Failed to create supplier: ${a.message}`)}})}function v(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:j,onSuccess:b=>{a.setQueryData(f.lists(),(a=[])=>a.map(a=>a.id===b.id?b:a)),a.setQueryData(f.detail(b.id),b),a.invalidateQueries({queryKey:f.all}),e.toast.success("Supplier updated successfully")},onError:a=>{e.toast.error(`Failed to update supplier: ${a.message}`)}})}function w(){let a=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:k,onSuccess:(b,c)=>{a.setQueryData(f.lists(),(a=[])=>a.filter(a=>a.id!==c)),a.removeQueries({queryKey:f.detail(c)}),a.invalidateQueries({queryKey:f.all}),e.toast.success("Supplier deleted successfully")},onError:a=>{e.toast.error(`Failed to delete supplier: ${a.message}`)}})}function x(a){return(0,b.useQuery)({queryKey:[...f.detail(a),"contacts"],queryFn:()=>l(a),enabled:!!a,staleTime:3e5})}function y(a){let b=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:b=>m(a,b),onSuccess:()=>{b.invalidateQueries({queryKey:[...f.detail(a),"contacts"]}),e.toast.success("Contact created successfully")},onError:a=>{e.toast.error(`Failed to create contact: ${a.message}`)}})}function z(a){let b=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:b=>n(a,b),onSuccess:()=>{b.invalidateQueries({queryKey:[...f.detail(a),"contacts"]}),e.toast.success("Contact deleted successfully")},onError:a=>{e.toast.error(`Failed to delete contact: ${a.message}`)}})}function A(a,c){return(0,b.useQuery)({queryKey:[...f.detail(a),"materials",{projectId:c}],queryFn:()=>o(a,c),enabled:!!a,staleTime:3e5})}function B(a){let b=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:b=>p(a,b),onSuccess:()=>{b.invalidateQueries({queryKey:[...f.detail(a),"materials"]}),e.toast.success("Material created successfully")},onError:a=>{e.toast.error(`Failed to create material: ${a.message}`)}})}function C(a){return(0,b.useQuery)({queryKey:[...f.detail(a),"projects"],queryFn:()=>q(a),enabled:!!a,staleTime:3e5})}function D(a){let b=(0,d.useQueryClient)();return(0,c.useMutation)({mutationFn:b=>r(a,b),onSuccess:()=>{b.invalidateQueries({queryKey:[...f.detail(a),"projects"]}),e.toast.success("Supplier assigned to project successfully")},onError:a=>{e.toast.error(`Failed to assign supplier to project: ${a.message}`)}})}}];

//# sourceMappingURL=_b160e1b4._.js.map