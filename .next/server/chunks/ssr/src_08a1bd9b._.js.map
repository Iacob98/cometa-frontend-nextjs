{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACkC;IACrC,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,qCAAqC;QAClD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-equipment.ts"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\n\nexport interface Equipment {\n  id: string;\n  type: 'machine' | 'tool' | 'measuring_device';\n  name: string;\n  inventory_no?: string;\n  owned: boolean;\n  status: 'available' | 'in_use' | 'maintenance' | 'broken';\n  purchase_price_eur: number;\n  rental_price_per_day_eur: number;\n  rental_price_per_hour_eur: number;\n  current_location?: string;\n  quantity?: number; // Available quantity in inventory\n}\n\nexport interface EquipmentAssignment {\n  id: string;\n  equipment_id: string;\n  resource_id?: string; // For unified assignments\n  project_id?: string; // Now optional - crew-based logic\n  cabinet_id?: string;\n  crew_id: string; // Now required - crew-based logic\n  from_ts: string;\n  to_ts?: string;\n  is_permanent: boolean;\n  rental_cost_per_day: number;\n  equipment: {\n    name: string;\n    type: string;\n    inventory_no?: string;\n  };\n  project_name?: string;\n  crew_name?: string;\n  is_active: boolean;\n  assignment_type?: 'equipment' | 'vehicle'; // For unified assignments\n  resource_type?: 'equipment' | 'vehicle'; // For UI distinction\n}\n\nexport interface CreateEquipmentData {\n  type: string;\n  name: string;\n  inventory_no?: string;\n  owned?: boolean;\n  status?: string;\n  purchase_price_eur?: number;\n  rental_price_per_day_eur?: number;\n  rental_price_per_hour_eur?: number;\n  current_location?: string;\n}\n\nexport interface CreateAssignmentData {\n  equipment_id: string;\n  project_id?: string; // Now optional - crew-based logic\n  cabinet_id?: string;\n  crew_id: string; // Now required - crew-based logic\n  from_ts: string;\n  to_ts?: string;\n  is_permanent?: boolean;\n  rental_cost_per_day?: number;\n}\n\nexport interface EquipmentAnalytics {\n  overview: {\n    totalHours: number;\n    efficiencyScore: number;\n    downtimeRate: number;\n    revenueGenerated: number;\n  };\n  statusDistribution: {\n    name: string;\n    value: number;\n    color: string;\n  }[];\n  utilization: {\n    name: string;\n    hours: number;\n    revenue: number;\n    assignments: number;\n  }[];\n  assignments: {\n    total: number;\n    active: number;\n    averageDailyCost: number;\n    totalDailyRevenue: number;\n    averageDuration: number;\n  };\n  equipment: {\n    totalCount: number;\n    byType: Record<string, { count: number; value: number }>;\n    byStatus: Record<string, number>;\n  };\n}\n\ninterface EquipmentFilters {\n  type?: string;\n  status?: string;\n  owned?: string;\n  search?: string;\n  page?: number;\n  per_page?: number;\n}\n\ninterface AssignmentFilters {\n  equipment_id?: string;\n  project_id?: string;\n  crew_id?: string;\n  active_only?: boolean;\n}\n\nconst api = {\n  getEquipment: async (filters?: EquipmentFilters): Promise<{ items: Equipment[]; total: number; page: number; per_page: number; total_pages: number }> => {\n    const params = new URLSearchParams();\n    if (filters?.type) params.append('type', filters.type);\n    if (filters?.status) params.append('status', filters.status);\n    if (filters?.owned) params.append('owned', filters.owned);\n    if (filters?.search) params.append('search', filters.search);\n    if (filters?.page) params.append('page', filters.page.toString());\n    if (filters?.per_page) params.append('per_page', filters.per_page.toString());\n\n    const url = `/api/equipment${params.toString() ? `?${params.toString()}` : ''}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch equipment');\n    }\n\n    return response.json();\n  },\n\n  getEquipmentItem: async (id: string): Promise<Equipment> => {\n    const response = await fetch(`/api/equipment/${id}`);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch equipment');\n    }\n\n    return response.json();\n  },\n\n  createEquipment: async (data: CreateEquipmentData): Promise<Equipment> => {\n    const response = await fetch('/api/equipment', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to create equipment');\n    }\n\n    return response.json();\n  },\n\n  updateEquipment: async (id: string, data: Partial<Equipment>): Promise<{ success: boolean }> => {\n    const response = await fetch(`/api/equipment/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to update equipment');\n    }\n\n    return response.json();\n  },\n\n  deleteEquipment: async (id: string): Promise<{ success: boolean }> => {\n    const response = await fetch(`/api/equipment/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to delete equipment');\n    }\n\n    return response.json();\n  },\n\n  getAssignments: async (filters?: AssignmentFilters): Promise<EquipmentAssignment[]> => {\n    const params = new URLSearchParams();\n    if (filters?.equipment_id) params.append('equipment_id', filters.equipment_id);\n    if (filters?.project_id) params.append('project_id', filters.project_id);\n    if (filters?.crew_id) params.append('crew_id', filters.crew_id);\n    if (filters?.active_only) params.append('active_only', filters.active_only.toString());\n\n    // Use our new equipment assignments API\n    const url = `/api/equipment/assignments${params.toString() ? `?${params.toString()}` : ''}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch equipment assignments');\n    }\n\n    const data = await response.json();\n\n    // Transform our API response to match expected format\n    const assignments = data.items || data;\n\n    // For now, use basic transformation. TODO: Enhance with actual equipment/crew names\n    return assignments.map((assignment: any) => ({\n      id: assignment.id,\n      equipment_id: assignment.equipment_id || assignment.resource_id,\n      project_id: assignment.project_id,\n      crew_id: assignment.crew_id,\n      from_ts: assignment.assigned_at,\n      to_ts: assignment.returned_at,\n      is_permanent: !assignment.returned_at, // If no return date, consider permanent\n      rental_cost_per_day: assignment.daily_rental_cost || 0,\n      equipment: {\n        name: assignment.equipment_name || `Equipment ${assignment.equipment_id?.slice(-8) || 'Unknown'}`,\n        type: assignment.resource_type || 'equipment',\n        inventory_no: assignment.equipment_id\n      },\n      project_name: assignment.project_name || (assignment.project_id ? `Project ${assignment.project_id.slice(-8)}` : undefined),\n      crew_name: assignment.crew_name || (assignment.crew_id ? `Crew ${assignment.crew_id.slice(-8)}` : undefined),\n      is_active: !assignment.returned_at,\n      assignment_type: assignment.resource_type,\n      resource_type: assignment.resource_type,\n      notes: assignment.notes\n    }));\n  },\n\n  createAssignment: async (data: CreateAssignmentData): Promise<{ success: boolean; assignment_id: string; message: string }> => {\n    const response = await fetch('/api/resources/equipment-assignments', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to create assignment');\n    }\n\n    return response.json();\n  },\n\n  updateAssignment: async (id: string, data: Partial<EquipmentAssignment>): Promise<{ success: boolean; message: string }> => {\n    const response = await fetch(`/api/resources/equipment-assignments/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to update assignment');\n    }\n\n    return response.json();\n  },\n\n  deleteAssignment: async (id: string): Promise<{ success: boolean; message: string }> => {\n    const response = await fetch(`/api/resources/equipment-assignments/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to delete assignment');\n    }\n\n    return response.json();\n  },\n\n  getAnalytics: async (): Promise<EquipmentAnalytics> => {\n    const response = await fetch('/api/equipment/analytics');\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch equipment analytics');\n    }\n\n    return response.json();\n  },\n};\n\nexport function useEquipment(filters?: EquipmentFilters) {\n  return useQuery({\n    queryKey: ['equipment', filters],\n    queryFn: () => api.getEquipment(filters),\n  });\n}\n\nexport function useEquipmentItem(id: string) {\n  return useQuery({\n    queryKey: ['equipment', id],\n    queryFn: () => api.getEquipmentItem(id),\n    enabled: !!id,\n  });\n}\n\nexport function useCreateEquipment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.createEquipment,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      toast.success('Equipment created successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useUpdateEquipment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Equipment> }) =>\n      api.updateEquipment(id, data),\n    onSuccess: (_, { id }) => {\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      queryClient.invalidateQueries({ queryKey: ['equipment', id] });\n      toast.success('Equipment updated successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useDeleteEquipment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.deleteEquipment,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      toast.success('Equipment deleted successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useEquipmentAssignments(filters?: AssignmentFilters) {\n  return useQuery({\n    queryKey: ['equipment-assignments', filters],\n    queryFn: () => api.getAssignments(filters),\n    staleTime: 30 * 1000, // 30 seconds - crew assignments change frequently\n  });\n}\n\nexport function useCreateAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.createAssignment,\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['equipment-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      queryClient.invalidateQueries({ queryKey: ['crews'] }); // Also invalidate crew queries\n      toast.success(data.message || 'Assignment created successfully');\n    },\n    onError: (error: Error) => {\n      // Enhanced error handling for crew validation\n      if (error.message.includes('Crew not found') || error.message.includes('CREW_NOT_FOUND')) {\n        toast.error('Selected crew is not found or inactive. Please select a valid crew.');\n      } else if (error.message.includes('crew_id') || error.message.includes('Crew ID')) {\n        toast.error('Crew selection is required. Please select a crew for this assignment.');\n      } else {\n        toast.error(error.message);\n      }\n    },\n  });\n}\n\nexport function useUpdateAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<EquipmentAssignment> }) =>\n      api.updateAssignment(id, data),\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['equipment-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      toast.success(data.message || 'Assignment updated successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useDeleteAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.deleteAssignment,\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['equipment-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['equipment'] });\n      toast.success(data.message || 'Assignment deleted successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useEquipmentAnalytics() {\n  return useQuery({\n    queryKey: ['equipment-analytics'],\n    queryFn: () => api.getAnalytics(),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\n// New hook for crew-based equipment assignments (only equipment)\nexport function useCrewEquipmentAssignments(crew_id?: string) {\n  return useQuery({\n    queryKey: ['equipment-assignments', 'crew', crew_id],\n    queryFn: async () => {\n      const response = await fetch(`/api/resources/equipment-assignments?crew_id=${crew_id}&active_only=true`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch equipment assignments');\n      }\n      return response.json();\n    },\n    enabled: !!crew_id,\n    staleTime: 30 * 1000, // 30 seconds - crew assignments change frequently\n  });\n}\n\n// Hook for getting equipment assignments by project (filtered through crew assignments)\nexport function useProjectEquipmentAssignments(project_id?: string) {\n  return useQuery({\n    queryKey: ['equipment-assignments', 'project', project_id],\n    queryFn: () => api.getAssignments({ project_id }),\n    enabled: !!project_id,\n    staleTime: 60 * 1000, // 1 minute - project assignments are more stable\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 529, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-vehicles.ts"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\n\nexport interface Vehicle {\n  id: string;\n  brand: string;\n  model: string;\n  plate_number: string;\n  type: 'van' | 'truck' | 'trailer' | 'excavator' | 'other' | 'car';\n  status: 'available' | 'in_use' | 'maintenance' | 'broken';\n  rental_cost_per_day: number;\n  fuel_type?: string;\n  year_manufactured?: number;\n  description?: string;\n  is_active: boolean;\n  full_name?: string;\n  age?: number;\n  current_assignment?: any;\n  assignments_count?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface VehicleAssignment {\n  id: string;\n  vehicle_id: string;\n  project_id?: string; // Now optional - crew-based logic\n  crew_id: string; // Now required - crew-based logic\n  from_ts: string;\n  to_ts?: string;\n  is_permanent: boolean;\n  rental_cost_per_day: number;\n  vehicle: {\n    brand: string;\n    model: string;\n    plate_number: string;\n    type: string;\n  };\n  project_name?: string;\n  crew_name?: string;\n  is_active: boolean;\n}\n\nexport interface CreateVehicleData {\n  brand: string;\n  model: string;\n  plate_number: string;\n  type: string;\n  status?: string;\n  rental_cost_per_day?: number;\n  fuel_type?: string;\n  year_manufactured?: number;\n  description?: string;\n}\n\nexport interface CreateVehicleAssignmentData {\n  vehicle_id: string;\n  project_id?: string; // Now optional - crew-based logic\n  crew_id: string; // Now required - crew-based logic\n  from_ts: string;\n  to_ts?: string;\n  is_permanent?: boolean;\n  rental_cost_per_day?: number;\n}\n\nexport interface VehicleAnalytics {\n  overview: {\n    totalHours: number;\n    efficiencyScore: number;\n    downtimeRate: number;\n    revenueGenerated: number;\n  };\n  statusDistribution: {\n    name: string;\n    value: number;\n    color: string;\n  }[];\n  utilization: {\n    name: string;\n    hours: number;\n    revenue: number;\n    assignments: number;\n  }[];\n  assignments: {\n    total: number;\n    active: number;\n    averageDailyCost: number;\n    totalDailyRevenue: number;\n    averageDuration: number;\n  };\n  vehicles: {\n    totalCount: number;\n    byType: Record<string, { count: number; value: number }>;\n    byStatus: Record<string, number>;\n  };\n}\n\ninterface VehicleFilters {\n  type?: string;\n  status?: string;\n  owned?: string;\n  search?: string;\n  page?: number;\n  per_page?: number;\n}\n\ninterface VehicleAssignmentFilters {\n  vehicle_id?: string;\n  project_id?: string;\n  crew_id?: string;\n  active_only?: boolean;\n}\n\nconst api = {\n  getVehicles: async (filters?: VehicleFilters): Promise<{ items: Vehicle[]; total: number; page: number; per_page: number; total_pages: number }> => {\n    const params = new URLSearchParams();\n    if (filters?.type) params.append('type', filters.type);\n    if (filters?.status) params.append('status', filters.status);\n    if (filters?.owned) params.append('owned', filters.owned);\n    if (filters?.search) params.append('search', filters.search);\n    if (filters?.page) params.append('page', filters.page.toString());\n    if (filters?.per_page) params.append('per_page', filters.per_page.toString());\n\n    const url = `/api/vehicles${params.toString() ? `?${params.toString()}` : ''}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch vehicles');\n    }\n\n    const data = await response.json();\n\n    // Transform the API response to match expected format\n    return {\n      items: data.vehicles || [],\n      total: data.pagination?.total || 0,\n      page: data.pagination?.page || 1,\n      per_page: data.pagination?.per_page || 20,\n      total_pages: data.pagination?.total_pages || 1\n    };\n  },\n\n  getVehicle: async (id: string): Promise<Vehicle> => {\n    const response = await fetch(`/api/vehicles/${id}`);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch vehicle');\n    }\n\n    return response.json();\n  },\n\n  createVehicle: async (data: CreateVehicleData): Promise<Vehicle> => {\n    const response = await fetch('/api/vehicles', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to create vehicle');\n    }\n\n    const result = await response.json();\n    return result.vehicle || result;\n  },\n\n  updateVehicle: async (id: string, data: Partial<Vehicle>): Promise<{ success: boolean }> => {\n    const response = await fetch(`/api/vehicles/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to update vehicle');\n    }\n\n    return response.json();\n  },\n\n  deleteVehicle: async (id: string): Promise<{ success: boolean }> => {\n    const response = await fetch(`/api/vehicles/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to delete vehicle');\n    }\n\n    return response.json();\n  },\n\n  getVehicleAssignments: async (filters?: VehicleAssignmentFilters): Promise<VehicleAssignment[]> => {\n    const params = new URLSearchParams();\n    if (filters?.vehicle_id) params.append('vehicle_id', filters.vehicle_id);\n    if (filters?.project_id) params.append('project_id', filters.project_id);\n    if (filters?.crew_id) params.append('crew_id', filters.crew_id);\n    if (filters?.active_only) params.append('active_only', filters.active_only.toString());\n\n    // Use new vehicles/assignments endpoint for crew-based logic\n    const url = `/api/resources/vehicle-assignments${params.toString() ? `?${params.toString()}` : ''}`;\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch vehicle assignments');\n    }\n\n    return response.json();\n  },\n\n  createVehicleAssignment: async (data: CreateVehicleAssignmentData): Promise<{ success: boolean; assignment_id: string; message: string }> => {\n    // Use new vehicles/assignments endpoint with crew-based logic\n    const response = await fetch('/api/resources/vehicle-assignments', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        vehicle_id: data.vehicle_id,\n        crew_id: data.crew_id, // Now required\n        project_id: data.project_id, // Now optional\n        from_ts: data.from_ts,\n        to_ts: data.to_ts,\n        is_permanent: data.is_permanent || false,\n        rental_cost_per_day: data.rental_cost_per_day\n      }),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to create vehicle assignment');\n    }\n\n    return response.json();\n  },\n\n  updateVehicleAssignment: async (id: string, data: Partial<VehicleAssignment>): Promise<{ success: boolean; message: string }> => {\n    // Use new vehicles/assignments endpoint\n    const response = await fetch(`/api/resources/vehicle-assignments/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to update vehicle assignment');\n    }\n\n    return response.json();\n  },\n\n  deleteVehicleAssignment: async (id: string): Promise<{ success: boolean; message: string }> => {\n    // Use new vehicles/assignments endpoint\n    const response = await fetch(`/api/resources/vehicle-assignments/${id}`, {\n      method: 'DELETE',\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.error || 'Failed to delete vehicle assignment');\n    }\n\n    return response.json();\n  },\n\n  getAvailableVehicles: async (): Promise<Vehicle[]> => {\n    const response = await fetch('/api/resources/vehicles/available');\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch available vehicles');\n    }\n\n    return response.json();\n  },\n\n  getVehicleAnalytics: async (): Promise<VehicleAnalytics> => {\n    const response = await fetch('/api/vehicles/analytics');\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch vehicle analytics');\n    }\n\n    return response.json();\n  },\n};\n\nexport function useVehicles(filters?: VehicleFilters) {\n  return useQuery({\n    queryKey: ['vehicles', filters],\n    queryFn: () => api.getVehicles(filters),\n  });\n}\n\nexport function useVehicle(id: string) {\n  return useQuery({\n    queryKey: ['vehicles', id],\n    queryFn: () => api.getVehicle(id),\n    enabled: !!id,\n  });\n}\n\nexport function useCreateVehicle() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.createVehicle,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      toast.success('Vehicle created successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useUpdateVehicle() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Vehicle> }) =>\n      api.updateVehicle(id, data),\n    onSuccess: (_, { id }) => {\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      queryClient.invalidateQueries({ queryKey: ['vehicles', id] });\n      toast.success('Vehicle updated successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useDeleteVehicle() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.deleteVehicle,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      toast.success('Vehicle deleted successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useVehicleAssignments(filters?: VehicleAssignmentFilters) {\n  return useQuery({\n    queryKey: ['vehicle-assignments', filters],\n    queryFn: () => api.getVehicleAssignments(filters),\n    staleTime: 30 * 1000, // 30 seconds - crew assignments change frequently\n  });\n}\n\nexport function useCreateVehicleAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.createVehicleAssignment,\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['vehicle-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      queryClient.invalidateQueries({ queryKey: ['crews'] }); // Also invalidate crew queries\n      toast.success(data.message || 'Vehicle assignment created successfully');\n    },\n    onError: (error: Error) => {\n      // Enhanced error handling for crew validation\n      if (error.message.includes('Crew not found') || error.message.includes('CREW_NOT_FOUND')) {\n        toast.error('Selected crew is not found or inactive. Please select a valid crew.');\n      } else if (error.message.includes('crew_id') || error.message.includes('Crew ID')) {\n        toast.error('Crew selection is required. Please select a crew for this assignment.');\n      } else {\n        toast.error(error.message);\n      }\n    },\n  });\n}\n\nexport function useUpdateVehicleAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<VehicleAssignment> }) =>\n      api.updateVehicleAssignment(id, data),\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['vehicle-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      toast.success(data.message || 'Vehicle assignment updated successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useDeleteVehicleAssignment() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: api.deleteVehicleAssignment,\n    onSuccess: (data) => {\n      queryClient.invalidateQueries({ queryKey: ['vehicle-assignments'] });\n      queryClient.invalidateQueries({ queryKey: ['vehicles'] });\n      toast.success(data.message || 'Vehicle assignment deleted successfully');\n    },\n    onError: (error: Error) => {\n      toast.error(error.message);\n    },\n  });\n}\n\nexport function useAvailableVehicles() {\n  return useQuery({\n    queryKey: ['vehicles', 'available'],\n    queryFn: () => api.getAvailableVehicles(),\n    staleTime: 30 * 1000, // 30 seconds\n  });\n}\n\nexport function useVehicleAnalytics() {\n  return useQuery({\n    queryKey: ['vehicle-analytics'],\n    queryFn: () => api.getVehicleAnalytics(),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\n// New hook for crew-based vehicle assignments (only vehicles)\nexport function useCrewVehicleAssignments(crew_id?: string) {\n  return useQuery({\n    queryKey: ['vehicle-assignments', 'crew', crew_id],\n    queryFn: async () => {\n      const response = await fetch(`/api/resources/vehicle-assignments?crew_id=${crew_id}&active_only=true`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch vehicle assignments');\n      }\n      return response.json();\n    },\n    enabled: !!crew_id,\n    staleTime: 30 * 1000, // 30 seconds - crew assignments change frequently\n  });\n}\n\n// Hook for getting vehicle assignments by project (filtered through crew assignments)\nexport function useProjectVehicleAssignments(project_id?: string) {\n  return useQuery({\n    queryKey: ['vehicle-assignments', 'project', project_id],\n    queryFn: () => api.getVehicleAssignments({ project_id }),\n    enabled: !!project_id,\n    staleTime: 60 * 1000, // 1 minute - project assignments are more stable\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/app/%28dashboard%29/dashboard/equipment/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { format } from \"date-fns\";\nimport {\n  Settings,\n  Plus,\n  Filter,\n  ArrowLeft,\n  Search,\n  Wrench,\n  Truck,\n  Activity,\n  BarChart3,\n  TrendingUp,\n  AlertTriangle,\n  CheckCircle,\n  XCircle,\n  Clock,\n  Edit,\n  Trash2,\n  Package,\n  PieChart as PieChartIcon,\n  Loader2,\n  Car\n} from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\nimport { useEquipment, useEquipmentAssignments, useDeleteAssignment, useEquipmentAnalytics } from \"@/hooks/use-equipment\";\nimport { useVehicles, useVehicleAssignments } from \"@/hooks/use-vehicles\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell, LineChart, Line, Legend } from 'recharts';\n\nconst statusColors = {\n  available: \"bg-green-100 text-green-800 border-green-200\",\n  in_use: \"bg-blue-100 text-blue-800 border-blue-200\",\n  maintenance: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n  broken: \"bg-red-100 text-red-800 border-red-200\",\n};\n\nconst statusLabels = {\n  available: \"Available\",\n  in_use: \"In Use\",\n  maintenance: \"Maintenance\",\n  broken: \"Broken\",\n};\n\nconst statusIcons = {\n  available: CheckCircle,\n  in_use: Activity,\n  maintenance: Clock,\n  broken: XCircle,\n};\n\nconst typeColors = {\n  machine: \"bg-purple-100 text-purple-800 border-purple-200\",\n  tool: \"bg-orange-100 text-orange-800 border-orange-200\",\n  measuring_device: \"bg-cyan-100 text-cyan-800 border-cyan-200\",\n  // Vehicle types\n  van: \"bg-blue-100 text-blue-800 border-blue-200\",\n  truck: \"bg-indigo-100 text-indigo-800 border-indigo-200\",\n  trailer: \"bg-gray-100 text-gray-800 border-gray-200\",\n  excavator: \"bg-yellow-100 text-yellow-800 border-yellow-200\",\n  other: \"bg-slate-100 text-slate-800 border-slate-200\",\n} as const;\n\nconst typeLabels = {\n  machine: \"Machine\",\n  tool: \"Tool\",\n  measuring_device: \"Measuring Device\",\n  // Vehicle types\n  van: \"Van\",\n  truck: \"Truck\",\n  trailer: \"Trailer\",\n  excavator: \"Excavator\",\n  other: \"Other Vehicle\",\n} as const;\n\nexport default function EquipmentPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [activeTab, setActiveTab] = useState(\"fleet\");\n  const [filters, setFilters] = useState({\n    type: \"\",\n    status: \"\",\n    owned: \"\",\n    search: \"\",\n  });\n\n  // Handle URL tab parameter\n  useEffect(() => {\n    const tabParam = searchParams.get('tab');\n    if (tabParam && ['fleet', 'assignments', 'usage', 'management'].includes(tabParam)) {\n      setActiveTab(tabParam);\n    }\n  }, [searchParams]);\n\n  const { data: equipmentData, isLoading } = useEquipment({\n    ...filters,\n    per_page: 1000\n  });\n  const { data: vehiclesData, isLoading: vehiclesLoading } = useVehicles({\n    ...filters,\n    per_page: 1000\n  });\n  const { data: equipmentAssignments } = useEquipmentAssignments({ active_only: true });\n  const { data: vehicleAssignments } = useVehicleAssignments({ active_only: true });\n  const { data: analytics, isLoading: analyticsLoading } = useEquipmentAnalytics();\n  const deleteAssignmentMutation = useDeleteAssignment();\n\n  const equipment = equipmentData?.items || [];\n  const vehicles = vehiclesData?.items || [];\n\n  // Combine equipment and vehicle assignments\n  const assignments = [\n    ...(equipmentAssignments || []).map(assignment => ({\n      ...assignment,\n      assignment_type: 'equipment' as const,\n      resource_type: 'equipment' as const\n    })),\n    ...(vehicleAssignments || []).map(assignment => ({\n      ...assignment,\n      id: assignment.id,\n      equipment_id: assignment.vehicle_id, // Map vehicle_id to equipment_id for consistency\n      equipment: assignment.vehicle ? {\n        name: `${assignment.vehicle.brand} ${assignment.vehicle.model}`,\n        type: assignment.vehicle.type,\n        inventory_no: assignment.vehicle.plate_number\n      } : null,\n      assignment_type: 'vehicle' as const,\n      resource_type: 'vehicle' as const,\n      from_ts: assignment.from_ts,\n      to_ts: assignment.to_ts,\n      crew_id: assignment.crew_id,\n      project_id: assignment.project_id,\n      crew_name: assignment.crew?.name,\n      project_name: assignment.project?.name\n    }))\n  ];\n\n  // Combine equipment and vehicles for display with consistent format\n  const allResources = [\n    ...equipment.map(item => ({\n      ...item,\n      resource_type: 'equipment' as const,\n      plate_number: item.inventory_no, // Map inventory_no to plate_number for consistency\n      brand: item.name,\n      model: item.type\n    })),\n    ...vehicles.map(item => ({\n      ...item,\n      resource_type: 'vehicle' as const,\n      name: `${item.brand} ${item.model}`,\n      inventory_no: item.plate_number, // Map plate_number to inventory_no for consistency\n      type: item.type\n    }))\n  ];\n\n  const handleFilterChange = (key: string, value: string) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value === \"all\" ? \"\" : value,\n    }));\n  };\n\n  const handleDeleteEquipment = async (equipmentId: string, equipmentName: string) => {\n    if (!confirm(`Are you sure you want to delete \"${equipmentName}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/equipment/${equipmentId}`, {\n        method: 'DELETE',\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        const errorMessage = error.error || 'Failed to delete equipment';\n\n        // Provide more user-friendly error messages\n        if (errorMessage.includes('currently assigned')) {\n          toast.error(`Cannot delete \"${equipmentName}\": Equipment is currently assigned to a project. Please remove all assignments first.`);\n        } else if (errorMessage.includes('in use')) {\n          toast.error(`Cannot delete \"${equipmentName}\": Equipment is currently in use. Please change status first.`);\n        } else {\n          toast.error(`Failed to delete \"${equipmentName}\": ${errorMessage}`);\n        }\n        return;\n      }\n\n      toast.success(`Equipment \"${equipmentName}\" deleted successfully`);\n\n      // Refresh the page to update the equipment list\n      window.location.reload();\n    } catch (error) {\n      console.error('Delete equipment error:', error);\n      const errorMessage = error instanceof Error ? error.message : 'Failed to delete equipment';\n\n      // Provide contextual error messages\n      if (errorMessage.includes('currently assigned')) {\n        toast.error(`Cannot delete \"${equipmentName}\": Equipment is currently assigned to a project. Please remove all assignments first.`);\n      } else {\n        toast.error(`Failed to delete \"${equipmentName}\": ${errorMessage}`);\n      }\n    }\n  };\n\n  const handleEditAssignment = (assignmentId: string) => {\n    router.push(`/dashboard/equipment/assignments/${assignmentId}`);\n  };\n\n  const handleDeleteAssignment = async (assignmentId: string, equipmentName: string) => {\n    if (!confirm(`Are you sure you want to delete the assignment for \"${equipmentName}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await deleteAssignmentMutation.mutateAsync(assignmentId);\n    } catch (error) {\n      // Error handling is done in the mutation hook\n      console.error('Delete assignment error:', error);\n    }\n  };\n\n  // Calculate statistics\n  const stats = allResources.reduce(\n    (acc, item) => {\n      acc.total += 1;\n      acc.totalValue += item.purchase_price_eur || 0;\n\n      if (item.status === \"available\") acc.available += 1;\n      else if (item.status === \"in_use\") acc.inUse += 1;\n      else if (item.status === \"maintenance\") acc.maintenance += 1;\n      else if (item.status === \"broken\") acc.broken += 1;\n\n      if (item.owned) acc.owned += 1;\n      else acc.rented += 1;\n\n      return acc;\n    },\n    {\n      total: 0,\n      totalValue: 0,\n      available: 0,\n      inUse: 0,\n      maintenance: 0,\n      broken: 0,\n      owned: 0,\n      rented: 0,\n    }\n  );\n\n  const utilizationRate = stats.total > 0 ? Math.round((stats.inUse / stats.total) * 100) : 0;\n\n  if (isLoading || vehiclesLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <Skeleton className=\"h-8 w-64 mb-2\" />\n            <Skeleton className=\"h-4 w-96\" />\n          </div>\n          <Skeleton className=\"h-10 w-32\" />\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {Array.from({ length: 4 }).map((_, i) => (\n            <Card key={i}>\n              <CardContent className=\"p-6\">\n                <Skeleton className=\"h-4 w-20 mb-2\" />\n                <Skeleton className=\"h-8 w-16 mb-1\" />\n                <Skeleton className=\"h-3 w-24\" />\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <Skeleton className=\"h-64 w-full\" />\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => router.back()}\n            className=\"flex items-center space-x-2\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            <span>Back</span>\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight\">Equipment & Vehicle Management</h1>\n            <p className=\"text-muted-foreground\">\n              Manage your equipment tools, vehicles, assignments, and maintenance\n            </p>\n          </div>\n        </div>\n        <div className=\"flex space-x-2\">\n          <Button variant=\"outline\">\n            <BarChart3 className=\"mr-2 h-4 w-4\" />\n            Reports\n          </Button>\n          <Button variant=\"outline\" onClick={() => router.push(\"/dashboard/vehicles/new\")}>\n            <Car className=\"mr-2 h-4 w-4\" />\n            Add Vehicle\n          </Button>\n          <Button onClick={() => router.push(\"/dashboard/equipment/new\")}>\n            <Plus className=\"mr-2 h-4 w-4\" />\n            Add Equipment\n          </Button>\n        </div>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Total Equipment</p>\n                <p className=\"text-2xl font-bold\">{stats.total}</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  {stats.totalValue.toLocaleString()} value\n                </p>\n              </div>\n              <Package className=\"h-8 w-8 text-blue-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Utilization Rate</p>\n                <p className=\"text-2xl font-bold\">{utilizationRate}%</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  {stats.inUse} in use\n                </p>\n              </div>\n              <TrendingUp className=\"h-8 w-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Available</p>\n                <p className=\"text-2xl font-bold text-green-600\">{stats.available}</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  Ready for assignment\n                </p>\n              </div>\n              <CheckCircle className=\"h-8 w-8 text-green-600\" />\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-muted-foreground\">Attention Needed</p>\n                <p className=\"text-2xl font-bold text-yellow-600\">{stats.maintenance + stats.broken}</p>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  Maintenance & repairs\n                </p>\n              </div>\n              <AlertTriangle className=\"h-8 w-8 text-yellow-600\" />\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Main Content */}\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"fleet\" className=\"flex items-center space-x-2\">\n            <Wrench className=\"h-4 w-4\" />\n            <span>Equipment Fleet</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"assignments\" className=\"flex items-center space-x-2\">\n            <Truck className=\"h-4 w-4\" />\n            <span>Assignments</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"usage\" className=\"flex items-center space-x-2\">\n            <Activity className=\"h-4 w-4\" />\n            <span>Usage & Analytics</span>\n          </TabsTrigger>\n          <TabsTrigger value=\"management\" className=\"flex items-center space-x-2\">\n            <Settings className=\"h-4 w-4\" />\n            <span>Management</span>\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"fleet\" className=\"space-y-4\">\n          {/* Filters */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Filter className=\"h-5 w-5\" />\n                <span>Filters</span>\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Search</label>\n                  <div className=\"relative\">\n                    <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"Search equipment...\"\n                      value={filters.search}\n                      onChange={(e) => handleFilterChange(\"search\", e.target.value)}\n                      className=\"pl-8\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Type</label>\n                  <Select value={filters.type || \"all\"} onValueChange={(value) => handleFilterChange(\"type\", value)}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"All types\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All types</SelectItem>\n                      <SelectItem value=\"machine\">Machines</SelectItem>\n                      <SelectItem value=\"tool\">Tools</SelectItem>\n                      <SelectItem value=\"measuring_device\">Measuring Devices</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Status</label>\n                  <Select value={filters.status || \"all\"} onValueChange={(value) => handleFilterChange(\"status\", value)}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"All status\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All status</SelectItem>\n                      <SelectItem value=\"available\">Available</SelectItem>\n                      <SelectItem value=\"in_use\">In Use</SelectItem>\n                      <SelectItem value=\"maintenance\">Maintenance</SelectItem>\n                      <SelectItem value=\"broken\">Broken</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium mb-2 block\">Ownership</label>\n                  <Select value={filters.owned || \"all\"} onValueChange={(value) => handleFilterChange(\"owned\", value)}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"All\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">All</SelectItem>\n                      <SelectItem value=\"true\">Owned</SelectItem>\n                      <SelectItem value=\"false\">Rented</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"flex items-end\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setFilters({ type: \"\", status: \"\", owned: \"\", search: \"\" })}\n                    className=\"w-full\"\n                  >\n                    Clear Filters\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Equipment Table */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Equipment Fleet</CardTitle>\n              <CardDescription>\n                {equipment.length} equipment item{equipment.length !== 1 ? 's' : ''} found\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {equipment.length > 0 ? (\n                <div className=\"rounded-md border\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Equipment</TableHead>\n                        <TableHead>Type</TableHead>\n                        <TableHead>Status</TableHead>\n                        <TableHead>Ownership</TableHead>\n                        <TableHead>Location</TableHead>\n                        <TableHead>Purchase Price</TableHead>\n                        <TableHead>Daily Rate</TableHead>\n                        <TableHead className=\"w-[100px]\">Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {allResources.map((item) => {\n                        const StatusIcon = statusIcons[item.status as keyof typeof statusIcons];\n\n                        return (\n                          <TableRow key={item.id} className=\"hover:bg-muted/50\">\n                            <TableCell>\n                              <div className=\"flex items-center space-x-2\">\n                                {item.resource_type === 'vehicle' ? (\n                                  <Car className=\"h-4 w-4 text-blue-600\" />\n                                ) : (\n                                  <Package className=\"h-4 w-4 text-gray-600\" />\n                                )}\n                                <div>\n                                  <p className=\"font-medium\">{item.name}</p>\n                                  <p className=\"text-sm text-muted-foreground\">\n                                    {item.resource_type === 'vehicle'\n                                      ? `Plate: ${item.plate_number || item.inventory_no || 'No plate'}`\n                                      : (item.inventory_no || 'No inventory number')\n                                    }\n                                  </p>\n                                </div>\n                              </div>\n                            </TableCell>\n                            <TableCell>\n                              <Badge className={typeColors[item.type]}>\n                                {typeLabels[item.type]}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center space-x-2\">\n                                <StatusIcon className=\"h-4 w-4\" />\n                                <Badge className={statusColors[item.status]}>\n                                  {statusLabels[item.status]}\n                                </Badge>\n                              </div>\n                            </TableCell>\n                            <TableCell>\n                              <span className={item.owned ? \"text-green-600 font-medium\" : \"text-orange-600 font-medium\"}>\n                                {item.owned ? \"Owned\" : \"Rented\"}\n                              </span>\n                            </TableCell>\n                            <TableCell>\n                              <span className=\"text-sm\">\n                                {item.current_location || \"Not specified\"}\n                              </span>\n                            </TableCell>\n                            <TableCell>\n                              <span className=\"font-medium\">\n                                {item.purchase_price_eur?.toLocaleString() || '0'}\n                              </span>\n                            </TableCell>\n                            <TableCell>\n                              <span className=\"font-medium\">\n                                {item.rental_price_per_day_eur?.toFixed(2) || '0'}/day\n                              </span>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center gap-2\">\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => {\n                                    if (item.resource_type === 'vehicle') {\n                                      router.push(`/dashboard/vehicles/${item.id}/edit`);\n                                    } else {\n                                      router.push(`/dashboard/equipment/${item.id}/edit`);\n                                    }\n                                  }}\n                                >\n                                  <Edit className=\"h-4 w-4\" />\n                                </Button>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleDeleteEquipment(item.id, item.name)}\n                                  className=\"text-red-600 hover:text-red-700\"\n                                >\n                                  <Trash2 className=\"h-4 w-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <Wrench className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n                  <h3 className=\"mt-4 text-lg font-semibold\">No equipment found</h3>\n                  <p className=\"text-muted-foreground\">\n                    No equipment matches your current filters.\n                  </p>\n                  <Button\n                    className=\"mt-4\"\n                    onClick={() => router.push(\"/dashboard/equipment/new\")}\n                  >\n                    <Plus className=\"mr-2 h-4 w-4\" />\n                    Add First Equipment\n                  </Button>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"assignments\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Active Assignments</p>\n                    <p className=\"text-2xl font-bold\">{assignments?.length || 0}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Resources currently deployed ({assignments?.filter(a => a.assignment_type === 'equipment').length || 0} equipment, {assignments?.filter(a => a.assignment_type === 'vehicle').length || 0} vehicles)\n                    </p>\n                  </div>\n                  <Truck className=\"h-8 w-8 text-blue-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Projects Covered</p>\n                    <p className=\"text-2xl font-bold\">{new Set(assignments?.map(a => a.project_id) || []).size}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Active project sites\n                    </p>\n                  </div>\n                  <Activity className=\"h-8 w-8 text-green-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Avg. Assignment Duration</p>\n                    <p className=\"text-2xl font-bold\">\n                      {analytics?.assignments?.averageDuration ? `${analytics?.assignments?.averageDuration}d` : '0d'}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Current assignments\n                    </p>\n                  </div>\n                  <Clock className=\"h-8 w-8 text-orange-600\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <CardTitle>Current Assignments</CardTitle>\n                  <CardDescription>\n                    Active equipment and vehicle assignments across projects\n                  </CardDescription>\n                </div>\n                <Button\n                  onClick={() => router.push('/dashboard/equipment/assignments/new')}\n                  className=\"flex items-center gap-2\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Create Assignment\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent>\n              {assignments && assignments.length > 0 ? (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Resource</TableHead>\n                        <TableHead>Type</TableHead>\n                        <TableHead>Project</TableHead>\n                        <TableHead>Assigned To</TableHead>\n                        <TableHead>Start Date</TableHead>\n                        <TableHead>Expected Return</TableHead>\n                        <TableHead>Status</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {assignments.map((assignment) => {\n                        const assignedEquipment = equipment.find(eq => eq.id === assignment.equipment_id);\n                        const isVehicle = assignment.assignment_type === 'vehicle';\n                        const resourceIcon = isVehicle ? Car : Wrench;\n                        const ResourceIcon = resourceIcon;\n\n                        return (\n                          <TableRow key={assignment.id}>\n                            <TableCell>\n                              <div className=\"flex items-center space-x-3\">\n                                <div className={`p-2 rounded-full ${isVehicle ? 'bg-blue-100 text-blue-600' : 'bg-orange-100 text-orange-600'}`}>\n                                  <ResourceIcon className=\"h-4 w-4\" />\n                                </div>\n                                <div>\n                                  <div className=\"font-medium\">{assignment.equipment?.name || 'Unknown Resource'}</div>\n                                  <div className=\"text-sm text-muted-foreground\">\n                                    {assignment.equipment?.inventory_no || 'No inventory #'}\n                                  </div>\n                                </div>\n                              </div>\n                            </TableCell>\n                            <TableCell>\n                              <Badge className={`${isVehicle ? 'bg-blue-100 text-blue-800 border-blue-200' : 'bg-orange-100 text-orange-800 border-orange-200'}`}>\n                                <div className=\"flex items-center space-x-1\">\n                                  <ResourceIcon className=\"h-3 w-3\" />\n                                  <span>{isVehicle ? 'Vehicle' : 'Equipment'}</span>\n                                </div>\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"font-medium\">{assignment.project_name || assignment.project_id}</div>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"font-medium\">{assignment.crew_name || 'Unassigned'}</div>\n                            </TableCell>\n                            <TableCell>\n                              {assignment.from_ts ? format(new Date(assignment.from_ts), 'MMM dd, yyyy') : 'N/A'}\n                            </TableCell>\n                            <TableCell>\n                              {assignment.to_ts ? format(new Date(assignment.to_ts), 'MMM dd, yyyy') : 'Open-ended'}\n                            </TableCell>\n                            <TableCell>\n                              <Badge className={`${assignment.is_active ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                                {assignment.is_active ? 'Active' : 'Inactive'}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center gap-2\">\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleEditAssignment(assignment.id)}\n                                >\n                                  <Edit className=\"h-4 w-4\" />\n                                </Button>\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  className=\"text-red-600\"\n                                  onClick={() => handleDeleteAssignment(assignment.id, assignment.equipment?.name || 'Unknown Resource')}\n                                  disabled={deleteAssignmentMutation.isPending}\n                                >\n                                  <XCircle className=\"h-4 w-4\" />\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                    </TableBody>\n                  </Table>\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <Truck className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n                  <h3 className=\"mt-4 text-lg font-semibold\">No active assignments</h3>\n                  <p className=\"text-muted-foreground\">\n                    No equipment is currently assigned to projects.\n                  </p>\n                  <Button\n                    className=\"mt-4\"\n                    onClick={() => router.push(\"/dashboard/equipment/assignments/new\")}\n                  >\n                    <Plus className=\"mr-2 h-4 w-4\" />\n                    Create Assignment\n                  </Button>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"usage\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4 mb-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Total Hours</p>\n                    <p className=\"text-2xl font-bold\">\n                      {analyticsLoading ? '...' : `${analytics?.overview?.totalHours || 0}h`}\n                    </p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Equipment usage hours\n                    </p>\n                  </div>\n                  <Clock className=\"h-8 w-8 text-blue-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Efficiency Score</p>\n                    <p className=\"text-2xl font-bold\">\n                      {analyticsLoading ? '...' : `${analytics?.overview?.efficiencyScore || 0}%`}\n                    </p>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      Based on availability\n                    </p>\n                  </div>\n                  <TrendingUp className=\"h-8 w-8 text-green-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Downtime</p>\n                    <p className=\"text-2xl font-bold\">\n                      {analyticsLoading ? '...' : `${analytics?.overview?.downtimeRate || 0}%`}\n                    </p>\n                    <p className=\"text-xs text-red-600 mt-1\">\n                      Maintenance + Broken\n                    </p>\n                  </div>\n                  <AlertTriangle className=\"h-8 w-8 text-yellow-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Revenue Generated</p>\n                    <p className=\"text-2xl font-bold\">\n                      {analyticsLoading ? '...' : `${(analytics?.overview?.revenueGenerated || 0).toLocaleString()}`}\n                    </p>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      Monthly estimate\n                    </p>\n                  </div>\n                  <BarChart3 className=\"h-8 w-8 text-purple-600\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Equipment Utilization</CardTitle>\n                <CardDescription>Usage hours by equipment type</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <UsageChart data={analytics?.utilization} loading={analyticsLoading} />\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Status Distribution</CardTitle>\n                <CardDescription>Current equipment status breakdown</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <StatusPieChart data={analytics?.statusDistribution} loading={analyticsLoading} />\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Performance Trends</CardTitle>\n              <CardDescription>Monthly equipment performance metrics</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <PerformanceChart />\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"management\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-6\">\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Maintenance Due</p>\n                    <p className=\"text-2xl font-bold text-yellow-600\">{stats.maintenance}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Equipment needs attention\n                    </p>\n                  </div>\n                  <Settings className=\"h-8 w-8 text-yellow-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Out of Service</p>\n                    <p className=\"text-2xl font-bold text-red-600\">{stats.broken}</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Requiring immediate repair\n                    </p>\n                  </div>\n                  <XCircle className=\"h-8 w-8 text-red-600\" />\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Compliance Rate</p>\n                    <p className=\"text-2xl font-bold text-green-600\">\n                      {analytics?.equipment?.totalCount > 0\n                        ? `${Math.round(((analytics?.equipment?.byStatus?.available || 0) + (analytics?.equipment?.byStatus?.in_use || 0)) / analytics?.equipment?.totalCount * 100)}%`\n                        : '0%'}\n                    </p>\n                    <p className=\"text-xs text-green-600 mt-1\">\n                      Operational equipment\n                    </p>\n                  </div>\n                  <CheckCircle className=\"h-8 w-8 text-green-600\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle>Quick Actions</CardTitle>\n                <CardDescription>Common management tasks</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <Button className=\"w-full justify-start\" onClick={() => router.push('/dashboard/equipment/new')}>\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Add New Equipment\n                </Button>\n                <Button variant=\"outline\" className=\"w-full justify-start\">\n                  <Activity className=\"mr-2 h-4 w-4\" />\n                  Schedule Maintenance\n                </Button>\n                <Button variant=\"outline\" className=\"w-full justify-start\">\n                  <BarChart3 className=\"mr-2 h-4 w-4\" />\n                  Generate Report\n                </Button>\n                <Button variant=\"outline\" className=\"w-full justify-start\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  Bulk Operations\n                </Button>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle>Upcoming Maintenance</CardTitle>\n                <CardDescription>Equipment requiring attention</CardDescription>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {equipment.filter(eq => eq.status === 'maintenance').slice(0, 3).map((item) => (\n                    <div key={item.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                      <div>\n                        <div className=\"font-medium\">{item.name}</div>\n                        <div className=\"text-sm text-muted-foreground\">{item.inventory_no}</div>\n                      </div>\n                      <Badge className=\"bg-yellow-100 text-yellow-800\">\n                        {statusLabels[item.status]}\n                      </Badge>\n                    </div>\n                  ))}\n                  {equipment.filter(eq => eq.status === 'maintenance').length === 0 && (\n                    <div className=\"text-center py-6 text-muted-foreground\">\n                      No maintenance scheduled\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Equipment Categories</CardTitle>\n              <CardDescription>Manage equipment by type and category</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                {Object.entries(typeLabels).map(([type, label]) => {\n                  const count = equipment.filter(eq => eq.type === type).length;\n                  const value = equipment.filter(eq => eq.type === type).reduce((sum, eq) => sum + (eq.purchase_price_eur || 0), 0);\n                  return (\n                    <div key={type} className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-medium\">{label}</h4>\n                        <Badge className={typeColors[type]}>{count}</Badge>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground\">Total Value: {value.toLocaleString()}</p>\n                      <div className=\"mt-3 space-x-2\">\n                        <Button size=\"sm\" variant=\"outline\">View All</Button>\n                        <Button size=\"sm\" variant=\"ghost\">Manage</Button>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\n// Chart Components\ninterface UsageChartProps {\n  data?: { name: string; hours: number; revenue: number; assignments: number }[];\n  loading?: boolean;\n}\n\nconst UsageChart = ({ data = [], loading = false }: UsageChartProps) => {\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-[300px]\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!data || data.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-[300px] text-muted-foreground\">\n        <div className=\"text-center\">\n          <Activity className=\"h-8 w-8 mx-auto mb-2\" />\n          <p>No utilization data available</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={300}>\n      <BarChart data={data}>\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip\n          formatter={(value, name) => [\n            name === 'revenue' ? `${value}` : value,\n            name === 'hours' ? 'Hours' : name === 'revenue' ? 'Revenue' : 'Assignments'\n          ]}\n        />\n        <Legend />\n        <Bar dataKey=\"hours\" fill=\"#3b82f6\" name=\"Hours\" />\n        <Bar dataKey=\"revenue\" fill=\"#10b981\" name=\"Revenue ()\" />\n      </BarChart>\n    </ResponsiveContainer>\n  );\n};\n\ninterface StatusPieChartProps {\n  data?: { name: string; value: number; color: string }[];\n  loading?: boolean;\n}\n\nconst StatusPieChart = ({ data = [], loading = false }: StatusPieChartProps) => {\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-[300px]\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (!data || data.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-[300px] text-muted-foreground\">\n        <div className=\"text-center\">\n          <PieChartIcon className=\"h-8 w-8 mx-auto mb-2\" />\n          <p>No status data available</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <ResponsiveContainer width=\"100%\" height={300}>\n      <PieChart>\n        <Pie\n          data={data}\n          cx=\"50%\"\n          cy=\"50%\"\n          labelLine={false}\n          label={({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`}\n          outerRadius={80}\n          fill=\"#8884d8\"\n          dataKey=\"value\"\n        >\n          {data.map((entry, index) => (\n            <Cell key={`cell-${index}`} fill={entry.color} />\n          ))}\n        </Pie>\n        <Tooltip />\n      </PieChart>\n    </ResponsiveContainer>\n  );\n};\n\ninterface PerformanceChartProps {\n  data?: { month: string; utilization: number; efficiency: number; downtime: number }[];\n  loading?: boolean;\n}\n\nconst PerformanceChart = ({ data, loading = false }: PerformanceChartProps) => {\n  // Show message that historical data is not available yet\n  const performanceData = data || [];\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-[400px]\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  if (performanceData.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-[400px] border-2 border-dashed border-gray-300 rounded-lg\">\n        <div className=\"text-center\">\n          <BarChart3 className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <p className=\"text-lg font-medium text-gray-500 mb-2\">No Performance Data Available</p>\n          <p className=\"text-sm text-gray-400\">Historical performance tracking will be available once equipment assignments are active.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <ResponsiveContainer width=\"100%\" height={400}>\n        <LineChart data={performanceData}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"month\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Line type=\"monotone\" dataKey=\"utilization\" stroke=\"#3b82f6\" name=\"Utilization %\" strokeWidth={2} />\n          <Line type=\"monotone\" dataKey=\"efficiency\" stroke=\"#10b981\" name=\"Efficiency %\" strokeWidth={2} />\n          <Line type=\"monotone\" dataKey=\"downtime\" stroke=\"#ef4444\" name=\"Downtime %\" strokeWidth={2} />\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};"],"names":[],"mappings":"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","debugId":null}}]
}