{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-projects.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport {\n  projectsApi,\n  type Project,\n  type ProjectFilters,\n  type CreateProjectRequest,\n  type UpdateProjectRequest,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const projectKeys = {\n  all: [\"projects\"] as const,\n  lists: () => [...projectKeys.all, \"list\"] as const,\n  list: (filters: ProjectFilters) => [...projectKeys.lists(), filters] as const,\n  details: () => [...projectKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...projectKeys.details(), id] as const,\n};\n\n// Hooks\nexport function useProjects(filters?: ProjectFilters) {\n  return useQuery({\n    queryKey: projectKeys.list(filters || {}),\n    queryFn: () => projectsApi.getProjects(filters),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useProject(id: string) {\n  return useQuery({\n    queryKey: projectKeys.detail(id),\n    queryFn: () => projectsApi.getProject(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useCreateProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateProjectRequest) => projectsApi.createProject(data),\n    onSuccess: (newProject) => {\n      // Invalidate and refetch projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n\n      // Add the new project to the cache\n      queryClient.setQueryData(projectKeys.detail(newProject.id), newProject);\n\n      toast.success(\"Project created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create project: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: UpdateProjectRequest }) =>\n      projectsApi.updateProject(id, data),\n    onMutate: async ({ id, data }) => {\n      // Cancel any outgoing refetches\n      await queryClient.cancelQueries({ queryKey: projectKeys.detail(id) });\n\n      // Snapshot the previous value\n      const previousProject = queryClient.getQueryData(projectKeys.detail(id));\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(projectKeys.detail(id), (old: Project | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      // Return a context object with the snapshotted value\n      return { previousProject };\n    },\n    onError: (error, { id }, context) => {\n      // If the mutation fails, use the context returned from onMutate to roll back\n      if (context?.previousProject) {\n        queryClient.setQueryData(projectKeys.detail(id), context.previousProject);\n      }\n      toast.error(`Failed to update project: ${error.message}`);\n    },\n    onSuccess: (updatedProject) => {\n      // Invalidate and refetch projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n      toast.success(\"Project updated successfully\");\n    },\n    onSettled: (data, error, { id }) => {\n      // Always refetch after error or success\n      queryClient.invalidateQueries({ queryKey: projectKeys.detail(id) });\n    },\n  });\n}\n\nexport function useDeleteProject() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => projectsApi.deleteProject(id),\n    onSuccess: (_, deletedId) => {\n      // Remove from cache\n      queryClient.removeQueries({ queryKey: projectKeys.detail(deletedId) });\n\n      // Invalidate projects list\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n\n      toast.success(\"Project deleted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete project: ${error.message}`);\n    },\n  });\n}\n\n// Optimistic mutations for better UX\nexport function useOptimisticProjectUpdate() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<Project> }) =>\n      projectsApi.updateProject(id, data),\n    onMutate: async ({ id, data }) => {\n      await queryClient.cancelQueries({ queryKey: projectKeys.detail(id) });\n\n      const previousProject = queryClient.getQueryData(projectKeys.detail(id));\n\n      queryClient.setQueryData(projectKeys.detail(id), (old: Project | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      // Also update in lists if present\n      queryClient.setQueriesData(\n        { queryKey: projectKeys.lists() },\n        (old: PaginatedResponse<Project> | undefined) => {\n          if (!old) return old;\n\n          return {\n            ...old,\n            items: old.items.map((project) =>\n              project.id === id ? { ...project, ...data } : project\n            ),\n          };\n        }\n      );\n\n      return { previousProject };\n    },\n    onError: (error, { id }, context) => {\n      if (context?.previousProject) {\n        queryClient.setQueryData(projectKeys.detail(id), context.previousProject);\n      }\n      // Invalidate lists to revert optimistic updates\n      queryClient.invalidateQueries({ queryKey: projectKeys.lists() });\n      toast.error(`Failed to update project: ${error.message}`);\n    },\n    onSuccess: () => {\n      toast.success(\"Project updated successfully\");\n    },\n  });\n}\n\n// Project statistics hook\nexport interface ProjectStats {\n  progress: {\n    totalLength: number;\n    completedLength: number;\n    progressPercentage: number;\n    workEntries: number;\n    pendingApprovals: number;\n    teamMembers: number;\n    materialsCount: number;\n  };\n  phase: {\n    currentPhase: number;\n    totalPhases: number;\n    phaseName: string;\n    phaseProgress: number;\n  };\n  financial: {\n    projectBudget: number;\n    totalSpent: number;\n    spentPercentage: number;\n    remainingBudget: number;\n  };\n}\n\nexport function useProjectStats(projectId: string) {\n  return useQuery({\n    queryKey: [...projectKeys.detail(projectId), \"stats\"],\n    queryFn: async (): Promise<ProjectStats> => {\n      const response = await fetch(`/api/projects/${projectId}/stats`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch project statistics');\n      }\n      return response.json();\n    },\n    staleTime: 2 * 60 * 1000, // 2 minutes - stats change more frequently\n    enabled: !!projectId,\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/hooks/use-users.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { toast } from \"sonner\";\nimport {\n  usersApi,\n  type User,\n  type PaginatedResponse,\n} from \"@/lib/api-client\";\n\n// Query keys\nexport const userKeys = {\n  all: [\"users\"] as const,\n  lists: () => [...userKeys.all, \"list\"] as const,\n  list: (filters: any) => [...userKeys.lists(), filters] as const,\n  details: () => [...userKeys.all, \"detail\"] as const,\n  detail: (id: string) => [...userKeys.details(), id] as const,\n};\n\n// Hooks\nexport function useUsers(filters?: { role?: string; page?: number; per_page?: number }) {\n  return useQuery({\n    queryKey: userKeys.list(filters || {}),\n    queryFn: () => usersApi.getUsers(filters),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nexport function useUser(id: string) {\n  return useQuery({\n    queryKey: userKeys.detail(id),\n    queryFn: () => usersApi.getUser(id),\n    enabled: !!id,\n    staleTime: 5 * 60 * 1000,\n  });\n}\n\nexport function useCreateUser() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: Partial<User>) => usersApi.createUser(data),\n    onSuccess: (newUser) => {\n      // Invalidate and refetch users list\n      queryClient.invalidateQueries({ queryKey: userKeys.lists() });\n\n      // Add the new user to the cache\n      queryClient.setQueryData(userKeys.detail(newUser.id), newUser);\n\n      toast.success(\"User created successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to create user: ${error.message}`);\n    },\n  });\n}\n\nexport function useUpdateUser() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: ({ id, data }: { id: string; data: Partial<User> }) =>\n      usersApi.updateUser(id, data),\n    onMutate: async ({ id, data }) => {\n      // Cancel any outgoing refetches\n      await queryClient.cancelQueries({ queryKey: userKeys.detail(id) });\n\n      // Snapshot the previous value\n      const previousUser = queryClient.getQueryData(userKeys.detail(id));\n\n      // Optimistically update to the new value\n      queryClient.setQueryData(userKeys.detail(id), (old: User | undefined) => {\n        if (!old) return old;\n        return { ...old, ...data };\n      });\n\n      // Return a context object with the snapshotted value\n      return { previousUser };\n    },\n    onError: (error, { id }, context) => {\n      // If the mutation fails, use the context returned from onMutate to roll back\n      if (context?.previousUser) {\n        queryClient.setQueryData(userKeys.detail(id), context.previousUser);\n      }\n      toast.error(`Failed to update user: ${error.message}`);\n    },\n    onSuccess: () => {\n      // Invalidate and refetch users list\n      queryClient.invalidateQueries({ queryKey: userKeys.lists() });\n      toast.success(\"User updated successfully\");\n    },\n    onSettled: (data, error, { id }) => {\n      // Always refetch after error or success\n      queryClient.invalidateQueries({ queryKey: userKeys.detail(id) });\n    },\n  });\n}\n\nexport function useDeleteUser() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (id: string) => usersApi.deleteUser(id),\n    onSuccess: (_, deletedId) => {\n      // Remove from cache\n      queryClient.removeQueries({ queryKey: userKeys.detail(deletedId) });\n\n      // Invalidate users list\n      queryClient.invalidateQueries({ queryKey: userKeys.lists() });\n\n      toast.success(\"User deleted successfully\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to delete user: ${error.message}`);\n    },\n  });\n}\n\n// Specialized hooks for common use cases\nexport function useWorkers() {\n  return useUsers({\n    role: \"crew,worker,foreman\",\n    page: 1,\n    per_page: 100,\n  });\n}\n\nexport function useForemen() {\n  return useUsers({\n    role: \"foreman\",\n    page: 1,\n    per_page: 50,\n  });\n}\n\nexport function useProjectManagers() {\n  return useUsers({\n    role: \"pm\",\n    page: 1,\n    per_page: 50,\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/lib/auth.ts"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport { getStoredUser, getStoredToken } from \"@/hooks/use-auth\";\nimport type { AuthUser } from \"@/types\";\n\n// Auth validation utilities\nexport function validateAuth(): AuthUser | null {\n  if (typeof window === \"undefined\") return null;\n\n  const token = getStoredToken();\n  const user = getStoredUser();\n\n  if (!token || !user) return null;\n\n  // For now, just check if token exists\n  // TODO: Implement proper token validation\n  return user;\n}\n\n// Server-side auth check for pages\nexport function requireAuth(): never | void {\n  const user = validateAuth();\n\n  if (!user) {\n    redirect('/login');\n  }\n}\n\n// Role-based access control\nexport function requireRole(allowedRoles: string[]): never | void {\n  const user = validateAuth();\n\n  if (!user) {\n    redirect('/login');\n  }\n\n  if (!allowedRoles.includes(user.role)) {\n    redirect('/dashboard'); // Redirect to dashboard if no permission\n  }\n}\n\n// Permission-based access control\nexport function requirePermission(permission: string): never | void {\n  const user = validateAuth();\n\n  if (!user) {\n    redirect('/login');\n  }\n\n  if (!user.permissions?.includes(permission)) {\n    redirect('/dashboard');\n  }\n}\n\n// Auth utilities for components\nexport function useAuthGuard() {\n  return {\n    requireAuth,\n    requireRole,\n    requirePermission,\n    validateAuth,\n  };\n}\n\n// Quick role checks\nexport const roleChecks = {\n  isAdmin: (user: AuthUser) => user.role === 'admin',\n  isProjectManager: (user: AuthUser) => user.role === 'pm',\n  isForeman: (user: AuthUser) => user.role === 'foreman',\n  isWorker: (user: AuthUser) => ['crew', 'worker'].includes(user.role),\n  isViewer: (user: AuthUser) => user.role === 'viewer',\n\n  // Combined checks\n  canManageProjects: (user: AuthUser) => ['admin', 'pm'].includes(user.role),\n  canApproveWork: (user: AuthUser) => ['admin', 'pm', 'foreman'].includes(user.role),\n  canCreateWork: (user: AuthUser) => ['admin', 'pm', 'foreman', 'crew', 'worker'].includes(user.role),\n  canViewReports: (user: AuthUser) => ['admin', 'pm', 'viewer'].includes(user.role),\n};"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAIO,SAAS;IACd,wCAAmC,OAAO;;;IAE1C,MAAM;IACN,MAAM;AAOR;AAGO,SAAS;IACd,MAAM,OAAO;IAEb,IAAI,CAAC,MAAM;QACT,IAAA,8IAAQ,EAAC;IACX;AACF;AAGO,SAAS,YAAY,YAAsB;IAChD,MAAM,OAAO;IAEb,IAAI,CAAC,MAAM;QACT,IAAA,8IAAQ,EAAC;IACX;IAEA,IAAI,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;QACrC,IAAA,8IAAQ,EAAC,eAAe,yCAAyC;IACnE;AACF;AAGO,SAAS,kBAAkB,UAAkB;IAClD,MAAM,OAAO;IAEb,IAAI,CAAC,MAAM;QACT,IAAA,8IAAQ,EAAC;IACX;IAEA,IAAI,CAAC,KAAK,WAAW,EAAE,SAAS,aAAa;QAC3C,IAAA,8IAAQ,EAAC;IACX;AACF;AAGO,SAAS;IACd,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;AAGO,MAAM,aAAa;IACxB,SAAS,CAAC,OAAmB,KAAK,IAAI,KAAK;IAC3C,kBAAkB,CAAC,OAAmB,KAAK,IAAI,KAAK;IACpD,WAAW,CAAC,OAAmB,KAAK,IAAI,KAAK;IAC7C,UAAU,CAAC,OAAmB;YAAC;YAAQ;SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI;IACnE,UAAU,CAAC,OAAmB,KAAK,IAAI,KAAK;IAE5C,kBAAkB;IAClB,mBAAmB,CAAC,OAAmB;YAAC;YAAS;SAAK,CAAC,QAAQ,CAAC,KAAK,IAAI;IACzE,gBAAgB,CAAC,OAAmB;YAAC;YAAS;YAAM;SAAU,CAAC,QAAQ,CAAC,KAAK,IAAI;IACjF,eAAe,CAAC,OAAmB;YAAC;YAAS;YAAM;YAAW;YAAQ;SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI;IAClG,gBAAgB,CAAC,OAAmB;YAAC;YAAS;YAAM;SAAS,CAAC,QAAQ,CAAC,KAAK,IAAI;AAClF","debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/T7/cometa/cometa-separated-projects/cometa-frontend-nextjs/src/app/%28dashboard%29/dashboard/projects/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { CalendarIcon, ArrowLeft, Save, Building2 } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\n\nimport { useCreateProject } from \"@/hooks/use-projects\";\nimport { useProjectManagers } from \"@/hooks/use-users\";\nimport { requireAuth } from \"@/lib/auth\";\nimport type { CreateProjectRequest, Language } from \"@/types\";\n\n// Validation schema\nconst createProjectSchema = z.object({\n  name: z.string().min(1, \"Project name is required\").max(255, \"Project name too long\"),\n  customer: z.string().optional(),\n  city: z.string().optional(),\n  address: z.string().optional(),\n  contact_24h: z.string().optional(),\n  start_date: z.string().optional(),\n  end_date_plan: z.string().optional(),\n  total_length_m: z.coerce.number().min(0, \"Length must be positive\"),\n  base_rate_per_m: z.coerce.number().min(0, \"Rate must be positive\"),\n  language_default: z.enum([\"ru\", \"en\", \"de\", \"uz\", \"tr\"]),\n  pm_user_id: z.string().optional(),\n});\n\ntype CreateProjectFormData = z.infer<typeof createProjectSchema>;\n\nexport default function NewProjectPage() {\n  // Require authentication\n  requireAuth();\n\n  const router = useRouter();\n  const createProject = useCreateProject();\n  const { data: projectManagers, isLoading: isLoadingPMs } = useProjectManagers();\n\n  const form = useForm<CreateProjectFormData>({\n    resolver: zodResolver(createProjectSchema),\n    defaultValues: {\n      name: \"\",\n      customer: \"\",\n      city: \"\",\n      address: \"\",\n      contact_24h: \"\",\n      start_date: \"\",\n      end_date_plan: \"\",\n      total_length_m: 0,\n      base_rate_per_m: 15.5, // Default rate\n      language_default: \"de\", // Default to German\n      pm_user_id: \"none\",\n    },\n  });\n\n  const onSubmit = async (data: CreateProjectFormData) => {\n    try {\n      const projectData: CreateProjectRequest = {\n        ...data,\n        start_date: data.start_date || undefined,\n        end_date_plan: data.end_date_plan || undefined,\n        pm_user_id: data.pm_user_id === \"none\" || !data.pm_user_id ? undefined : data.pm_user_id,\n      };\n\n      const newProject = await createProject.mutateAsync(projectData);\n      router.push(`/dashboard/projects/${newProject.id}`);\n    } catch (error) {\n      // Error is handled by the mutation\n      console.error(\"Failed to create project:\", error);\n    }\n  };\n\n  const languages: { value: Language; label: string }[] = [\n    { value: \"de\", label: \"German (Deutsch)\" },\n    { value: \"en\", label: \"English\" },\n    { value: \"ru\", label: \"Russian (Русский)\" },\n    { value: \"uz\", label: \"Uzbek (Oʻzbek)\" },\n    { value: \"tr\", label: \"Turkish (Türkçe)\" },\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => router.back()}\n            className=\"flex items-center space-x-2\"\n          >\n            <ArrowLeft className=\"h-4 w-4\" />\n            <span>Back</span>\n          </Button>\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight\">Create New Project</h1>\n            <p className=\"text-muted-foreground\">\n              Set up a new fiber optic construction project\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Form */}\n      <div className=\"max-w-2xl\">\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n            {/* Basic Information */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <Building2 className=\"h-5 w-5\" />\n                  <span>Basic Information</span>\n                </CardTitle>\n                <CardDescription>\n                  Enter the fundamental details about the project\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <FormField\n                  control={form.control}\n                  name=\"name\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Project Name *</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., Fiber Installation Berlin District 1\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        A clear, descriptive name for the project\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"customer\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Customer</FormLabel>\n                        <FormControl>\n                          <Input\n                            placeholder=\"e.g., Deutsche Telekom\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"city\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>City</FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"e.g., Berlin\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                <FormField\n                  control={form.control}\n                  name=\"address\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Project Address</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., Hauptstraße 123, 10115 Berlin\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Primary address or area where the work will be performed\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"contact_24h\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>24h Emergency Contact</FormLabel>\n                      <FormControl>\n                        <Input\n                          placeholder=\"e.g., +49 30 12345678\"\n                          {...field}\n                        />\n                      </FormControl>\n                      <FormDescription>\n                        Contact number for emergencies during the project\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"language_default\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Default Language</FormLabel>\n                      <Select onValueChange={field.onChange} defaultValue={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select project language\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          {languages.map((lang) => (\n                            <SelectItem key={lang.value} value={lang.value}>\n                              {lang.label}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                      <FormDescription>\n                        Primary language used for project documentation and interface\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"pm_user_id\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Project Manager</FormLabel>\n                      <Select onValueChange={field.onChange} value={field.value}>\n                        <FormControl>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Select project manager (optional)\" />\n                          </SelectTrigger>\n                        </FormControl>\n                        <SelectContent>\n                          <SelectItem value=\"none\">No project manager assigned</SelectItem>\n                          {isLoadingPMs ? (\n                            <SelectItem value=\"loading\" disabled>\n                              Loading project managers...\n                            </SelectItem>\n                          ) : (\n                            projectManagers?.items?.map((pm) => (\n                              <SelectItem key={pm.id} value={pm.id}>\n                                {pm.first_name} {pm.last_name} ({pm.email})\n                              </SelectItem>\n                            ))\n                          )}\n                        </SelectContent>\n                      </Select>\n                      <FormDescription>\n                        Choose a project manager to oversee this project\n                      </FormDescription>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </CardContent>\n            </Card>\n\n            {/* Project Scope */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Project Scope</CardTitle>\n                <CardDescription>\n                  Define the scope and financial parameters of the project\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"total_length_m\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Total Length (meters) *</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            placeholder=\"e.g., 1500\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormDescription>\n                          Total length of fiber cable to be installed\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"base_rate_per_m\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Rate per Meter (€) *</FormLabel>\n                        <FormControl>\n                          <Input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0\"\n                            placeholder=\"e.g., 15.50\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormDescription>\n                          Base rate charged per meter of installation\n                        </FormDescription>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Calculated Total */}\n                <div className=\"rounded-md bg-muted p-4\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"font-medium\">Estimated Project Value:</span>\n                    <span className=\"text-lg font-bold\">\n                      €{(form.watch(\"total_length_m\") * form.watch(\"base_rate_per_m\")).toLocaleString(\"de-DE\", {\n                        minimumFractionDigits: 2,\n                        maximumFractionDigits: 2,\n                      })}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground mt-1\">\n                    {form.watch(\"total_length_m\")} meters × €{form.watch(\"base_rate_per_m\")} per meter\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Timeline */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  <CalendarIcon className=\"h-5 w-5\" />\n                  <span>Project Timeline</span>\n                </CardTitle>\n                <CardDescription>\n                  Set the planned start and end dates (optional)\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"start_date\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Planned Start Date</FormLabel>\n                        <FormControl>\n                          <Input type=\"date\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"end_date_plan\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Planned End Date</FormLabel>\n                        <FormControl>\n                          <Input type=\"date\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Actions */}\n            <div className=\"flex justify-end space-x-4\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => router.back()}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={createProject.isPending}\n                className=\"flex items-center space-x-2\"\n              >\n                {createProject.isPending ? (\n                  <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent\" />\n                ) : (\n                  <Save className=\"h-4 w-4\" />\n                )}\n                <span>Create Project</span>\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}